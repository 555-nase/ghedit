{"version":3,"file":"vs/editor/contrib/quickFix/browser/lightBulpWidget.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/editor/contrib/quickFix/browser/lightBulpWidget.ts"],"names":[],"mappings":";IAAA;;;oGAGgG;IAChG,YAAY,CAAC;IAQb;QAYC,yBAAY,MAAmB,EAAE,OAAiC;YAHlE,4CAA4C;YACrC,wBAAmB,GAAG,IAAI,CAAC;YAGjC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC;QAEM,iCAAO,GAAd;YACC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,SAAS,GAAG,mBAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1C,CAAC;QAEM,+BAAK,GAAZ;YACC,MAAM,CAAC,mBAAmB,CAAC;QAC5B,CAAC;QAEM,oCAAU,GAAjB;YAAA,iBAYC;YAXA,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC7C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gBAClC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;gBACnC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,iBAAiB,CAAC;gBAC3C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,EAAC,UAAC,CAAC;oBACrE,KAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;oBACpB,KAAI,CAAC,OAAO,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;gBAC7B,CAAC,CAAC,CAAC,CAAC;YACL,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACrB,CAAC;QAEM,qCAAW,GAAlB;YACC,MAAM,CAAC,IAAI,CAAC,OAAO;kBAChB,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,UAAU,EAAE,CAAC,+CAA+B,CAAC,KAAK,EAAE,+CAA+B,CAAC,KAAK,CAAC,EAAE;kBACvH,IAAI,CAAC;QACT,CAAC;QAEM,8BAAI,GAAX,UAAY,KAAe;YAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,mBAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC3D,MAAM,CAAC;YACR,CAAC;YAED,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YAEtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC;QAEM,8BAAI,GAAX;YACC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACnB,MAAM,CAAC;YACR,CAAC;YAED,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC;QACF,sBAAC;IAAD,CAAC,AAnED,IAmEC;IAnEY,uBAAe,kBAmE3B,CAAA","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport {IDisposable, dispose} from 'vs/base/common/lifecycle';\nimport * as dom from 'vs/base/browser/dom';\nimport {IPosition} from 'vs/editor/common/editorCommon';\nimport {Position} from 'vs/editor/common/core/position';\nimport {ContentWidgetPositionPreference, ICodeEditor, IContentWidget, IContentWidgetPosition} from 'vs/editor/browser/editorBrowser';\n\nexport class LightBulpWidget implements IContentWidget, IDisposable {\n\n\tprivate editor: ICodeEditor;\n\tprivate position: IPosition;\n\tprivate domNode: HTMLElement;\n\tprivate visible: boolean;\n\tprivate onclick: (pos: IPosition) => void;\n\tprivate toDispose:IDisposable[];\n\n\t// Editor.IContentWidget.allowEditorOverflow\n\tpublic allowEditorOverflow = true;\n\n\tconstructor(editor: ICodeEditor, onclick: (pos: IPosition) => void) {\n\t\tthis.editor = editor;\n\t\tthis.onclick = onclick;\n\t\tthis.toDispose = [];\n\t\tthis.editor.addContentWidget(this);\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.editor.removeContentWidget(this);\n\t\tthis.toDispose = dispose(this.toDispose);\n\t}\n\n\tpublic getId(): string {\n\t\treturn '__lightBulpWidget';\n\t}\n\n\tpublic getDomNode(): HTMLElement {\n\t\tif (!this.domNode) {\n\t\t\tthis.domNode = document.createElement('div');\n\t\t\tthis.domNode.style.width = '20px';\n\t\t\tthis.domNode.style.height = '20px';\n\t\t\tthis.domNode.className = 'lightbulp-glyph';\n\t\t\tthis.toDispose.push(dom.addDisposableListener(this.domNode, 'click',(e) => {\n\t\t\t\tthis.editor.focus();\n\t\t\t\tthis.onclick(this.position);\n\t\t\t}));\n\t\t}\n\t\treturn this.domNode;\n\t}\n\n\tpublic getPosition(): IContentWidgetPosition {\n\t\treturn this.visible\n\t\t\t? { position: this.position, preference: [ContentWidgetPositionPreference.BELOW, ContentWidgetPositionPreference.ABOVE] }\n\t\t\t: null;\n\t}\n\n\tpublic show(where:IPosition): void {\n\t\tif (this.visible && Position.equals(this.position, where)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.position = where;\n\n\t\tthis.visible = true;\n\t\tthis.editor.layoutContentWidget(this);\n\t}\n\n\tpublic hide(): void {\n\t\tif (!this.visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.visible = false;\n\t\tthis.editor.layoutContentWidget(this);\n\t}\n}\n\n"]}