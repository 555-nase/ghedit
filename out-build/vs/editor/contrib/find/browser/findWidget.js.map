{"version":3,"sources":["vs/editor/contrib/find/browser/findWidget.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;IAEhG,YAAY,CAAC;IAwBb,IAAM,oBAAoB,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAY,EAAE,IAAM,CAAC,CAAC;IAChE,IAAM,0BAA0B,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAkB,EAAE,IAAM,CAAC,CAAC;IAC5E,IAAM,4BAA4B,GAAG,GAAG,CAAC,QAAQ,CAAC,CAA2B,EAAE,IAAgB,CAAC,CAAC;IACjG,IAAM,wBAAwB,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAuB,EAAE,IAAY,CAAC,CAAC;IACrF,IAAM,+BAA+B,GAAG,GAAG,CAAC,QAAQ,CAAC,CAA2B,EAAE,IAAmB,CAAC,CAAC;IACvG,IAAM,mBAAmB,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAmB,EAAE,IAAO,CAAC,CAAC;IACvE,IAAM,uBAAuB,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAe,EAAE,IAAS,CAAC,CAAC;IACzE,IAAM,6BAA6B,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAqB,EAAE,IAAS,CAAC,CAAC;IACrF,IAAM,qBAAqB,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAqB,EAAE,IAAS,CAAC,CAAC;IAC7E,IAAM,yBAAyB,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAwB,EAAE,IAAa,CAAC,CAAC;IACxF,IAAM,iCAAiC,GAAG,GAAG,CAAC,QAAQ,CAAC,EAA2B,EAAE,IAAqB,CAAC,CAAC;IAC3G,IAAM,6BAA6B,GAAG,GAAG,CAAC,QAAQ,CAAC,EAAyB,EAAE,IAA8F,CAAC,CAAC;IAC9K,IAAM,oBAAoB,GAAG,GAAG,CAAC,QAAQ,CAAC,EAAuB,EAAE,IAAY,CAAC,CAAC;IACjF,IAAM,cAAc,GAAG,GAAG,CAAC,QAAQ,CAAC,EAAiB,EAAE,IAAY,CAAC,CAAC;IAErE;QAAgC,8BAAM;QA+BrC,oBACC,UAAuB,EACvB,UAA2B,EAC3B,KAAuB,EACvB,mBAAyC,EACzC,iBAAqC;YApCvC,iBAkhBC;YA5eC,iBAAO,CAAC;YACR,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;YAC9B,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;YAC9B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,oBAAoB,GAAG,mBAAmB,CAAC;YAChD,IAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAC;YAE5C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAE/B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAvB,CAAuB,CAAC,CAAC,CAAC;YAE9E,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,cAAc,EAAE,CAAC;YAEtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;YAC1F,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,cAAM,OAAA,KAAI,CAAC,gBAAgB,EAAE,EAAvB,CAAuB,CAAC,CAAC;YAElE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,wBAAS,CAAC,oBAAoB,EAAE,UAAC,CAA4B;gBACzG,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAChB,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAClD,gDAAgD;wBAChD,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,iBAAiB,EAAE,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;oBACzD,CAAC;oBACD,KAAI,CAAC,cAAc,EAAE,CAAC;gBACvB,CAAC;YACF,CAAC,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,wBAAS,CAAC,sBAAsB,EAAE;gBAC9E,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBACrB,KAAI,CAAC,gCAAgC,EAAE,CAAC;gBACzC,CAAC;YACF,CAAC,CAAC,CAAC,CAAC;YAEJ,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACzC,CAAC;QAEO,qCAAgB,GAAxB;YACC,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;YAChD,EAAE,CAAC,CAAC,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;gBAC3D,oBAAoB;gBACpB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC;YACtD,CAAC;QACF,CAAC;QAED,2BAA2B;QAEpB,0BAAK,GAAZ;YACC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC;QACtB,CAAC;QAEM,+BAAU,GAAjB;YACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACtB,CAAC;QAEM,gCAAW,GAAlB;YACC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACrB,MAAM,CAAC;oBACN,UAAU,EAAE,+CAA+B,CAAC,gBAAgB;iBAC5D,CAAC;YACH,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAED,+BAA+B;QAEvB,oCAAe,GAAvB,UAAwB,CAA8B;YACrD,EAAE,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBACnD,IAAI,CAAC,cAAc,EAAE,CAAC;YACvB,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;YACzD,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBAClB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACpB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACP,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAClB,CAAC;YACF,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBACnC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;wBAC9E,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;wBAC9B,IAAI,CAAC,cAAc,EAAE,CAAC;oBACvB,CAAC;gBACF,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACP,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;wBAC5B,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;wBAC/B,IAAI,CAAC,cAAc,EAAE,CAAC;oBACvB,CAAC;gBACF,CAAC;YACF,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACf,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAC/C,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACtD,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACzD,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACnB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;oBAC7B,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,IAAI,CAAC;gBAC1C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACP,IAAI,CAAC,oBAAoB,CAAC,OAAO,GAAG,KAAK,CAAC;gBAC3C,CAAC;gBACD,IAAI,CAAC,gCAAgC,EAAE,CAAC;YACzC,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC3D,IAAI,cAAc,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,CAAC,CAAC,CAAC;gBAC7F,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;gBAE7D,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC5B,CAAC;QACF,CAAC;QAEO,wCAAmB,GAA3B;YACC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,IAAI,yBAAa,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,6BAA6B,CAAC;YAC1D,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;YAC/B,CAAC;YAED,0BAA0B;YAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;YAC/D,CAAC;YAED,IAAI,KAAa,CAAC;YAClB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClC,IAAI,YAAY,GAAU,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBAC3D,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,IAAI,yBAAa,CAAC,CAAC,CAAC;oBAC/C,YAAY,IAAI,GAAG,CAAC;gBACrB,CAAC;gBACD,IAAI,eAAe,GAAU,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;gBACjE,EAAE,CAAC,CAAC,eAAe,KAAK,GAAG,CAAC,CAAC,CAAC;oBAC7B,eAAe,GAAG,GAAG,CAAC;gBACvB,CAAC;gBACD,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,oBAAoB,EAAE,eAAe,EAAE,YAAY,CAAC,CAAC;YAC7E,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,KAAK,GAAG,cAAc,CAAC;YACxB,CAAC;YACD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;QAChE,CAAC;QAED,gBAAgB;QAEhB;;;WAGG;QACK,qDAAgC,GAAxC;YACC,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;YAChD,IAAI,oBAAoB,GAAG,SAAS,GAAG,CAAC,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC;YACvG,IAAI,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC;YAElD,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,SAAS,IAAI,oBAAoB,CAAC,CAAC,CAAC;QAC9F,CAAC;QAEO,mCAAc,GAAtB;YACC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC5C,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAC5E,IAAI,CAAC,gCAAgC,EAAE,CAAC;YACxC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAE3C,IAAI,mBAAmB,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAChE,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,mBAAmB,CAAC,CAAC;YACjE,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,mBAAmB,CAAC,CAAC;YACjE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,iBAAiB,IAAI,mBAAmB,CAAC,CAAC;YAC9F,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,iBAAiB,IAAI,mBAAmB,CAAC,CAAC;YAEjG,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,gBAAgB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACzE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACxE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACrE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAE3D,IAAI,UAAU,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC;YAC/D,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,UAAU,CAAC,CAAC;QAClE,CAAC;QAEO,4BAAO,GAAf,UAAgB,OAAe;YAA/B,iBAiBC;YAhBA,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBAEvB,IAAI,CAAC,cAAc,EAAE,CAAC;gBAEtB,UAAU,CAAC;oBACV,GAAG,CAAC,QAAQ,CAAC,KAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;oBACvC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBACd,GAAG,CAAC,QAAQ,CAAC,KAAI,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;wBAC3C,UAAU,CAAC;4BACV,GAAG,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;wBAC/C,CAAC,EAAE,GAAG,CAAC,CAAC;oBACT,CAAC;gBACF,CAAC,EAAE,CAAC,CAAC,CAAC;gBACN,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC5C,CAAC;QACF,CAAC;QAEO,0BAAK,GAAb,UAAc,cAAsB;YACnC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBAExB,IAAI,CAAC,cAAc,EAAE,CAAC;gBAEtB,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;gBAC1C,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;gBAC1B,CAAC;gBACD,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC5C,CAAC;QACF,CAAC;QAED,eAAe;QAER,mCAAc,GAArB;YACC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;YACzB,wDAAwD;YACxD,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACzB,CAAC;QAEM,sCAAiB,GAAxB;YACC,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;YAC/B,wDAAwD;YACxD,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAC/B,CAAC;QAEO,wCAAmB,GAA3B,UAA4B,CAAgB;YAE3C,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;gBAC1B,KAAK,4BAAiB,CAAC,KAAK;oBAC3B,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,oBAAQ,CAAC,mBAAmB,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,0BAAiB,CAAC,CAAC;oBAC7F,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;gBAER,KAAK,4BAAiB,CAAC,WAAW;oBACjC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,oBAAQ,CAAC,uBAAuB,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,0BAAiB,CAAC,CAAC;oBACjG,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;gBAER,KAAK,4BAAiB,CAAC,GAAG;oBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;wBAC5B,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;oBAC/B,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;oBACxC,CAAC;oBACD,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;gBAER,KAAK,4BAAiB,CAAC,kBAAkB;oBACxC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;oBACzB,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;YACT,CAAC;QACF,CAAC;QAEO,2CAAsB,GAA9B,UAA+B,CAAgB;YAE9C,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;gBAC1B,KAAK,4BAAiB,CAAC,KAAK;oBAC3B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;oBAC3B,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;gBAER,KAAK,4BAAiB,CAAC,aAAa;oBACnC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;oBAC9B,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;gBAER,KAAK,4BAAiB,CAAC,GAAG;oBACzB,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;oBACvC,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;gBAER,KAAK,4BAAiB,CAAC,SAAS;oBAC/B,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;oBACxB,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;gBAER,KAAK,4BAAiB,CAAC,kBAAkB;oBACxC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;oBACzB,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;YACT,CAAC;QACF,CAAC;QAED,uBAAuB;QAEf,wCAAmB,GAA3B,UAA4B,QAAe;YAC1C,IAAI,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YACtE,EAAE,CAAC,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC9B,MAAM,CAAC,EAAE,CAAC;YACX,CAAC;YACD,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QACzE,CAAC;QAEO,mCAAc,GAAtB;YAAA,iBAkHC;YAjHA,aAAa;YACb,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,qBAAS,CAAC,IAAI,EAAE,IAAI,CAAC,oBAAoB,EAAE;gBAC/E,KAAK,EAAE,UAAU,CAAC,qBAAqB;gBACvC,KAAK,EAAE,oBAAoB;gBAC3B,WAAW,EAAE,0BAA0B;gBACvC,wBAAwB,EAAE,IAAI,CAAC,mBAAmB,CAAC,oBAAQ,CAAC,0BAA0B,CAAC;gBACvF,qBAAqB,EAAE,IAAI,CAAC,mBAAmB,CAAC,oBAAQ,CAAC,sBAAsB,CAAC;gBAChF,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,CAAC,oBAAQ,CAAC,kBAAkB,CAAC;gBACvE,UAAU,EAAE,UAAC,KAAY;oBACxB,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;wBACxB,MAAM,CAAC,IAAI,CAAC;oBACb,CAAC;oBACD,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;wBACjC,MAAM,CAAC,IAAI,CAAC;oBACb,CAAC;oBACD,IAAI,CAAC;wBACJ,yCAAyC;wBACzC,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;wBAClB,wCAAwC;wBACxC,MAAM,CAAC,IAAI,CAAC;oBACb,CAAE;oBAAA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACZ,MAAM,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;oBAC/B,CAAC;gBACF,CAAC;aACD,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAA3B,CAA2B,CAAC,CAAC,CAAC;YAC9E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBACtC,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,YAAY,EAAE,KAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;YACxE,CAAC,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC;gBAChD,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC;oBAClB,OAAO,EAAE,KAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;oBACnC,SAAS,EAAE,KAAI,CAAC,UAAU,CAAC,aAAa,EAAE;oBAC1C,SAAS,EAAE,KAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;iBAC7C,EAAE,IAAI,CAAC,CAAC;YACV,CAAC,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,UAAC,CAAC;gBACvD,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,4BAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC3C,EAAE,CAAC,CAAC,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;wBAC5B,KAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;wBAC9B,CAAC,CAAC,cAAc,EAAE,CAAC;oBACpB,CAAC;gBACF,CAAC;YACF,CAAC,CAAC,CAAC,CAAC;YAEJ,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACnD,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,cAAc,CAAC;YAC9C,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAE3B,kBAAkB;YAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;gBAC/C,KAAK,EAAE,4BAA4B,GAAG,IAAI,CAAC,mBAAmB,CAAC,oBAAQ,CAAC,uBAAuB,CAAC;gBAChG,SAAS,EAAE,UAAU;gBACrB,SAAS,EAAE;oBACV,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,oBAAQ,CAAC,uBAAuB,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,0BAAiB,CAAC,CAAC;gBAClG,CAAC;gBACD,SAAS,EAAE,UAAC,CAAC,IAAM,CAAC;aACpB,CAAC,CAAC,CAAC;YAEJ,cAAc;YACd,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;gBAC/C,KAAK,EAAE,wBAAwB,GAAG,IAAI,CAAC,mBAAmB,CAAC,oBAAQ,CAAC,mBAAmB,CAAC;gBACxF,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE;oBACV,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,oBAAQ,CAAC,mBAAmB,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,0BAAiB,CAAC,CAAC;gBAC9F,CAAC;gBACD,SAAS,EAAE,UAAC,CAAC,IAAM,CAAC;aACpB,CAAC,CAAC,CAAC;YAEJ,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC7C,QAAQ,CAAC,SAAS,GAAG,WAAW,CAAC;YACjC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YAC9C,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACzC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC5C,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAE5C,0BAA0B;YAC1B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,cAAc,CAAC;gBAC7D,MAAM,EAAE,QAAQ;gBAChB,KAAK,EAAE,+BAA+B;gBACtC,QAAQ,EAAE;oBACT,EAAE,CAAC,CAAC,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC;wBACvC,KAAI,CAAC,gBAAgB,EAAE,CAAC;oBACzB,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;oBACjD,CAAC;gBACF,CAAC;aACD,CAAC,CAAC,CAAC;YAEJ,eAAe;YACf,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;gBAChD,KAAK,EAAE,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,oBAAQ,CAAC,sBAAsB,CAAC;gBACtF,SAAS,EAAE,UAAU;gBACrB,SAAS,EAAE;oBACV,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;gBAClD,CAAC;gBACD,SAAS,EAAE,UAAC,CAAC;oBACZ,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,4BAAiB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;wBACrC,EAAE,CAAC,CAAC,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;4BAC5B,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gCAClC,KAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;4BAC1B,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACP,KAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;4BAC1B,CAAC;4BACD,CAAC,CAAC,cAAc,EAAE,CAAC;wBACpB,CAAC;oBACF,CAAC;gBACF,CAAC;aACD,CAAC,CAAC,CAAC;YAEJ,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YAE7C,MAAM,CAAC,QAAQ,CAAC;QACjB,CAAC;QAEO,sCAAiB,GAAzB;YAAA,iBA+CC;YA9CA,gBAAgB;YAChB,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACjD,YAAY,CAAC,SAAS,GAAG,eAAe,CAAC;YACzC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,wBAAwB,GAAG,IAAI,CAAC;YACtE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,mBAAQ,CAAC,YAAY,EAAE,IAAI,EAAE;gBACvE,SAAS,EAAE,uBAAuB;gBAClC,WAAW,EAAE,6BAA6B;aAC1C,CAAC,CAAC,CAAC;YAEJ,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,6BAA6B,CAAC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,SAAS,EAAE,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,EAA9B,CAA8B,CAAC,CAAC,CAAC;YACxI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,6BAA6B,CAAC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,OAAO,EAAE,UAAC,CAAC;gBAC/F,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,aAAa,EAAE,KAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;YAC3E,CAAC,CAAC,CAAC,CAAC;YAEJ,qBAAqB;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;gBAClD,KAAK,EAAE,qBAAqB,GAAG,IAAI,CAAC,mBAAmB,CAAC,oBAAQ,CAAC,gBAAgB,CAAC;gBAClF,SAAS,EAAE,SAAS;gBACpB,SAAS,EAAE;oBACV,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;gBAC5B,CAAC;gBACD,SAAS,EAAE,UAAC,CAAC;oBACZ,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,4BAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wBAC3C,KAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;wBACvB,CAAC,CAAC,cAAc,EAAE,CAAC;oBACpB,CAAC;gBACF,CAAC;aACD,CAAC,CAAC,CAAC;YAEJ,qBAAqB;YACrB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;gBACrD,KAAK,EAAE,yBAAyB,GAAG,IAAI,CAAC,mBAAmB,CAAC,oBAAQ,CAAC,gBAAgB,CAAC;gBACtF,SAAS,EAAE,aAAa;gBACxB,SAAS,EAAE;oBACV,KAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;gBAC/B,CAAC;gBACD,SAAS,EAAE,UAAC,CAAC,IAAM,CAAC;aACpB,CAAC,CAAC,CAAC;YAEJ,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,WAAW,CAAC,SAAS,GAAG,cAAc,CAAC;YACvC,WAAW,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACtC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAClD,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YAErD,MAAM,CAAC,WAAW,CAAC;QACpB,CAAC;QAEO,kCAAa,GAArB;YAAA,iBA4BC;YA3BA,YAAY;YACZ,IAAI,QAAQ,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YAErC,eAAe;YACf,IAAI,WAAW,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAE3C,wBAAwB;YACxB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC;gBACxD,KAAK,EAAE,iCAAiC;gBACxC,SAAS,EAAE,aAAa;gBACxB,SAAS,EAAE;oBACV,KAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,iBAAiB,EAAE,CAAC,KAAI,CAAC,iBAAiB,EAAE,EAAE,IAAI,CAAC,CAAC;gBAC1E,CAAC;gBACD,SAAS,EAAE,UAAC,CAAC,IAAM,CAAC;aACpB,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACrE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACxE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAE3D,SAAS;YACT,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,2BAA2B,CAAC;YACtD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;YAEnD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;YAC1D,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QACxC,CAAC;QA/gBc,aAAE,GAAG,2BAA2B,CAAC;QACjC,qBAAU,GAAG,GAAG,CAAC;QACjB,gCAAqB,GAAG,UAAU,CAAC,UAAU,GAAG,EAAE,CAAC;QACnD,mCAAwB,GAAG,UAAU,CAAC,qBAAqB,CAAC;QA6gB5E,iBAAC;IAAD,CAlhBA,AAkhBC,CAlhB+B,eAAM,GAkhBrC;IAlhBY,kBAAU,aAkhBtB,CAAA;IAQD;QAA6B,kCAAM;QASlC,wBAAY,IAAwB;YATrC,iBAoEC;YA1DC,iBAAO,CAAC;YACR,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAElB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,iBAAiB,CAAC;YAC5C,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YAEvC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACjD,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,CAAC;YACtC,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,WAAW,GAAG,cAAc,CAAC,QAAQ,EAAE,CAAC;YAE5D,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAC9C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC;YAChC,iGAAiG;YACjG,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;YAExC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAEvC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAE7C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,UAAC,CAAC;gBAC/B,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;QACJ,CAAC;QAED,sBAAW,mCAAO;iBAAlB;gBACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;;;WAAA;QAED,sBAAW,mCAAO;iBAAlB;gBACC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YAC/B,CAAC;iBAED,UAAmB,QAAgB;gBAClC,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,QAAQ,CAAC;YACnC,CAAC;;;WAJA;QAMM,8BAAK,GAAZ;YACC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACxB,CAAC;QAEO,+BAAM,GAAd;YACC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;QAC5C,CAAC;QAEO,gCAAO,GAAf;YACC,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;QAChC,CAAC;QAEM,mCAAU,GAAjB,UAAkB,OAAe;YAChC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,MAAM,EAAE,CAAC;YACf,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,IAAI,CAAC,OAAO,EAAE,CAAC;YAChB,CAAC;QACF,CAAC;QAjEc,uBAAQ,GAAG,CAAC,CAAC;QAkE7B,qBAAC;IAAD,CApEA,AAoEC,CApE4B,eAAM,GAoElC;IASD;QAA2B,gCAAM;QAKhC,sBAAY,IAAsB;YALnC,iBAuDC;YAjDC,iBAAO,CAAC;YACR,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAElB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YACvC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;YAC3B,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YAC3D,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAC7C,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAE3D,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAC,CAAC;gBAC7B,KAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;gBACvB,CAAC,CAAC,cAAc,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAC,CAAC;gBAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,4BAAiB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,4BAAiB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC5E,KAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;oBACvB,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,CAAC;gBACR,CAAC;gBACD,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC;QACJ,CAAC;QAED,sBAAW,iCAAO;iBAAlB;gBACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;;;WAAA;QAEM,gCAAS,GAAhB;YACC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,CAAC,CAAC,CAAC;QACtC,CAAC;QAEM,4BAAK,GAAZ;YACC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACvB,CAAC;QAEM,iCAAU,GAAjB,UAAkB,OAAe;YAChC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,EAAE,CAAC,OAAO,CAAC,CAAC;YACrD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC3C,CAAC;QAEM,kCAAW,GAAlB,UAAmB,QAAgB;YAClC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC/D,CAAC;QAEM,kCAAW,GAAlB,UAAmB,SAAgB,EAAE,YAAoB;YACxD,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,YAAY,CAAC,CAAC;QACzD,CAAC;QACF,mBAAC;IAAD,CAvDA,AAuDC,CAvD0B,eAAM,GAuDhC","file":"vs/editor/contrib/find/browser/findWidget.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport 'vs/css!./findWidget';\nimport * as nls from 'vs/nls';\nimport {onUnexpectedError} from 'vs/base/common/errors';\nimport {CommonKeybindings} from 'vs/base/common/keyCodes';\nimport * as strings from 'vs/base/common/strings';\nimport * as dom from 'vs/base/browser/dom';\nimport {IKeyboardEvent} from 'vs/base/browser/keyboardEvent';\nimport {IContextViewProvider} from 'vs/base/browser/ui/contextview/contextview';\nimport {FindInput} from 'vs/base/browser/ui/findinput/findInput';\nimport {IMessage as InputBoxMessage, InputBox} from 'vs/base/browser/ui/inputbox/inputBox';\nimport {Widget} from 'vs/base/browser/ui/widget';\nimport {IKeybindingService} from 'vs/platform/keybinding/common/keybindingService';\nimport {EventType, IConfigurationChangedEvent} from 'vs/editor/common/editorCommon';\nimport {ICodeEditor, IOverlayWidget, IOverlayWidgetPosition, OverlayWidgetPositionPreference} from 'vs/editor/browser/editorBrowser';\nimport {FIND_IDS, MATCHES_LIMIT} from 'vs/editor/contrib/find/common/findModel';\nimport {FindReplaceState, FindReplaceStateChangedEvent} from 'vs/editor/contrib/find/common/findState';\n\nexport interface IFindController {\n\treplace(): void;\n\treplaceAll(): void;\n}\n\nconst NLS_FIND_INPUT_LABEL = nls.localize('label.find', \"Find\");\nconst NLS_FIND_INPUT_PLACEHOLDER = nls.localize('placeholder.find', \"Find\");\nconst NLS_PREVIOUS_MATCH_BTN_LABEL = nls.localize('label.previousMatchButton', \"Previous match\");\nconst NLS_NEXT_MATCH_BTN_LABEL = nls.localize('label.nextMatchButton', \"Next match\");\nconst NLS_TOGGLE_SELECTION_FIND_TITLE = nls.localize('label.toggleSelectionFind', \"Find in selection\");\nconst NLS_CLOSE_BTN_LABEL = nls.localize('label.closeButton', \"Close\");\nconst NLS_REPLACE_INPUT_LABEL = nls.localize('label.replace', \"Replace\");\nconst NLS_REPLACE_INPUT_PLACEHOLDER = nls.localize('placeholder.replace', \"Replace\");\nconst NLS_REPLACE_BTN_LABEL = nls.localize('label.replaceButton', \"Replace\");\nconst NLS_REPLACE_ALL_BTN_LABEL = nls.localize('label.replaceAllButton', \"Replace All\");\nconst NLS_TOGGLE_REPLACE_MODE_BTN_LABEL = nls.localize('label.toggleReplaceButton', \"Toggle Replace mode\");\nconst NLS_MATCHES_COUNT_LIMIT_TITLE = nls.localize('title.matchesCountLimit', \"Only the first 999 results are highlighted, but all find operations work on the entire text.\");\nconst NLS_MATCHES_LOCATION = nls.localize('label.matchesLocation', \"{0} of {1}\");\nconst NLS_NO_RESULTS = nls.localize('label.noResults', \"No results\");\n\nexport class FindWidget extends Widget implements IOverlayWidget {\n\n\tprivate static ID = 'editor.contrib.findWidget';\n\tprivate static PART_WIDTH = 275;\n\tprivate static FIND_INPUT_AREA_WIDTH = FindWidget.PART_WIDTH - 54;\n\tprivate static REPLACE_INPUT_AREA_WIDTH = FindWidget.FIND_INPUT_AREA_WIDTH;\n\n\tprivate _codeEditor: ICodeEditor;\n\tprivate _state: FindReplaceState;\n\tprivate _controller: IFindController;\n\tprivate _contextViewProvider: IContextViewProvider;\n\tprivate _keybindingService: IKeybindingService;\n\n\tprivate _domNode: HTMLElement;\n\tprivate _findInput: FindInput;\n\tprivate _replaceInputBox: InputBox;\n\n\tprivate _toggleReplaceBtn: SimpleButton;\n\tprivate _matchesCount: HTMLElement;\n\tprivate _prevBtn: SimpleButton;\n\tprivate _nextBtn: SimpleButton;\n\tprivate _toggleSelectionFind: SimpleCheckbox;\n\tprivate _closeBtn: SimpleButton;\n\tprivate _replaceBtn: SimpleButton;\n\tprivate _replaceAllBtn: SimpleButton;\n\n\tprivate _isVisible: boolean;\n\tprivate _isReplaceVisible: boolean;\n\n\tprivate focusTracker: dom.IFocusTracker;\n\n\tconstructor(\n\t\tcodeEditor: ICodeEditor,\n\t\tcontroller: IFindController,\n\t\tstate: FindReplaceState,\n\t\tcontextViewProvider: IContextViewProvider,\n\t\tkeybindingService: IKeybindingService\n\t) {\n\t\tsuper();\n\t\tthis._codeEditor = codeEditor;\n\t\tthis._controller = controller;\n\t\tthis._state = state;\n\t\tthis._contextViewProvider = contextViewProvider;\n\t\tthis._keybindingService = keybindingService;\n\n\t\tthis._isVisible = false;\n\t\tthis._isReplaceVisible = false;\n\n\t\tthis._register(this._state.addChangeListener((e) => this._onStateChanged(e)));\n\n\t\tthis._buildDomNode();\n\t\tthis._updateButtons();\n\n\t\tthis.focusTracker = this._register(dom.trackFocus(this._findInput.inputBox.inputElement));\n\t\tthis.focusTracker.addFocusListener(() => this._reseedFindScope());\n\n\t\tthis._register(this._codeEditor.addListener2(EventType.ConfigurationChanged, (e:IConfigurationChangedEvent) => {\n\t\t\tif (e.readOnly) {\n\t\t\t\tif (this._codeEditor.getConfiguration().readOnly) {\n\t\t\t\t\t// Hide replace part if editor becomes read only\n\t\t\t\t\tthis._state.change({ isReplaceRevealed: false }, false);\n\t\t\t\t}\n\t\t\t\tthis._updateButtons();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._codeEditor.addListener2(EventType.CursorSelectionChanged, () => {\n\t\t\tif (this._isVisible) {\n\t\t\t\tthis._updateToggleSelectionFindButton();\n\t\t\t}\n\t\t}));\n\n\t\tthis._codeEditor.addOverlayWidget(this);\n\t}\n\n\tprivate _reseedFindScope(): void {\n\t\tlet selection = this._codeEditor.getSelection();\n\t\tif (selection.startLineNumber !== selection.endLineNumber) {\n\t\t\t// Reseed find scope\n\t\t\tthis._state.change({ searchScope: selection }, true);\n\t\t}\n\t}\n\n\t// ----- IOverlayWidget API\n\n\tpublic getId(): string {\n\t\treturn FindWidget.ID;\n\t}\n\n\tpublic getDomNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n\n\tpublic getPosition(): IOverlayWidgetPosition {\n\t\tif (this._isVisible) {\n\t\t\treturn {\n\t\t\t\tpreference: OverlayWidgetPositionPreference.TOP_RIGHT_CORNER\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\t// ----- React to state changes\n\n\tprivate _onStateChanged(e:FindReplaceStateChangedEvent): void {\n\t\tif (e.searchString) {\n\t\t\tthis._findInput.setValue(this._state.searchString);\n\t\t\tthis._updateButtons();\n\t\t}\n\t\tif (e.replaceString) {\n\t\t\tthis._replaceInputBox.value = this._state.replaceString;\n\t\t}\n\t\tif (e.isRevealed) {\n\t\t\tif (this._state.isRevealed) {\n\t\t\t\tthis._reveal(true);\n\t\t\t} else {\n\t\t\t\tthis._hide(true);\n\t\t\t}\n\t\t}\n\t\tif (e.isReplaceRevealed) {\n\t\t\tif (this._state.isReplaceRevealed) {\n\t\t\t\tif (!this._codeEditor.getConfiguration().readOnly && !this._isReplaceVisible) {\n\t\t\t\t\tthis._isReplaceVisible = true;\n\t\t\t\t\tthis._updateButtons();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._isReplaceVisible) {\n\t\t\t\t\tthis._isReplaceVisible = false;\n\t\t\t\t\tthis._updateButtons();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (e.isRegex) {\n\t\t\tthis._findInput.setRegex(this._state.isRegex);\n\t\t}\n\t\tif (e.wholeWord) {\n\t\t\tthis._findInput.setWholeWords(this._state.wholeWord);\n\t\t}\n\t\tif (e.matchCase) {\n\t\t\tthis._findInput.setCaseSensitive(this._state.matchCase);\n\t\t}\n\t\tif (e.searchScope) {\n\t\t\tif (this._state.searchScope) {\n\t\t\t\tthis._toggleSelectionFind.checked = true;\n\t\t\t} else {\n\t\t\t\tthis._toggleSelectionFind.checked = false;\n\t\t\t}\n\t\t\tthis._updateToggleSelectionFindButton();\n\t\t}\n\t\tif (e.searchString || e.matchesCount || e.matchesPosition) {\n\t\t\tlet showRedOutline = (this._state.searchString.length > 0 && this._state.matchesCount === 0);\n\t\t\tdom.toggleClass(this._domNode, 'no-results', showRedOutline);\n\n\t\t\tthis._updateMatchesCount();\n\t\t}\n\t}\n\n\tprivate _updateMatchesCount(): void {\n\t\tif (this._state.matchesCount >= MATCHES_LIMIT) {\n\t\t\tthis._matchesCount.title = NLS_MATCHES_COUNT_LIMIT_TITLE;\n\t\t} else {\n\t\t\tthis._matchesCount.title = '';\n\t\t}\n\n\t\t// remove previous content\n\t\tif (this._matchesCount.firstChild) {\n\t\t\tthis._matchesCount.removeChild(this._matchesCount.firstChild);\n\t\t}\n\n\t\tlet label: string;\n\t\tif (this._state.matchesCount > 0) {\n\t\t\tlet matchesCount:string = String(this._state.matchesCount);\n\t\t\tif (this._state.matchesCount >= MATCHES_LIMIT) {\n\t\t\t\tmatchesCount += '+';\n\t\t\t}\n\t\t\tlet matchesPosition:string = String(this._state.matchesPosition);\n\t\t\tif (matchesPosition === '0') {\n\t\t\t\tmatchesPosition = '?';\n\t\t\t}\n\t\t\tlabel = strings.format(NLS_MATCHES_LOCATION, matchesPosition, matchesCount);\n\t\t} else {\n\t\t\tlabel = NLS_NO_RESULTS;\n\t\t}\n\t\tthis._matchesCount.appendChild(document.createTextNode(label));\n\t}\n\n\t// ----- actions\n\n\t/**\n\t * If 'selection find' is ON we should not disable the button (its function is to cancel 'selection find').\n\t * If 'selection find' is OFF we enable the button only if there is a multi line selection.\n\t */\n\tprivate _updateToggleSelectionFindButton(): void {\n\t\tlet selection = this._codeEditor.getSelection();\n\t\tlet isMultiLineSelection = selection ? (selection.startLineNumber !== selection.endLineNumber) : false;\n\t\tlet isChecked = this._toggleSelectionFind.checked;\n\n\t\tthis._toggleSelectionFind.setEnabled(this._isVisible && (isChecked || isMultiLineSelection));\n\t}\n\n\tprivate _updateButtons(): void {\n\t\tthis._findInput.setEnabled(this._isVisible);\n\t\tthis._replaceInputBox.setEnabled(this._isVisible && this._isReplaceVisible);\n\t\tthis._updateToggleSelectionFindButton();\n\t\tthis._closeBtn.setEnabled(this._isVisible);\n\n\t\tlet findInputIsNonEmpty = (this._state.searchString.length > 0);\n\t\tthis._prevBtn.setEnabled(this._isVisible && findInputIsNonEmpty);\n\t\tthis._nextBtn.setEnabled(this._isVisible && findInputIsNonEmpty);\n\t\tthis._replaceBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n\t\tthis._replaceAllBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n\n\t\tdom.toggleClass(this._domNode, 'replaceToggled', this._isReplaceVisible);\n\t\tthis._toggleReplaceBtn.toggleClass('collapse', !this._isReplaceVisible);\n\t\tthis._toggleReplaceBtn.toggleClass('expand', this._isReplaceVisible);\n\t\tthis._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n\n\t\tlet canReplace = !this._codeEditor.getConfiguration().readOnly;\n\t\tthis._toggleReplaceBtn.setEnabled(this._isVisible && canReplace);\n\t}\n\n\tprivate _reveal(animate:boolean): void {\n\t\tif (!this._isVisible) {\n\t\t\tthis._isVisible = true;\n\n\t\t\tthis._updateButtons();\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tdom.addClass(this._domNode, 'visible');\n\t\t\t\tif (!animate) {\n\t\t\t\t\tdom.addClass(this._domNode, 'noanimation');\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tdom.removeClass(this._domNode, 'noanimation');\n\t\t\t\t\t}, 200);\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t\tthis._codeEditor.layoutOverlayWidget(this);\n\t\t}\n\t}\n\n\tprivate _hide(focusTheEditor:boolean): void {\n\t\tif (this._isVisible) {\n\t\t\tthis._isVisible = false;\n\n\t\t\tthis._updateButtons();\n\n\t\t\tdom.removeClass(this._domNode, 'visible');\n\t\t\tif (focusTheEditor) {\n\t\t\t\tthis._codeEditor.focus();\n\t\t\t}\n\t\t\tthis._codeEditor.layoutOverlayWidget(this);\n\t\t}\n\t}\n\n\t// ----- Public\n\n\tpublic focusFindInput(): void {\n\t\tthis._findInput.select();\n\t\t// Edge browser requires focus() in addition to select()\n\t\tthis._findInput.focus();\n\t}\n\n\tpublic focusReplaceInput(): void {\n\t\tthis._replaceInputBox.select();\n\t\t// Edge browser requires focus() in addition to select()\n\t\tthis._replaceInputBox.focus();\n\t}\n\n\tprivate _onFindInputKeyDown(e:IKeyboardEvent): void {\n\n\t\tswitch (e.asKeybinding()) {\n\t\t\tcase CommonKeybindings.ENTER:\n\t\t\t\tthis._codeEditor.getAction(FIND_IDS.NextMatchFindAction).run().done(null, onUnexpectedError);\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\n\t\t\tcase CommonKeybindings.SHIFT_ENTER:\n\t\t\t\tthis._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction).run().done(null, onUnexpectedError);\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\n\t\t\tcase CommonKeybindings.TAB:\n\t\t\t\tif (this._isReplaceVisible) {\n\t\t\t\t\tthis._replaceInputBox.focus();\n\t\t\t\t} else {\n\t\t\t\t\tthis._findInput.focusOnCaseSensitive();\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\n\t\t\tcase CommonKeybindings.CTRLCMD_DOWN_ARROW:\n\t\t\t\tthis._codeEditor.focus();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tprivate _onReplaceInputKeyDown(e:IKeyboardEvent): void {\n\n\t\tswitch (e.asKeybinding()) {\n\t\t\tcase CommonKeybindings.ENTER:\n\t\t\t\tthis._controller.replace();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\n\t\t\tcase CommonKeybindings.CTRLCMD_ENTER:\n\t\t\t\tthis._controller.replaceAll();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\n\t\t\tcase CommonKeybindings.TAB:\n\t\t\t\tthis._findInput.focusOnCaseSensitive();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\n\t\t\tcase CommonKeybindings.SHIFT_TAB:\n\t\t\t\tthis._findInput.focus();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\n\t\t\tcase CommonKeybindings.CTRLCMD_DOWN_ARROW:\n\t\t\t\tthis._codeEditor.focus();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\t// ----- initialization\n\n\tprivate _keybindingLabelFor(actionId:string): string {\n\t\tlet keybindings = this._keybindingService.lookupKeybindings(actionId);\n\t\tif (keybindings.length === 0) {\n\t\t\treturn '';\n\t\t}\n\t\treturn ' (' + this._keybindingService.getLabelFor(keybindings[0]) + ')';\n\t}\n\n\tprivate _buildFindPart(): HTMLElement {\n\t\t// Find input\n\t\tthis._findInput = this._register(new FindInput(null, this._contextViewProvider, {\n\t\t\twidth: FindWidget.FIND_INPUT_AREA_WIDTH,\n\t\t\tlabel: NLS_FIND_INPUT_LABEL,\n\t\t\tplaceholder: NLS_FIND_INPUT_PLACEHOLDER,\n\t\t\tappendCaseSensitiveLabel: this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\n\t\t\tappendWholeWordsLabel: this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\n\t\t\tappendRegexLabel: this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\n\t\t\tvalidation: (value:string): InputBoxMessage => {\n\t\t\t\tif (value.length === 0) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (!this._findInput.getRegex()) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\t/* tslint:disable:no-unused-expression */\n\t\t\t\t\tnew RegExp(value);\n\t\t\t\t\t/* tslint:enable:no-unused-expression */\n\t\t\t\t\treturn null;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn { content: e.message };\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._findInput.onKeyDown((e) => this._onFindInputKeyDown(e)));\n\t\tthis._register(this._findInput.onInput(() => {\n\t\t\tthis._state.change({ searchString: this._findInput.getValue() }, true);\n\t\t}));\n\t\tthis._register(this._findInput.onDidOptionChange(() => {\n\t\t\tthis._state.change({\n\t\t\t\tisRegex: this._findInput.getRegex(),\n\t\t\t\twholeWord: this._findInput.getWholeWords(),\n\t\t\t\tmatchCase: this._findInput.getCaseSensitive()\n\t\t\t}, true);\n\t\t}));\n\t\tthis._register(this._findInput.onCaseSensitiveKeyDown((e) => {\n\t\t\tif (e.equals(CommonKeybindings.SHIFT_TAB)) {\n\t\t\t\tif (this._isReplaceVisible) {\n\t\t\t\t\tthis._replaceInputBox.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._matchesCount = document.createElement('div');\n\t\tthis._matchesCount.className = 'matchesCount';\n\t\tthis._updateMatchesCount();\n\n\t\t// Previous button\n\t\tthis._prevBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_PREVIOUS_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.PreviousMatchFindAction),\n\t\t\tclassName: 'previous',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction).run().done(null, onUnexpectedError);\n\t\t\t},\n\t\t\tonKeyDown: (e) => {}\n\t\t}));\n\n\t\t// Next button\n\t\tthis._nextBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_NEXT_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.NextMatchFindAction),\n\t\t\tclassName: 'next',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._codeEditor.getAction(FIND_IDS.NextMatchFindAction).run().done(null, onUnexpectedError);\n\t\t\t},\n\t\t\tonKeyDown: (e) => {}\n\t\t}));\n\n\t\tlet findPart = document.createElement('div');\n\t\tfindPart.className = 'find-part';\n\t\tfindPart.appendChild(this._findInput.domNode);\n\t\tfindPart.appendChild(this._matchesCount);\n\t\tfindPart.appendChild(this._prevBtn.domNode);\n\t\tfindPart.appendChild(this._nextBtn.domNode);\n\n\t\t// Toggle selection button\n\t\tthis._toggleSelectionFind = this._register(new SimpleCheckbox({\n\t\t\tparent: findPart,\n\t\t\ttitle: NLS_TOGGLE_SELECTION_FIND_TITLE,\n\t\t\tonChange: () => {\n\t\t\t\tif (this._toggleSelectionFind.checked) {\n\t\t\t\t\tthis._reseedFindScope();\n\t\t\t\t} else {\n\t\t\t\t\tthis._state.change({ searchScope: null }, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\t// Close button\n\t\tthis._closeBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_CLOSE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.CloseFindWidgetCommand),\n\t\t\tclassName: 'close-fw',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._state.change({ isRevealed: false }, false);\n\t\t\t},\n\t\t\tonKeyDown: (e) => {\n\t\t\t\tif (e.equals(CommonKeybindings.TAB)) {\n\t\t\t\t\tif (this._isReplaceVisible) {\n\t\t\t\t\t\tif (this._replaceBtn.isEnabled()) {\n\t\t\t\t\t\t\tthis._replaceBtn.focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._codeEditor.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tfindPart.appendChild(this._closeBtn.domNode);\n\n\t\treturn findPart;\n\t}\n\n\tprivate _buildReplacePart(): HTMLElement {\n\t\t// Replace input\n\t\tlet replaceInput = document.createElement('div');\n\t\treplaceInput.className = 'replace-input';\n\t\treplaceInput.style.width = FindWidget.REPLACE_INPUT_AREA_WIDTH + 'px';\n\t\tthis._replaceInputBox = this._register(new InputBox(replaceInput, null, {\n\t\t\tariaLabel: NLS_REPLACE_INPUT_LABEL,\n\t\t\tplaceholder: NLS_REPLACE_INPUT_PLACEHOLDER\n\t\t}));\n\n\t\tthis._register(dom.addStandardDisposableListener(this._replaceInputBox.inputElement, 'keydown', (e) => this._onReplaceInputKeyDown(e)));\n\t\tthis._register(dom.addStandardDisposableListener(this._replaceInputBox.inputElement, 'input', (e) => {\n\t\t\tthis._state.change({ replaceString: this._replaceInputBox.value }, false);\n\t\t}));\n\n\t\t// Replace one button\n\t\tthis._replaceBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_REPLACE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceOneAction),\n\t\t\tclassName: 'replace',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._controller.replace();\n\t\t\t},\n\t\t\tonKeyDown: (e) => {\n\t\t\t\tif (e.equals(CommonKeybindings.SHIFT_TAB)) {\n\t\t\t\t\tthis._closeBtn.focus();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\t// Replace all button\n\t\tthis._replaceAllBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_REPLACE_ALL_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceAllAction),\n\t\t\tclassName: 'replace-all',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._controller.replaceAll();\n\t\t\t},\n\t\t\tonKeyDown: (e) => {}\n\t\t}));\n\n\t\tlet replacePart = document.createElement('div');\n\t\treplacePart.className = 'replace-part';\n\t\treplacePart.appendChild(replaceInput);\n\t\treplacePart.appendChild(this._replaceBtn.domNode);\n\t\treplacePart.appendChild(this._replaceAllBtn.domNode);\n\n\t\treturn replacePart;\n\t}\n\n\tprivate _buildDomNode(): void {\n\t\t// Find part\n\t\tlet findPart = this._buildFindPart();\n\n\t\t// Replace part\n\t\tlet replacePart = this._buildReplacePart();\n\n\t\t// Toggle replace button\n\t\tthis._toggleReplaceBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,\n\t\t\tclassName: 'toggle left',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis._state.change({ isReplaceRevealed: !this._isReplaceVisible }, true);\n\t\t\t},\n\t\t\tonKeyDown: (e) => {}\n\t\t}));\n\t\tthis._toggleReplaceBtn.toggleClass('expand', this._isReplaceVisible);\n\t\tthis._toggleReplaceBtn.toggleClass('collapse', !this._isReplaceVisible);\n\t\tthis._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n\n\t\t// Widget\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.className = 'editor-widget find-widget';\n\t\tthis._domNode.setAttribute('aria-hidden', 'false');\n\n\t\tthis._domNode.appendChild(this._toggleReplaceBtn.domNode);\n\t\tthis._domNode.appendChild(findPart);\n\t\tthis._domNode.appendChild(replacePart);\n\t}\n}\n\ninterface ISimpleCheckboxOpts {\n\tparent: HTMLElement;\n\ttitle: string;\n\tonChange: () => void;\n}\n\nclass SimpleCheckbox extends Widget {\n\n\tprivate static _COUNTER = 0;\n\n\tprivate _opts: ISimpleCheckboxOpts;\n\tprivate _domNode: HTMLElement;\n\tprivate _checkbox: HTMLInputElement;\n\tprivate _label: HTMLLabelElement;\n\n\tconstructor(opts:ISimpleCheckboxOpts) {\n\t\tsuper();\n\t\tthis._opts = opts;\n\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.className = 'monaco-checkbox';\n\t\tthis._domNode.title = this._opts.title;\n\n\t\tthis._checkbox = document.createElement('input');\n\t\tthis._checkbox.type = 'checkbox';\n\t\tthis._checkbox.className = 'checkbox';\n\t\tthis._checkbox.id = 'checkbox-' + SimpleCheckbox._COUNTER++;\n\n\t\tthis._label = document.createElement('label');\n\t\tthis._label.className = 'label';\n\t\t// Connect the label and the checkbox. Checkbox will get checked when the label recieves a click.\n\t\tthis._label.htmlFor = this._checkbox.id;\n\n\t\tthis._domNode.appendChild(this._checkbox);\n\t\tthis._domNode.appendChild(this._label);\n\n\t\tthis._opts.parent.appendChild(this._domNode);\n\n\t\tthis.onchange(this._checkbox, (e) => {\n\t\t\tthis._opts.onChange();\n\t\t});\n\t}\n\n\tpublic get domNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n\n\tpublic get checked(): boolean {\n\t\treturn this._checkbox.checked;\n\t}\n\n\tpublic set checked(newValue:boolean) {\n\t\tthis._checkbox.checked = newValue;\n\t}\n\n\tpublic focus(): void {\n\t\tthis._checkbox.focus();\n\t}\n\n\tprivate enable(): void {\n\t\tthis._checkbox.removeAttribute('disabled');\n\t}\n\n\tprivate disable(): void {\n\t\tthis._checkbox.disabled = true;\n\t}\n\n\tpublic setEnabled(enabled:boolean): void {\n\t\tif (enabled) {\n\t\t\tthis.enable();\n\t\t} else {\n\t\t\tthis.disable();\n\t\t}\n\t}\n}\n\ninterface ISimpleButtonOpts {\n\tlabel: string;\n\tclassName: string;\n\tonTrigger: ()=>void;\n\tonKeyDown: (e:IKeyboardEvent)=>void;\n}\n\nclass SimpleButton extends Widget {\n\n\tprivate _opts: ISimpleButtonOpts;\n\tprivate _domNode: HTMLElement;\n\n\tconstructor(opts:ISimpleButtonOpts) {\n\t\tsuper();\n\t\tthis._opts = opts;\n\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.title = this._opts.label;\n\t\tthis._domNode.tabIndex = 0;\n\t\tthis._domNode.className = 'button ' + this._opts.className;\n\t\tthis._domNode.setAttribute('role', 'button');\n\t\tthis._domNode.setAttribute('aria-label', this._opts.label);\n\n\t\tthis.onclick(this._domNode, (e) => {\n\t\t\tthis._opts.onTrigger();\n\t\t\te.preventDefault();\n\t\t});\n\t\tthis.onkeydown(this._domNode, (e) => {\n\t\t\tif (e.equals(CommonKeybindings.SPACE) || e.equals(CommonKeybindings.ENTER)) {\n\t\t\t\tthis._opts.onTrigger();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._opts.onKeyDown(e);\n\t\t});\n\t}\n\n\tpublic get domNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n\n\tpublic isEnabled(): boolean {\n\t\treturn (this._domNode.tabIndex >= 0);\n\t}\n\n\tpublic focus(): void {\n\t\tthis._domNode.focus();\n\t}\n\n\tpublic setEnabled(enabled:boolean): void {\n\t\tdom.toggleClass(this._domNode, 'disabled', !enabled);\n\t\tthis._domNode.setAttribute('aria-disabled', String(!enabled));\n\t\tthis._domNode.tabIndex = enabled ? 0 : -1;\n\t}\n\n\tpublic setExpanded(expanded:boolean): void {\n\t\tthis._domNode.setAttribute('aria-expanded', String(expanded));\n\t}\n\n\tpublic toggleClass(className:string, shouldHaveIt:boolean): void {\n\t\tdom.toggleClass(this._domNode, className, shouldHaveIt);\n\t}\n}\n"]}