{"version":3,"sources":["vs/editor/contrib/parameterHints/browser/parameterHintsWidget.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;IAEhG,YAAY,CAAC;IAmBb;QAyBC,8BAAY,KAA0B,EAAE,MAAmB,EAAE,OAAmB,EAAE,QAAoB;YAzBvG,iBAsTC;YAhSA,4CAA4C;YACrC,wBAAmB,GAAG,IAAI,CAAC;YAGjC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC1B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAExB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAErB,IAAI,CAAC,GAAG,GAAG,WAAC,CAAC,uCAAuC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE;gBACjE,KAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,KAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACrB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,GAAG,WAAC,CAAC,mCAAmC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAE1E,IAAI,QAAQ,GAAG,WAAC,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAErD,WAAC,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,CAAC;gBACnC,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;gBACpB,KAAI,CAAC,cAAc,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAEtB,WAAC,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,CAAC;gBAC/B,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,eAAe,EAAE,CAAC;gBACpB,KAAI,CAAC,UAAU,EAAE,CAAC;YACnB,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAEtB,IAAI,CAAC,UAAU,GAAG,WAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAE1D,IAAI,CAAC,WAAW,GAAG,WAAC,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAE5D,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;YAE1B,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,IAAI,EAAE,CAAC;YAEZ,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YAEpB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,wBAAS,CAAC,sBAAsB,EAAC,UAAC,CAA+B;gBAC7G,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBACpB,KAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,KAAI,CAAC,CAAC;gBACvC,CAAC;YACF,CAAC,CAAC,CAAC,CAAC;QACL,CAAC;QAEO,uCAAQ,GAAhB,UAAiB,QAA6B;YAA9C,iBAeC;YAdA,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;YAEtB,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,UAAC,CAAY;gBAC5E,KAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,KAAI,CAAC,cAAc,GAAG,CAAC,CAAC,KAAK,CAAC;gBAC9B,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBACrB,KAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBACjD,KAAI,CAAC,MAAM,CAAC,KAAI,CAAC,gBAAgB,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC,CAAC;YAEJ,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ,EAAE,UAAC,CAAC;gBACnE,KAAI,CAAC,IAAI,EAAE,CAAC;YACb,CAAC,CAAC,CAAC,CAAC;QACL,CAAC;QAEO,mCAAI,GAAZ;YAAA,iBAcC;YAbA,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACrB,MAAM,CAAC;YACR,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACpB,MAAM,CAAC;YACR,CAAC;YACD,IAAI,CAAC,QAAQ,EAAE,CAAC;YAEhB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,qBAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,KAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC;QAEO,mCAAI,GAAZ;YACC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACrB,MAAM,CAAC;YACR,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACrB,MAAM,CAAC;YACR,CAAC;YACD,IAAI,CAAC,SAAS,EAAE,CAAC;YAEjB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAChC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC;QAEM,0CAAW,GAAlB;YACC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACpB,MAAM,CAAC;oBACN,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;oBACnC,UAAU,EAAE,CAAC,+CAA+B,CAAC,KAAK,EAAE,+CAA+B,CAAC,KAAK,CAAC;iBAC1F,CAAC;YACH,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEO,qCAAM,GAAd,UAAe,KAAqB;YACnC,EAAE,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAC/B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YAClC,CAAC;YAED,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;YACzB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,MAAM,GAAG,CAAC,CAAC;YAEf,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC7D,IAAI,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAI,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC;gBAE3F,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,SAAS,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC;gBAExE,IAAI,eAAe,GAAG,UAAU,CAAC,aAAa,EAAE,CAAC,MAAM,CAAC;gBAExD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;oBACxB,GAAG,EAAE,MAAM;oBACX,MAAM,EAAE,eAAe;iBACvB,CAAC,CAAC;gBAEH,MAAM,IAAI,eAAe,CAAC;YAC3B,CAAC;QACF,CAAC;QAEO,8CAAe,GAAvB,UAAwB,GAAW,EAAE,SAAoB,EAAE,gBAAuB;YAEjF,IAAI,UAAU,GAAG,WAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAC7C,aAAa,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;YAEjD,EAAE,CAAA,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBACnB,UAAU,CAAC,MAAM,CAAC,WAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAEpD,CAAC;YAAC,IAAI,CAAC,CAAC;gBAEP,IAAI,WAAW,GAAG,WAAC,CAAC,iBAAiB,CAAC,EACrC,MAAM,GAAG,CAAC,CAAC;gBAEZ,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;oBACjE,IAAI,SAAS,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACxC,CAAC,CAAC,KAAK,CAAC,GAAG,UAAU,GAAG,WAAW,CAAC,CAAC,MAAM,CAAC,WAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,SAAS,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC/H,WAAW,CAAC,MAAM,CAAC,WAAC,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,gBAAgB,GAAG,QAAQ,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,oBAAoB,EAAE,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;oBACtL,MAAM,GAAG,SAAS,CAAC,iBAAiB,CAAC;gBACtC,CAAC;gBAED,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;gBAC/B,UAAU,CAAC,MAAM,CAAC,WAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACtE,CAAC;YAED,MAAM,CAAC,UAAU,CAAC;QACnB,CAAC;QAEO,kDAAmB,GAA3B,UAA4B,GAAW,EAAE,SAAoB,EAAE,kBAAyB;YAEvF,EAAE,CAAA,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;gBAC5B,GAAG,CAAC,MAAM,CAAC,WAAC,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;YAC/D,CAAC;YAED,IAAI,eAAe,GAAG,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;YAC/D,EAAE,CAAA,CAAC,eAAe,IAAI,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC;gBACrD,IAAI,UAAU,GAAG,WAAC,CAAC,gBAAgB,CAAC,CAAC;gBACrC,UAAU,CAAC,MAAM,CAAC,WAAC,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC;gBACnE,UAAU,CAAC,MAAM,CAAC,WAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,CAAC;gBACjE,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YACxB,CAAC;QACF,CAAC;QAEO,qCAAM,GAAd,UAAe,QAAgB;YAC9B,IAAI,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAE9C,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBAChB,MAAM,CAAC;YACR,CAAC;YAED,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,SAAS,CAAC,MAAM,GAAG,IAAI,EAAE,CAAC,CAAC;YAC5D,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC;YAE5D,IAAI,SAAS,GAAG,EAAE,GAAG,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;YAEpC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC;gBACrC,SAAS,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;YAC/C,CAAC;YAED,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAChC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;gBACtH,IAAM,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC;gBACxH,kFAAkF;gBAClF,iHAAiH;gBACjH,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,KAAK,eAAe,CAAC,CAAC,CAAC;oBAC7C,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAM,EAAE,IAAW,EAAE,eAAe,CAAC,CAAC,CAAC;oBAC/D,IAAI,CAAC,cAAc,GAAG,eAAe,CAAC;gBACvC,CAAC;YACF,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC;QAEM,yCAAU,GAAjB;YACC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,MAAM,CAAC,KAAK,CAAC;YACd,CAAC;YAED,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;YACjF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACnC,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,6CAAc,GAArB;YACC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,MAAM,CAAC,KAAK,CAAC;YACd,CAAC;YAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAExB,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;YACxD,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACnC,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,qCAAM,GAAb;YACC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QACrB,CAAC;QAEM,yCAAU,GAAjB;YACC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;QAClC,CAAC;QAEM,oCAAK,GAAZ;YACC,MAAM,CAAC,oBAAoB,CAAC,EAAE,CAAC;QAChC,CAAC;QAEO,2CAAY,GAApB;YACC,IAAI,QAAiB,CAAC;YACtB,OAAO,QAAQ,GAAG,IAAI,CAAC,sBAAsB,CAAC,GAAG,EAAE,EAAE,CAAC;gBACrD,QAAQ,EAAE,CAAC;YACZ,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;gBACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YACnB,CAAC;QACF,CAAC;QAEM,sCAAO,GAAd;YACC,IAAI,CAAC,SAAS,GAAG,mBAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACzC,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;gBAC1B,OAAO,IAAI,CAAC,UAAU,CAAC;YACxB,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;gBAC3B,OAAO,IAAI,CAAC,WAAW,CAAC;YACzB,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACxB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACtB,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;gBACd,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;gBACnB,OAAO,IAAI,CAAC,GAAG,CAAC;YACjB,CAAC;YAED,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACxB,CAAC;QAnTM,uBAAE,GAAG,oCAAoC,CAAC;QAoTlD,2BAAC;IAAD,CAtTA,AAsTC,IAAA;IAtTY,4BAAoB,uBAsThC,CAAA","file":"vs/editor/contrib/parameterHints/browser/parameterHintsWidget.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport 'vs/css!./parameterHints';\nimport nls = require('vs/nls');\nimport {ListenerUnbind} from 'vs/base/common/eventEmitter';\nimport {IDisposable, dispose} from 'vs/base/common/lifecycle';\nimport {TPromise} from 'vs/base/common/winjs.base';\nimport {Builder, $} from 'vs/base/browser/builder';\nimport aria = require('vs/base/browser/ui/aria/aria');\nimport {EventType, ICursorSelectionChangedEvent} from 'vs/editor/common/editorCommon';\nimport {IParameterHints, ISignature} from 'vs/editor/common/modes';\nimport {ContentWidgetPositionPreference, ICodeEditor, IContentWidget, IContentWidgetPosition} from 'vs/editor/browser/editorBrowser';\nimport {IHintEvent, ParameterHintsModel} from './parameterHintsModel';\n\ninterface ISignatureView {\n\ttop: number;\n\theight: number;\n}\n\nexport class ParameterHintsWidget implements IContentWidget {\n\n\tstatic ID = 'editor.widget.parameterHintsWidget';\n\n\tprivate editor: ICodeEditor;\n\tprivate modelListenersToRemove: ListenerUnbind[];\n\tprivate model: ParameterHintsModel;\n\tprivate $el: Builder;\n\tprivate $wrapper: Builder;\n\tprivate $signatures: Builder;\n\tprivate $overloads: Builder;\n\tprivate signatureViews: ISignatureView[];\n\tprivate currentSignature: number;\n\tprivate isDisposed: boolean;\n\tprivate isVisible: boolean;\n\tprivate parameterHints: IParameterHints;\n\tprivate announcedLabel: string;\n\tprivate toDispose: IDisposable[];\n\n\tprivate _onShown: () => void;\n\tprivate _onHidden: () => void;\n\n\t// Editor.IContentWidget.allowEditorOverflow\n\tpublic allowEditorOverflow = true;\n\n\tconstructor(model: ParameterHintsModel, editor: ICodeEditor, onShown: () => void, onHidden: () => void) {\n\t\tthis._onShown = onShown;\n\t\tthis._onHidden = onHidden;\n\t\tthis.editor = editor;\n\t\tthis.modelListenersToRemove = [];\n\t\tthis.model = null;\n\t\tthis.isVisible = false;\n\t\tthis.isDisposed = false;\n\n\t\tthis.setModel(model);\n\n\t\tthis.$el = $('.editor-widget.parameter-hints-widget').on('click', () => {\n\t\t\tthis.selectNext();\n\t\t\tthis.editor.focus();\n\t\t});\n\n\t\tthis.$wrapper = $('.wrapper.monaco-editor-background').appendTo(this.$el);\n\n\t\tvar $buttons = $('.buttons').appendTo(this.$wrapper);\n\n\t\t$('.button.previous').on('click', (e) => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis.selectPrevious();\n\t\t}).appendTo($buttons);\n\n\t\t$('.button.next').on('click', (e) => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis.selectNext();\n\t\t}).appendTo($buttons);\n\n\t\tthis.$overloads = $('.overloads').appendTo(this.$wrapper);\n\n\t\tthis.$signatures = $('.signatures').appendTo(this.$wrapper);\n\n\t\tthis.signatureViews = [];\n\t\tthis.currentSignature = 0;\n\n\t\tthis.editor.addContentWidget(this);\n\t\tthis.hide();\n\n\t\tthis.toDispose = [];\n\n\t\tthis.toDispose.push(this.editor.addListener2(EventType.CursorSelectionChanged,(e: ICursorSelectionChangedEvent) => {\n\t\t\tif (this.isVisible) {\n\t\t\t\tthis.editor.layoutContentWidget(this);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate setModel(newModel: ParameterHintsModel): void {\n\t\tthis.releaseModel();\n\t\tthis.model = newModel;\n\n\t\tthis.modelListenersToRemove.push(this.model.addListener('hint', (e:IHintEvent) => {\n\t\t\tthis.show();\n\t\t\tthis.parameterHints = e.hints;\n\t\t\tthis.render(e.hints);\n\t\t\tthis.currentSignature = e.hints.currentSignature;\n\t\t\tthis.select(this.currentSignature);\n\t\t}));\n\n\t\tthis.modelListenersToRemove.push(this.model.addListener('cancel', (e) => {\n\t\t\tthis.hide();\n\t\t}));\n\t}\n\n\tprivate show(): void {\n\t\tif (this.isDisposed) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.isVisible) {\n\t\t\treturn;\n\t\t}\n\t\tthis._onShown();\n\n\t\tthis.isVisible = true;\n\t\tTPromise.timeout(100).done(() => {\n\t\t\tthis.$el.addClass('visible');\n\t\t});\n\t\tthis.editor.layoutContentWidget(this);\n\t}\n\n\tprivate hide(): void {\n\t\tif (this.isDisposed) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.isVisible) {\n\t\t\treturn;\n\t\t}\n\t\tthis._onHidden();\n\n\t\tthis.isVisible = false;\n\t\tthis.parameterHints = null;\n\t\tthis.announcedLabel = null;\n\t\tthis.$el.removeClass('visible');\n\t\tthis.editor.layoutContentWidget(this);\n\t}\n\n\tpublic getPosition():IContentWidgetPosition {\n\t\tif (this.isVisible) {\n\t\t\treturn {\n\t\t\t\tposition: this.editor.getPosition(),\n\t\t\t\tpreference: [ContentWidgetPositionPreference.ABOVE, ContentWidgetPositionPreference.BELOW]\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate render(hints:IParameterHints): void {\n\t\tif (hints.signatures.length > 1) {\n\t\t\tthis.$el.addClass('multiple');\n\t\t} else {\n\t\t\tthis.$el.removeClass('multiple');\n\t\t}\n\n\t\tthis.$signatures.empty();\n\t\tthis.signatureViews = [];\n\t\tvar height = 0;\n\n\t\tfor (var i = 0, len = hints.signatures.length; i < len; i++) {\n\t\t\tvar signature = hints.signatures[i];\n\t\t\tvar $signature = this.renderSignature(this.$signatures, signature, hints.currentParameter);\n\n\t\t\tthis.renderDocumentation($signature, signature, hints.currentParameter);\n\n\t\t\tvar signatureHeight = $signature.getClientArea().height;\n\n\t\t\tthis.signatureViews.push({\n\t\t\t\ttop: height,\n\t\t\t\theight: signatureHeight\n\t\t\t});\n\n\t\t\theight += signatureHeight;\n\t\t}\n\t}\n\n\tprivate renderSignature($el:Builder, signature:ISignature, currentParameter:number):Builder {\n\n\t\tvar $signature = $('.signature').appendTo($el),\n\t\t\thasParameters = signature.parameters.length > 0;\n\n\t\tif(!hasParameters) {\n\t\t\t$signature.append($('span').text(signature.label));\n\n\t\t} else {\n\n\t\t\tvar $parameters = $('span.parameters'),\n\t\t\t\toffset = 0;\n\n\t\t\tfor (var i = 0, len = signature.parameters.length; i < len; i++) {\n\t\t\t\tvar parameter = signature.parameters[i];\n\t\t\t\t(i === 0 ? $signature : $parameters).append($('span').text(signature.label.substring(offset, parameter.signatureLabelOffset)));\n\t\t\t\t$parameters.append($('span.parameter').addClass(i === currentParameter ? 'active' : '').text(signature.label.substring(parameter.signatureLabelOffset, parameter.signatureLabelEnd)));\n\t\t\t\toffset = parameter.signatureLabelEnd;\n\t\t\t}\n\n\t\t\t$signature.append($parameters);\n\t\t\t$signature.append($('span').text(signature.label.substring(offset)));\n\t\t}\n\n\t\treturn $signature;\n\t}\n\n\tprivate renderDocumentation($el:Builder, signature:ISignature, activeParameterIdx:number): void {\n\n\t\tif(signature.documentation) {\n\t\t\t$el.append($('.documentation').text(signature.documentation));\n\t\t}\n\n\t\tvar activeParameter = signature.parameters[activeParameterIdx];\n\t\tif(activeParameter && activeParameter.documentation) {\n\t\t\tvar $parameter = $('.documentation');\n\t\t\t$parameter.append($('span.parameter').text(activeParameter.label));\n\t\t\t$parameter.append($('span').text(activeParameter.documentation));\n\t\t\t$el.append($parameter);\n\t\t}\n\t}\n\n\tprivate select(position: number): void {\n\t\tvar signature = this.signatureViews[position];\n\n\t\tif (!signature) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$signatures.style({ height: signature.height + 'px' });\n\t\tthis.$signatures.getHTMLElement().scrollTop = signature.top;\n\n\t\tvar overloads = '' + (position + 1);\n\n\t\tif (this.signatureViews.length < 10) {\n\t\t\toverloads += '/' + this.signatureViews.length;\n\t\t}\n\n\t\tthis.$overloads.text(overloads);\n\t\tif (this.parameterHints && this.parameterHints.signatures[position].parameters[this.parameterHints.currentParameter]) {\n\t\t\tconst labelToAnnounce = this.parameterHints.signatures[position].parameters[this.parameterHints.currentParameter].label;\n\t\t\t// Select method gets called on every user type while parameter hints are visible.\n\t\t\t// We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\n\t\t\tif (this.announcedLabel !== labelToAnnounce) {\n\t\t\t\taria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\n\t\t\t\tthis.announcedLabel = labelToAnnounce;\n\t\t\t}\n\t\t}\n\t\tthis.editor.layoutContentWidget(this);\n\t}\n\n\tpublic selectNext(): boolean {\n\t\tif (this.signatureViews.length < 2) {\n\t\t\tthis.cancel();\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.currentSignature = (this.currentSignature + 1) % this.signatureViews.length;\n\t\tthis.select(this.currentSignature);\n\t\treturn true;\n\t}\n\n\tpublic selectPrevious(): boolean {\n\t\tif (this.signatureViews.length < 2) {\n\t\t\tthis.cancel();\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.currentSignature--;\n\n\t\tif (this.currentSignature < 0) {\n\t\t\tthis.currentSignature = this.signatureViews.length - 1;\n\t\t}\n\n\t\tthis.select(this.currentSignature);\n\t\treturn true;\n\t}\n\n\tpublic cancel(): void {\n\t\tthis.model.cancel();\n\t}\n\n\tpublic getDomNode(): HTMLElement {\n\t\treturn this.$el.getHTMLElement();\n\t}\n\n\tpublic getId(): string {\n\t\treturn ParameterHintsWidget.ID;\n\t}\n\n\tprivate releaseModel(): void {\n\t\tvar listener:()=>void;\n\t\twhile (listener = this.modelListenersToRemove.pop()) {\n\t\t\tlistener();\n\t\t}\n\t\tif (this.model) {\n\t\t\tthis.model.dispose();\n\t\t\tthis.model = null;\n\t\t}\n\t}\n\n\tpublic destroy(): void {\n\t\tthis.toDispose = dispose(this.toDispose);\n\t\tthis.releaseModel();\n\n\t\tif (this.$overloads) {\n\t\t\tthis.$overloads.destroy();\n\t\t\tdelete this.$overloads;\n\t\t}\n\n\t\tif (this.$signatures) {\n\t\t\tthis.$signatures.destroy();\n\t\t\tdelete this.$signatures;\n\t\t}\n\n\t\tif (this.$wrapper) {\n\t\t\tthis.$wrapper.destroy();\n\t\t\tdelete this.$wrapper;\n\t\t}\n\n\t\tif (this.$el) {\n\t\t\tthis.$el.destroy();\n\t\t\tdelete this.$el;\n\t\t}\n\n\t\tthis.isDisposed = true;\n\t}\n}\n\n"]}