{"version":3,"file":"vs/editor/contrib/comment/test/common/blockCommentCommand.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/editor/contrib/comment/test/common/blockCommentCommand.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport {Selection} from 'vs/editor/common/core/selection';\nimport {BlockCommentCommand} from 'vs/editor/contrib/comment/common/blockCommentCommand';\nimport {testCommand} from 'vs/editor/test/common/commands/commandTestUtils';\nimport {CommentMode} from 'vs/editor/test/common/testModes';\n\nfunction testBlockCommentCommand(lines: string[], selection: Selection, expectedLines: string[], expectedSelection: Selection): void {\n\tvar mode = new CommentMode({ lineCommentToken: '!@#', blockCommentStartToken: '<0', blockCommentEndToken: '0>' });\n\ttestCommand(lines, mode, selection, (sel) => new BlockCommentCommand(sel), expectedLines, expectedSelection);\n}\n\nsuite('Editor Contrib - Block Comment Command', () => {\n\n\ttest('empty selection wraps itself', function () {\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 3),\n\t\t\t[\n\t\t\t\t'fi<00>rst',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 1, 5)\n\t\t);\n\t});\n\n\ttest('invisible selection ignored', function () {\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'<0first',\n\t\t\t\t'0>\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 2, 1)\n\t\t);\n\t});\n\n\ttest('bug9511', function () {\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 6, 1, 1),\n\t\t\t[\n\t\t\t\t'<0first0>',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 8)\n\t\t);\n\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'<0first0>',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 8, 1, 3),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 6)\n\t\t);\n\t});\n\n\ttest('one line selection', function () {\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 6, 1, 3),\n\t\t\t[\n\t\t\t\t'fi<0rst0>',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 1, 8)\n\t\t);\n\t});\n\n\ttest('one line selection toggle', function () {\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 6, 1, 3),\n\t\t\t[\n\t\t\t\t'fi<0rst0>',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 1, 8)\n\t\t);\n\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'fi<0rst0>',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 8, 1, 5),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 6)\n\t\t);\n\t});\n\n\ttest('multi line selection', function () {\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 4, 1, 1),\n\t\t\t[\n\t\t\t\t'<0first',\n\t\t\t\t'\\tse0>cond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 2, 4)\n\t\t);\n\t});\n\n\ttest('multi line selection toggle', function () {\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 4, 1, 1),\n\t\t\t[\n\t\t\t\t'<0first',\n\t\t\t\t'\\tse0>cond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 2, 4)\n\t\t);\n\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'<0first',\n\t\t\t\t'\\tse0>cond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 4, 1, 3),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'\\tsecond line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 2, 4)\n\t\t);\n\t});\n\n\ttest('fuzzy removes', function () {\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'asd <0 qwe',\n\t\t\t\t'asd 0> qwe'\n\t\t\t],\n\t\t\tnew Selection(2, 5, 1, 7),\n\t\t\t[\n\t\t\t\t'asd  qwe',\n\t\t\t\t'asd  qwe'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 2, 5)\n\t\t);\n\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'asd <0 qwe',\n\t\t\t\t'asd 0> qwe'\n\t\t\t],\n\t\t\tnew Selection(2, 5, 1, 6),\n\t\t\t[\n\t\t\t\t'asd  qwe',\n\t\t\t\t'asd  qwe'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 2, 5)\n\t\t);\n\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'asd <0 qwe',\n\t\t\t\t'asd 0> qwe'\n\t\t\t],\n\t\t\tnew Selection(2, 5, 1, 5),\n\t\t\t[\n\t\t\t\t'asd  qwe',\n\t\t\t\t'asd  qwe'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 2, 5)\n\t\t);\n\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'asd <0 qwe',\n\t\t\t\t'asd 0> qwe'\n\t\t\t],\n\t\t\tnew Selection(2, 5, 1, 11),\n\t\t\t[\n\t\t\t\t'asd  qwe',\n\t\t\t\t'asd  qwe'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 2, 5)\n\t\t);\n\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'asd <0 qwe',\n\t\t\t\t'asd 0> qwe'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 1, 11),\n\t\t\t[\n\t\t\t\t'asd  qwe',\n\t\t\t\t'asd  qwe'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 2, 5)\n\t\t);\n\n\t\ttestBlockCommentCommand(\n\t\t\t[\n\t\t\t\t'asd <0 qwe',\n\t\t\t\t'asd 0> qwe'\n\t\t\t],\n\t\t\tnew Selection(2, 7, 1, 11),\n\t\t\t[\n\t\t\t\t'asd  qwe',\n\t\t\t\t'asd  qwe'\n\t\t\t],\n\t\t\tnew Selection(1, 5, 2, 5)\n\t\t);\n\t});\n});\n\n"]}