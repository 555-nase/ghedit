{"version":3,"file":"codeEditorServiceImpl.js","sourceRoot":"","sources":["../../../../../src/vs/editor/browser/services/codeEditorServiceImpl.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as objects from 'vs/base/common/objects';\nimport * as strings from 'vs/base/common/strings';\nimport URI from 'vs/base/common/uri';\nimport * as dom from 'vs/base/browser/dom';\nimport {IDecorationRenderOptions, IModelDecorationOptions, IModelDecorationOverviewRulerOptions, IThemeDecorationRenderOptions, OverviewRulerLane} from 'vs/editor/common/editorCommon';\nimport {AbstractCodeEditorService} from 'vs/editor/common/services/abstractCodeEditorService';\n\nexport class CodeEditorServiceImpl extends AbstractCodeEditorService {\n\n\tprivate _styleSheet: HTMLStyleElement;\n\tprivate _decorationRenderOptions: {[key:string]:DecorationRenderOptions};\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._styleSheet = dom.createStyleSheet();\n\t\tthis._decorationRenderOptions = Object.create(null);\n\t}\n\n\tpublic registerDecorationType(key:string, options: IDecorationRenderOptions): void {\n\t\tif (this._decorationRenderOptions[key]) {\n\t\t\tthis._decorationRenderOptions[key].dispose();\n\t\t\tdelete this._decorationRenderOptions[key];\n\t\t}\n\t\tvar decorationRenderOptions = new DecorationRenderOptions(this._styleSheet, key, options);\n\t\tthis._decorationRenderOptions[key] = decorationRenderOptions;\n\t}\n\n\tpublic removeDecorationType(key:string): void {\n\t\tif (this._decorationRenderOptions[key]) {\n\t\t\tthis._decorationRenderOptions[key].dispose();\n\t\t\tdelete this._decorationRenderOptions[key];\n\n\t\t\tthis.listCodeEditors().forEach((ed) => ed.removeDecorations(key));\n\t\t}\n\t}\n\n\tpublic resolveDecorationType(key:string): IModelDecorationOptions {\n\t\tif (this._decorationRenderOptions[key]) {\n\t\t\treturn this._decorationRenderOptions[key];\n\t\t}\n\t\tthrow new Error('Unknown decoration type key: ' + key);\n\t}\n\n}\n\nclass DecorationRenderOptions implements IModelDecorationOptions {\n\n\tprivate _styleSheet: HTMLStyleElement;\n\tprivate _key: string;\n\n\tpublic className: string;\n\tpublic inlineClassName: string;\n\tpublic glyphMarginClassName: string;\n\tpublic isWholeLine:boolean;\n\tpublic overviewRuler:IModelDecorationOverviewRulerOptions;\n\n\tconstructor(styleSheet: HTMLStyleElement, key:string, options:IDecorationRenderOptions) {\n\t\tvar themedOpts = resolveDecorationRenderOptions(options);\n\n\t\tthis._styleSheet = styleSheet;\n\t\tthis._key = key;\n\n\t\tthis.className = DecorationRenderOptions._handle(\n\t\t\tthis._styleSheet,\n\t\t\tthis._key,\n\t\t\tModelDecorationCSSRuleType.ClassName,\n\t\t\tDecorationRenderOptions._getCSSTextForModelDecorationClassName(themedOpts.light),\n\t\t\tDecorationRenderOptions._getCSSTextForModelDecorationClassName(themedOpts.dark)\n\t\t);\n\n\t\tthis.inlineClassName = DecorationRenderOptions._handle(\n\t\t\tthis._styleSheet,\n\t\t\tthis._key,\n\t\t\tModelDecorationCSSRuleType.InlineClassName,\n\t\t\tDecorationRenderOptions._getCSSTextForModelDecorationInlineClassName(themedOpts.light),\n\t\t\tDecorationRenderOptions._getCSSTextForModelDecorationInlineClassName(themedOpts.dark)\n\t\t);\n\n\t\tthis.glyphMarginClassName = DecorationRenderOptions._handle(\n\t\t\tthis._styleSheet,\n\t\t\tthis._key,\n\t\t\tModelDecorationCSSRuleType.GlyphMarginClassName,\n\t\t\tDecorationRenderOptions._getCSSTextForModelDecorationGlyphMarginClassName(themedOpts.light),\n\t\t\tDecorationRenderOptions._getCSSTextForModelDecorationGlyphMarginClassName(themedOpts.dark)\n\t\t);\n\n\t\tthis.isWholeLine = Boolean(options.isWholeLine);\n\n\t\tif (\n\t\t\ttypeof themedOpts.light.overviewRulerColor !== 'undefined'\n\t\t\t|| typeof themedOpts.dark.overviewRulerColor !== 'undefined'\n\t\t) {\n\t\t\tthis.overviewRuler = {\n\t\t\t\tcolor: themedOpts.light.overviewRulerColor || themedOpts.dark.overviewRulerColor,\n\t\t\t\tdarkColor: themedOpts.dark.overviewRulerColor || themedOpts.light.overviewRulerColor,\n\t\t\t\tposition: options.overviewRulerLane || OverviewRulerLane.Center\n\t\t\t};\n\t\t}\n\t}\n\n\tpublic dispose(): void {\n\t\tdom.removeCSSRulesWithPrefix(CSSNameHelper.getDeletionPrefixFor(ThemeType.Light, this._key), this._styleSheet);\n\t\tdom.removeCSSRulesWithPrefix(CSSNameHelper.getDeletionPrefixFor(ThemeType.Dark, this._key), this._styleSheet);\n\t}\n\n\tprivate static _CSS_MAP = {\n\t\tcolor: 'color:{0} !important;',\n\t\tbackgroundColor: 'background-color:{0};',\n\n\t\toutlineColor: 'outline-color:{0};',\n\t\toutlineStyle: 'outline-style:{0};',\n\t\toutlineWidth: 'outline-width:{0};',\n\n\t\tborderColor: 'border-color:{0};',\n\t\tborderRadius: 'border-radius:{0};',\n\t\tborderSpacing: 'border-spacing:{0};',\n\t\tborderStyle: 'border-style:{0};',\n\t\tborderWidth: 'border-width:{0};',\n\n\t\ttextDecoration: 'text-decoration:{0};',\n\t\tcursor: 'cursor:{0};',\n\t\tletterSpacing: 'letter-spacing:{0};',\n\n\t\tgutterIconPath: 'background:url(\\'{0}\\') center center no-repeat;',\n\t};\n\n\t/**\n\t * Build the CSS for decorations styled via `className`.\n\t */\n\tprivate static _getCSSTextForModelDecorationClassName(opts:IThemeDecorationRenderOptions): string {\n\t\tlet cssTextArr = [];\n\n\t\tif (typeof opts.backgroundColor !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.backgroundColor, opts.backgroundColor));\n\t\t}\n\n\t\tif (typeof opts.outlineColor !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.outlineColor, opts.outlineColor));\n\t\t}\n\t\tif (typeof opts.outlineStyle !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.outlineStyle, opts.outlineStyle));\n\t\t}\n\t\tif (typeof opts.outlineWidth !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.outlineWidth, opts.outlineWidth));\n\t\t}\n\n\t\tif (\n\t\t\ttypeof opts.borderColor !== 'undefined'\n\t\t\t|| typeof opts.borderRadius !== 'undefined'\n\t\t\t|| typeof opts.borderSpacing !== 'undefined'\n\t\t\t|| typeof opts.borderStyle !== 'undefined'\n\t\t\t|| typeof opts.borderWidth !== 'undefined'\n\t\t) {\n\t\t\tcssTextArr.push(strings.format('box-sizing: border-box;'));\n\t\t}\n\n\t\tif (typeof opts.borderColor !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.borderColor, opts.borderColor));\n\t\t}\n\t\tif (typeof opts.borderRadius !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.borderRadius, opts.borderRadius));\n\t\t}\n\t\tif (typeof opts.borderSpacing !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.borderSpacing, opts.borderSpacing));\n\t\t}\n\t\tif (typeof opts.borderStyle !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.borderStyle, opts.borderStyle));\n\t\t}\n\t\tif (typeof opts.borderWidth !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.borderWidth, opts.borderWidth));\n\t\t}\n\n\t\treturn cssTextArr.join('');\n\t}\n\n\t/**\n\t * Build the CSS for decorations styled via `inlineClassName`.\n\t */\n\tprivate static _getCSSTextForModelDecorationInlineClassName(opts:IThemeDecorationRenderOptions): string {\n\t\tlet cssTextArr = [];\n\n\t\tif (typeof opts.textDecoration !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.textDecoration, opts.textDecoration));\n\t\t}\n\t\tif (typeof opts.cursor !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.cursor, opts.cursor));\n\t\t}\n\t\tif (typeof opts.color !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.color, opts.color));\n\t\t}\n\t\tif (typeof opts.letterSpacing !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.letterSpacing, opts.letterSpacing));\n\t\t}\n\n\t\treturn cssTextArr.join('');\n\t}\n\n\t/**\n\t * Build the CSS for decorations styled via `glpyhMarginClassName`.\n\t */\n\tprivate static _getCSSTextForModelDecorationGlyphMarginClassName(opts:IThemeDecorationRenderOptions): string {\n\t\tlet cssTextArr = [];\n\n\t\tif (typeof opts.gutterIconPath !== 'undefined') {\n\t\t\tcssTextArr.push(strings.format(this._CSS_MAP.gutterIconPath, URI.file(opts.gutterIconPath).toString()));\n\t\t}\n\n\t\treturn cssTextArr.join('');\n\t}\n\n\tprivate static _handle(styleSheet: HTMLStyleElement, key:string, ruleType:ModelDecorationCSSRuleType, lightCSS:string, darkCSS:string): string {\n\t\tif (lightCSS.length > 0 || darkCSS.length > 0) {\n\t\t\tif (lightCSS.length > 0) {\n\t\t\t\tthis._createCSSSelector(styleSheet, ThemeType.Light, key, ruleType, lightCSS);\n\t\t\t}\n\t\t\tif (darkCSS.length > 0) {\n\t\t\t\tthis._createCSSSelector(styleSheet, ThemeType.Dark, key, ruleType, darkCSS);\n\t\t\t}\n\t\t\treturn CSSNameHelper.getClassName(key, ruleType);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate static _createCSSSelector(styleSheet: HTMLStyleElement, themeType:ThemeType, key:string, ruleType:ModelDecorationCSSRuleType, cssText:string): void {\n\t\tdom.createCSSRule(CSSNameHelper.getSelector(themeType, key, ruleType), cssText, styleSheet);\n\t}\n}\n\nenum ThemeType {\n\tLight = 0,\n\tDark = 1\n}\nenum ModelDecorationCSSRuleType {\n\tClassName = 0,\n\tInlineClassName = 1,\n\tGlyphMarginClassName = 2\n}\nclass CSSNameHelper {\n\n\tprivate static _getSelectorPrefixOf(theme:ThemeType): string {\n\t\tif (theme === ThemeType.Light) {\n\t\t\treturn '.monaco-editor.vs';\n\t\t}\n\t\treturn '.monaco-editor.vs-dark';\n\t}\n\n\tpublic static getClassName(key:string, type:ModelDecorationCSSRuleType): string {\n\t\treturn 'ced-' + key + '-' + type;\n\t}\n\n\tpublic static getSelector(themeType:ThemeType, key:string, ruleType:ModelDecorationCSSRuleType): string {\n\t\treturn this._getSelectorPrefixOf(themeType) + ' .' + this.getClassName(key, ruleType);\n\t}\n\n\tpublic static getDeletionPrefixFor(themeType:ThemeType, key:string): string {\n\t\treturn this._getSelectorPrefixOf(themeType) + ' .ced-' + key;\n\t}\n}\n\n// ---- Normalize decoration render options per theme\ninterface IResolvedDecorationRenderOptions {\n\tlight: IThemeDecorationRenderOptions;\n\tdark: IThemeDecorationRenderOptions;\n}\nfunction resolveDecorationRenderOptions(opts:IDecorationRenderOptions): IResolvedDecorationRenderOptions {\n\tvar light = objects.deepClone(opts);\n\tobjects.mixin(light, opts.light);\n\n\tvar dark = objects.deepClone(opts);\n\tobjects.mixin(dark, opts.dark);\n\n\treturn {\n\t\tlight: light,\n\t\tdark: dark\n\t};\n}"]}