{"version":3,"file":"vs/editor/test/common/commands/trimTrailingWhitespaceCommand.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/editor/test/common/commands/trimTrailingWhitespaceCommand.test.ts"],"names":[],"mappings":";IAAA;;;oGAGgG;IAChG,YAAY,CAAC;IAUb,6CAA6C,IAAa,EAAE,QAAyC;QACpG,MAAM,CAAC,iCAAe,CAAC,IAAI,EAAE,UAAC,KAAK;YAClC,IAAI,EAAE,GAAG,IAAI,6DAA6B,CAAC,qBAAS,CAAC,eAAe,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC;YAC/E,IAAI,MAAM,GAAG,mCAAgB,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACzC,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,sCAAsC,IAAa,EAAE,OAAmB,EAAE,QAAyC;QAClH,MAAM,CAAC,iCAAe,CAAC,IAAI,EAAE,UAAC,KAAK;YAClC,IAAI,MAAM,GAAG,sDAAsB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YACpD,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,oDAAoD,EAAE;QAE3D,IAAI,CAAC,4BAA4B,EAAE;YAClC,mCAAmC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;YAC9C,mCAAmC,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;YAClD,mCAAmC,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,qCAAkB,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACzF,mCAAmC,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC,qCAAkB,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3F,mCAAmC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,qCAAkB,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACvF,mCAAmC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,qCAAkB,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACxF,mCAAmC,CAAC;gBACnC,aAAa;gBACb,gBAAgB;gBAChB,MAAM;gBACN,kBAAkB;gBAClB,uBAAuB;aACvB,EAAE;gBACF,qCAAkB,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;gBACtC,qCAAkB,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBACpC,qCAAkB,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;gBACtC,qCAAkB,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;aACtC,CAAC,CAAC;YAGH,4BAA4B,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAE,CAAC,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACzJ,4BAA4B,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAE,CAAC,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACtI,4BAA4B,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAE,CAAC,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACzJ,4BAA4B,CAAC;gBAC5B,aAAa;gBACb,gBAAgB;gBAChB,MAAM;gBACN,kBAAkB;gBAClB,uBAAuB;aACvB,EAAE,EAAE,EAAE;gBACN,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClD,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBAChD,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClD,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;aAClD,CAAC,CAAC;YACH,4BAA4B,CAAC;gBAC5B,aAAa;gBACb,gBAAgB;gBAChB,MAAM;gBACN,kBAAkB;gBAClB,uBAAuB;aACvB,EAAE,CAAC,IAAI,mBAAQ,CAAC,CAAC,EAAC,EAAE,CAAC,EAAE,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,mBAAQ,CAAC,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,mBAAQ,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC,EAAE;gBACrG,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBAChD,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClD,iDAA8B,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;aAClD,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IAEJ,CAAC,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as assert from 'assert';\nimport {TrimTrailingWhitespaceCommand, trimTrailingWhitespace} from 'vs/editor/common/commands/trimTrailingWhitespaceCommand';\nimport {Selection} from 'vs/editor/common/core/selection';\nimport {Position} from 'vs/editor/common/core/position';\nimport {IIdentifiedSingleEditOperation, IPosition} from 'vs/editor/common/editorCommon';\nimport {createInsertDeleteSingleEditOp, createSingleEditOp, getEditOperation} from 'vs/editor/test/common/commands/commandTestUtils';\nimport {withEditorModel} from 'vs/editor/test/common/editorTestUtils';\n\nfunction assertTrimTrailingWhitespaceCommand(text:string[], expected:IIdentifiedSingleEditOperation[]): void {\n\treturn withEditorModel(text, (model) => {\n\t\tvar op = new TrimTrailingWhitespaceCommand(Selection.createSelection(1,1,1,1));\n\t\tvar actual = getEditOperation(model, op);\n\t\tassert.deepEqual(actual, expected);\n\t});\n}\n\nfunction assertTrimTrailingWhitespace(text:string[], cursors:IPosition[], expected:IIdentifiedSingleEditOperation[]): void {\n\treturn withEditorModel(text, (model) => {\n\t\tvar actual = trimTrailingWhitespace(model, cursors);\n\t\tassert.deepEqual(actual, expected);\n\t});\n}\n\nsuite('Editor Commands - Trim Trailing Whitespace Command', () => {\n\n\ttest('remove trailing whitespace', function () {\n\t\tassertTrimTrailingWhitespaceCommand([''], []);\n\t\tassertTrimTrailingWhitespaceCommand(['text'], []);\n\t\tassertTrimTrailingWhitespaceCommand(['text   '], [createSingleEditOp(null, 1, 5, 1, 8)]);\n\t\tassertTrimTrailingWhitespaceCommand(['text\\t   '], [createSingleEditOp(null, 1, 5, 1, 9)]);\n\t\tassertTrimTrailingWhitespaceCommand(['\\t   '], [createSingleEditOp(null, 1, 1, 1, 5)]);\n\t\tassertTrimTrailingWhitespaceCommand(['text\\t'], [createSingleEditOp(null, 1, 5, 1, 6)]);\n\t\tassertTrimTrailingWhitespaceCommand([\n\t\t\t'some text\\t',\n\t\t\t'some more text',\n\t\t\t'\\t  ',\n\t\t\t'even more text  ',\n\t\t\t'and some mixed\\t   \\t'\n\t\t], [\n\t\t\tcreateSingleEditOp(null, 1, 10, 1, 11),\n\t\t\tcreateSingleEditOp(null, 3, 1, 3, 4),\n\t\t\tcreateSingleEditOp(null, 4, 15, 4, 17),\n\t\t\tcreateSingleEditOp(null, 5, 15, 5, 20)\n\t\t]);\n\n\n\t\tassertTrimTrailingWhitespace(['text   '], [new Position(1,1), new Position(1,2), new Position(1,3)], [createInsertDeleteSingleEditOp(null, 1, 5, 1, 8)]);\n\t\tassertTrimTrailingWhitespace(['text   '], [new Position(1,1), new Position(1,5)], [createInsertDeleteSingleEditOp(null, 1, 5, 1, 8)]);\n\t\tassertTrimTrailingWhitespace(['text   '], [new Position(1,1), new Position(1,5), new Position(1,6)], [createInsertDeleteSingleEditOp(null, 1, 6, 1, 8)]);\n\t\tassertTrimTrailingWhitespace([\n\t\t\t'some text\\t',\n\t\t\t'some more text',\n\t\t\t'\\t  ',\n\t\t\t'even more text  ',\n\t\t\t'and some mixed\\t   \\t'\n\t\t], [], [\n\t\t\tcreateInsertDeleteSingleEditOp(null, 1, 10, 1, 11),\n\t\t\tcreateInsertDeleteSingleEditOp(null, 3, 1, 3, 4),\n\t\t\tcreateInsertDeleteSingleEditOp(null, 4, 15, 4, 17),\n\t\t\tcreateInsertDeleteSingleEditOp(null, 5, 15, 5, 20)\n\t\t]);\n\t\tassertTrimTrailingWhitespace([\n\t\t\t'some text\\t',\n\t\t\t'some more text',\n\t\t\t'\\t  ',\n\t\t\t'even more text  ',\n\t\t\t'and some mixed\\t   \\t'\n\t\t], [new Position(1,11), new Position(3,2), new Position(5,1), new Position(4,1), new Position(5,10)], [\n\t\t\tcreateInsertDeleteSingleEditOp(null, 3, 2, 3, 4),\n\t\t\tcreateInsertDeleteSingleEditOp(null, 4, 15, 4, 17),\n\t\t\tcreateInsertDeleteSingleEditOp(null, 5, 15, 5, 20)\n\t\t]);\n\t});\n\n});\n\n"]}