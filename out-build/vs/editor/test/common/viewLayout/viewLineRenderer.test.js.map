{"version":3,"file":"vs/editor/test/common/viewLayout/viewLineRenderer.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/editor/test/common/viewLayout/viewLineRenderer.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as assert from 'assert';\nimport {ViewLineToken} from 'vs/editor/common/editorCommon';\nimport {renderLine, RenderLineInput} from 'vs/editor/common/viewLayout/viewLineRenderer';\n\nsuite('viewLineRenderer.renderLine', () => {\n\n\tfunction createPart(startIndex: number, type:string): ViewLineToken {\n\t\treturn new ViewLineToken(startIndex, type);\n\t}\n\n\tfunction assertCharacterReplacement(lineContent:string, tabSize:number, expected:string, expectedCharOffsetInPart: number[]): void {\n\t\tlet _actual = renderLine(new RenderLineInput(\n\t\t\tlineContent,\n\t\t\ttabSize,\n\t\t\t0,\n\t\t\t-1,\n\t\t\tfalse,\n\t\t\t[createPart(0, '')]\n\t\t));\n\n\t\tassert.equal(_actual.output, '<span><span class=\"token \">' + expected + '</span></span>');\n\t\tassert.deepEqual(_actual.charOffsetInPart, expectedCharOffsetInPart);\n\t}\n\n\ttest('replaces spaces', () => {\n\t\tassertCharacterReplacement(' ', 4, '&nbsp;', [0, 1]);\n\t\tassertCharacterReplacement('  ', 4, '&nbsp;&nbsp;', [0, 1, 2]);\n\t\tassertCharacterReplacement('a  b', 4, 'a&nbsp;&nbsp;b', [0, 1, 2, 3, 4]);\n\t});\n\n\ttest('escapes HTML markup', () => {\n\t\tassertCharacterReplacement('a<b', 4, 'a&lt;b', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a>b', 4, 'a&gt;b', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a&b', 4, 'a&amp;b', [0, 1, 2, 3]);\n\t});\n\n\ttest('replaces some bad characters', () => {\n\t\tassertCharacterReplacement('a\\0b', 4, 'a&#00;b', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a' + String.fromCharCode(65279) + 'b', 4, 'a\\ufffdb', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a\\u2028b', 4, 'a\\ufffdb', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a\\rb', 4, 'a&#8203b', [0, 1, 2, 3]);\n\t});\n\n\ttest('handles tabs', () => {\n\t\tassertCharacterReplacement('\\t', 4, '&nbsp;&nbsp;&nbsp;&nbsp;', [0, 4]);\n\t\tassertCharacterReplacement('x\\t', 4, 'x&nbsp;&nbsp;&nbsp;', [0, 1, 4]);\n\t\tassertCharacterReplacement('xx\\t', 4, 'xx&nbsp;&nbsp;', [0, 1, 2, 4]);\n\t\tassertCharacterReplacement('xxx\\t', 4, 'xxx&nbsp;', [0, 1, 2, 3, 4]);\n\t\tassertCharacterReplacement('xxxx\\t', 4, 'xxxx&nbsp;&nbsp;&nbsp;&nbsp;', [0, 1, 2, 3, 4, 8]);\n\t});\n\n\tfunction assertParts(lineContent:string, tabSize:number, parts: ViewLineToken[], expected:string, expectedCharOffsetInPart:number[]): void {\n\t\tlet _actual = renderLine(new RenderLineInput(\n\t\t\tlineContent,\n\t\t\ttabSize,\n\t\t\t0,\n\t\t\t-1,\n\t\t\tfalse,\n\t\t\tparts\n\t\t));\n\n\t\tassert.equal(_actual.output, '<span>' + expected + '</span>');\n\t\tassert.deepEqual(_actual.charOffsetInPart, expectedCharOffsetInPart);\n\t}\n\n\ttest('empty line', () => {\n\t\tassertParts('', 4, [], '<span>&nbsp;</span>', []);\n\t});\n\n\ttest('uses part type', () => {\n\t\tassertParts('x', 4, [createPart(0, 'y')], '<span class=\"token y\">x</span>', [0, 1]);\n\t\tassertParts('x', 4, [createPart(0, 'aAbBzZ0123456789-cC')], '<span class=\"token aAbBzZ0123456789-cC\">x</span>', [0, 1]);\n\t\tassertParts('x', 4, [createPart(0, '\"~!@#$%^&*()\\'')], '<span class=\"token              \">x</span>', [0, 1]);\n\t});\n\n\ttest('two parts', () => {\n\t\tassertParts('xy', 4, [createPart(0, 'a'), createPart(1, 'b')], '<span class=\"token a\">x</span><span class=\"token b\">y</span>', [0, 0, 1]);\n\t\tassertParts('xyz', 4, [createPart(0, 'a'), createPart(1, 'b')], '<span class=\"token a\">x</span><span class=\"token b\">yz</span>', [0, 0, 1, 2]);\n\t\tassertParts('xyz', 4, [createPart(0, 'a'), createPart(2, 'b')], '<span class=\"token a\">xy</span><span class=\"token b\">z</span>', [0, 1, 0, 1]);\n\t});\n\n\ttest('overflow', () => {\n\t\tlet _actual = renderLine(new RenderLineInput(\n\t\t\t'Hello world!',\n\t\t\t4,\n\t\t\t10,\n\t\t\t6,\n\t\t\ttrue,\n\t\t\t[\n\t\t\t\tcreatePart( 0,  '0'),\n\t\t\t\tcreatePart( 1,  '1'),\n\t\t\t\tcreatePart( 2,  '2'),\n\t\t\t\tcreatePart( 3,  '3'),\n\t\t\t\tcreatePart( 4,  '4'),\n\t\t\t\tcreatePart( 5,  '5'),\n\t\t\t\tcreatePart( 6,  '6'),\n\t\t\t\tcreatePart( 7,  '7'),\n\t\t\t\tcreatePart( 8,  '8'),\n\t\t\t\tcreatePart( 9,  '9'),\n\t\t\t\tcreatePart(10, '10'),\n\t\t\t\tcreatePart(11, '11'),\n\t\t\t]\n\t\t));\n\n\t\tlet expectedOutput = [\n\t\t\t'<span class=\"token 0\">H</span>',\n\t\t\t'<span class=\"token 1\">e</span>',\n\t\t\t'<span class=\"token 2\">l</span>',\n\t\t\t'<span class=\"token 3\">l</span>',\n\t\t\t'<span class=\"token 4\">o</span>',\n\t\t\t'<span class=\"token 5\">&nbsp;&hellip;</span>'\n\t\t].join('');\n\n\t\tassert.equal(_actual.output, '<span>' + expectedOutput + '</span>');\n\t\tassert.deepEqual(_actual.charOffsetInPart, [\n\t\t\t0,\n\t\t\t0,\n\t\t\t0,\n\t\t\t0,\n\t\t\t0,\n\t\t\t1\n\t\t]);\n\t});\n\n\ttest('typical line', () => {\n\t\tlet lineText = '\\t    export class Game { // http://test.com     ';\n\t\tlet lineParts = [\n\t\t\tcreatePart( 0, 'block meta ts leading whitespace'),\n\t\t\tcreatePart( 5, 'block declaration meta modifier object storage ts'),\n\t\t\tcreatePart(11, 'block declaration meta object ts'),\n\t\t\tcreatePart(12, 'block declaration meta object storage type ts'),\n\t\t\tcreatePart(17, 'block declaration meta object ts'),\n\t\t\tcreatePart(18, 'block class declaration entity meta name object ts'),\n\t\t\tcreatePart(22, 'block declaration meta object ts'),\n\t\t\tcreatePart(23, 'delimiter curly typescript'),\n\t\t\tcreatePart(24, 'block body declaration meta object ts'),\n\t\t\tcreatePart(25, 'block body comment declaration line meta object ts'),\n\t\t\tcreatePart(28, 'block body comment declaration line meta object ts detected-link'),\n\t\t\tcreatePart(43, 'block body comment declaration line meta object ts trailing whitespace'),\n\t\t];\n\t\tlet expectedOutput = [\n\t\t\t'<span class=\"token block meta ts leading whitespace\" style=\"width:80px\">&rarr;&nbsp;&nbsp;&nbsp;&middot;&middot;&middot;&middot;</span>',\n\t\t\t'<span class=\"token block declaration meta modifier object storage ts\">export</span>',\n\t\t\t'<span class=\"token block declaration meta object ts\">&nbsp;</span>',\n\t\t\t'<span class=\"token block declaration meta object storage type ts\">class</span>',\n\t\t\t'<span class=\"token block declaration meta object ts\">&nbsp;</span>',\n\t\t\t'<span class=\"token block class declaration entity meta name object ts\">Game</span>',\n\t\t\t'<span class=\"token block declaration meta object ts\">&nbsp;</span>',\n\t\t\t'<span class=\"token delimiter curly typescript\">{</span>',\n\t\t\t'<span class=\"token block body declaration meta object ts\">&nbsp;</span>',\n\t\t\t'<span class=\"token block body comment declaration line meta object ts\">//&nbsp;</span>',\n\t\t\t'<span class=\"token block body comment declaration line meta object ts detected-link\">http://test.com</span>',\n\t\t\t'<span class=\"token block body comment declaration line meta object ts trailing whitespace\" style=\"width:50px\">&middot;&middot;&middot;&middot;&middot;</span>'\n\t\t].join('');\n\t\tlet expectedOffsetsArr = [\n\t\t\t[0, 4, 5, 6, 7],\n\t\t\t[0, 1, 2, 3, 4, 5],\n\t\t\t[0],\n\t\t\t[0, 1, 2, 3, 4],\n\t\t\t[0],\n\t\t\t[0, 1, 2, 3],\n\t\t\t[0],\n\t\t\t[0],\n\t\t\t[0],\n\t\t\t[0, 1, 2],\n\t\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],\n\t\t\t[0, 1, 2, 3, 4, 5],\n\t\t];\n\t\tlet expectedOffsets = expectedOffsetsArr.reduce((prev, curr) => prev.concat(curr), []);\n\n\t\tlet _actual = renderLine(new RenderLineInput(\n\t\t\tlineText,\n\t\t\t4,\n\t\t\t10,\n\t\t\t-1,\n\t\t\ttrue,\n\t\t\tlineParts\n\t\t));\n\n\t\tassert.equal(_actual.output, '<span>' + expectedOutput + '</span>');\n\t\tassert.deepEqual(_actual.charOffsetInPart, expectedOffsets);\n\t});\n\n\ttest('issue #2255: Weird line rendering part 1', () => {\n\t\tlet lineText = '\\t\\t\\tcursorStyle:\\t\\t\\t\\t\\t\\t(prevOpts.cursorStyle !== newOpts.cursorStyle),';\n\n\t\tlet lineParts = [\n\t\t\tcreatePart( 0, 'block body decl declaration meta method object ts'), // 3 chars\n\t\t\tcreatePart( 3, 'block body decl declaration member meta method object ts'), // 12 chars\n\t\t\tcreatePart(15, 'block body decl declaration member meta method object ts'), // 6 chars\n\t\t\tcreatePart(21, 'delimiter paren typescript'), // 1 char\n\t\t\tcreatePart(22, 'block body decl declaration member meta method object ts'), // 21 chars\n\t\t\tcreatePart(43, 'block body comparison decl declaration keyword member meta method object operator ts'), // 2 chars\n\t\t\tcreatePart(45, 'block body comparison decl declaration keyword member meta method object operator ts'), // 1 char\n\t\t\tcreatePart(46, 'block body decl declaration member meta method object ts'), // 20 chars\n\t\t\tcreatePart(66, 'delimiter paren typescript'), // 1 char\n\t\t\tcreatePart(67, 'block body decl declaration meta method object ts'), // 2 chars\n\t\t];\n\t\tlet expectedOutput = [\n\t\t\t'<span class=\"token block body decl declaration meta method object ts\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',\n\t\t\t'<span class=\"token block body decl declaration member meta method object ts\">cursorStyle:</span>',\n\t\t\t'<span class=\"token block body decl declaration member meta method object ts\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',\n\t\t\t'<span class=\"token delimiter paren typescript\">(</span>',\n\t\t\t'<span class=\"token block body decl declaration member meta method object ts\">prevOpts.cursorStyle&nbsp;</span>',\n\t\t\t'<span class=\"token block body comparison decl declaration keyword member meta method object operator ts\">!=</span>',\n\t\t\t'<span class=\"token block body comparison decl declaration keyword member meta method object operator ts\">=</span>',\n\t\t\t'<span class=\"token block body decl declaration member meta method object ts\">&nbsp;newOpts.cursorStyle</span>',\n\t\t\t'<span class=\"token delimiter paren typescript\">)</span>',\n\t\t\t'<span class=\"token block body decl declaration meta method object ts\">,</span>',\n\t\t].join('');\n\t\tlet expectedOffsetsArr = [\n\t\t\t[0, 4, 8], // 3 chars\n\t\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], // 12 chars\n\t\t\t[0, 4, 8, 12, 16, 20], // 6 chars\n\t\t\t[0], // 1 char\n\t\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], // 21 chars\n\t\t\t[0, 1], // 2 chars\n\t\t\t[0], // 1 char\n\t\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], // 20 chars\n\t\t\t[0], // 1 char\n\t\t\t[0, 1] // 2 chars\n\t\t];\n\t\tlet expectedOffsets = expectedOffsetsArr.reduce((prev, curr) => prev.concat(curr), []);\n\n\t\tlet _actual = renderLine(new RenderLineInput(\n\t\t\tlineText,\n\t\t\t4,\n\t\t\t10,\n\t\t\t-1,\n\t\t\tfalse,\n\t\t\tlineParts\n\t\t));\n\n\t\tassert.equal(_actual.output, '<span>' + expectedOutput + '</span>');\n\t\tassert.deepEqual(_actual.charOffsetInPart, expectedOffsets);\n\t});\n\n\ttest('issue #2255: Weird line rendering part 2', () => {\n\t\tlet lineText = ' \\t\\t\\tcursorStyle:\\t\\t\\t\\t\\t\\t(prevOpts.cursorStyle !== newOpts.cursorStyle),';\n\n\t\tlet lineParts = [\n\t\t\tcreatePart( 0, 'block body decl declaration meta method object ts'), // 4 chars\n\t\t\tcreatePart( 4, 'block body decl declaration member meta method object ts'), // 12 chars\n\t\t\tcreatePart(16, 'block body decl declaration member meta method object ts'), // 6 chars\n\t\t\tcreatePart(22, 'delimiter paren typescript'), // 1 char\n\t\t\tcreatePart(23, 'block body decl declaration member meta method object ts'), // 21 chars\n\t\t\tcreatePart(44, 'block body comparison decl declaration keyword member meta method object operator ts'), // 2 chars\n\t\t\tcreatePart(46, 'block body comparison decl declaration keyword member meta method object operator ts'), // 1 char\n\t\t\tcreatePart(47, 'block body decl declaration member meta method object ts'), // 20 chars\n\t\t\tcreatePart(67, 'delimiter paren typescript'), // 1 char\n\t\t\tcreatePart(68, 'block body decl declaration meta method object ts'), // 2 chars\n\t\t];\n\t\tlet expectedOutput = [\n\t\t\t'<span class=\"token block body decl declaration meta method object ts\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',\n\t\t\t'<span class=\"token block body decl declaration member meta method object ts\">cursorStyle:</span>',\n\t\t\t'<span class=\"token block body decl declaration member meta method object ts\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',\n\t\t\t'<span class=\"token delimiter paren typescript\">(</span>',\n\t\t\t'<span class=\"token block body decl declaration member meta method object ts\">prevOpts.cursorStyle&nbsp;</span>',\n\t\t\t'<span class=\"token block body comparison decl declaration keyword member meta method object operator ts\">!=</span>',\n\t\t\t'<span class=\"token block body comparison decl declaration keyword member meta method object operator ts\">=</span>',\n\t\t\t'<span class=\"token block body decl declaration member meta method object ts\">&nbsp;newOpts.cursorStyle</span>',\n\t\t\t'<span class=\"token delimiter paren typescript\">)</span>',\n\t\t\t'<span class=\"token block body decl declaration meta method object ts\">,</span>',\n\t\t].join('');\n\t\tlet expectedOffsetsArr = [\n\t\t\t[0, 1, 4, 8], // 4 chars\n\t\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], // 12 chars\n\t\t\t[0, 4, 8, 12, 16, 20], // 6 chars\n\t\t\t[0], // 1 char\n\t\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], // 21 chars\n\t\t\t[0, 1], // 2 chars\n\t\t\t[0], // 1 char\n\t\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], // 20 chars\n\t\t\t[0], // 1 char\n\t\t\t[0, 1] // 2 chars\n\t\t];\n\t\tlet expectedOffsets = expectedOffsetsArr.reduce((prev, curr) => prev.concat(curr), []);\n\n\t\tlet _actual = renderLine(new RenderLineInput(\n\t\t\tlineText,\n\t\t\t4,\n\t\t\t10,\n\t\t\t-1,\n\t\t\tfalse,\n\t\t\tlineParts\n\t\t));\n\n\t\tassert.equal(_actual.output, '<span>' + expectedOutput + '</span>');\n\t\tassert.deepEqual(_actual.charOffsetInPart, expectedOffsets);\n\t});\n\n\n});\n"]}