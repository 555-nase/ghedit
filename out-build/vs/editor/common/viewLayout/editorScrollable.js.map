{"version":3,"file":"vs/editor/common/viewLayout/editorScrollable.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/editor/common/viewLayout/editorScrollable.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport {EventEmitter} from 'vs/base/common/eventEmitter';\nimport {IDisposable} from 'vs/base/common/lifecycle';\nimport {IScrollable, ScrollEvent} from 'vs/base/common/scrollable';\nimport {IScrollEvent} from 'vs/editor/common/editorCommon';\n\nexport class EditorScrollable extends EventEmitter implements IScrollable {\n\n\tprivate scrollTop: number;\n\tprivate scrollLeft: number;\n\tprivate scrollWidth: number;\n\tprivate scrollHeight: number;\n\tprivate width: number;\n\tprivate height: number;\n\n\tconstructor() {\n\t\tsuper([\n\t\t\tEditorScrollable._SCROLL_EVENT\n\t\t]);\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\tthis.scrollWidth = 0;\n\t\tthis.scrollHeight = 0;\n\t\tthis.width = 0;\n\t\tthis.height = 0;\n\t}\n\n\tpublic dispose(): void {\n\t\tsuper.dispose();\n\t}\n\n\t// ------------ (visible) width\n\n\tpublic getWidth(): number {\n\t\treturn this.width;\n\t}\n\n\tpublic setWidth(width: number): void {\n\t\twidth = Math.floor(width);\n\t\tif (width < 0) {\n\t\t\twidth = 0;\n\t\t}\n\n\t\tif (this.width !== width) {\n\t\t\tthis.width = width;\n\n\t\t\t// Revalidate\n\t\t\tthis.setScrollWidth(this.scrollWidth);\n\t\t\tthis.setScrollLeft(this.scrollLeft);\n\t\t}\n\t}\n\n\t// ------------ scroll width\n\n\tpublic getScrollWidth(): number {\n\t\treturn this.scrollWidth;\n\t}\n\n\tpublic setScrollWidth(scrollWidth:number): void {\n\t\tscrollWidth = Math.floor(scrollWidth);\n\t\tif (scrollWidth < this.width) {\n\t\t\tscrollWidth = this.width;\n\t\t}\n\n\t\tif (this.scrollWidth !== scrollWidth) {\n\t\t\tthis.scrollWidth = scrollWidth;\n\n\t\t\t// Revalidate\n\t\t\tthis.setScrollLeft(this.scrollLeft);\n\n\t\t\tthis._emitScrollEvent(false, false);\n\t\t}\n\t}\n\n\t// ------------ scroll left\n\n\tpublic getScrollLeft(): number {\n\t\treturn this.scrollLeft;\n\t}\n\n\tpublic setScrollLeft(scrollLeft:number): void {\n\t\tscrollLeft = Math.floor(scrollLeft);\n\t\tif (scrollLeft < 0) {\n\t\t\tscrollLeft = 0;\n\t\t}\n\t\tif (scrollLeft + this.width > this.scrollWidth) {\n\t\t\tscrollLeft = this.scrollWidth - this.width;\n\t\t}\n\n\t\tif (this.scrollLeft !== scrollLeft) {\n\t\t\tthis.scrollLeft = scrollLeft;\n\n\t\t\tthis._emitScrollEvent(false, true);\n\t\t}\n\t}\n\n\t// ------------ (visible) height\n\n\tpublic getHeight(): number {\n\t\treturn this.height;\n\t}\n\n\tpublic setHeight(height: number): void {\n\t\theight = Math.floor(height);\n\t\tif (height < 0) {\n\t\t\theight = 0;\n\t\t}\n\n\t\tif (this.height !== height) {\n\t\t\tthis.height = height;\n\n\t\t\t// Revalidate\n\t\t\tthis.setScrollHeight(this.scrollHeight);\n\t\t\tthis.setScrollTop(this.scrollTop);\n\t\t}\n\t}\n\n\t// ------------ scroll height\n\n\tpublic getScrollHeight(): number {\n\t\treturn this.scrollHeight;\n\t}\n\n\tpublic setScrollHeight(scrollHeight: number): void {\n\t\tscrollHeight = Math.floor(scrollHeight);\n\t\tif (scrollHeight < this.height) {\n\t\t\tscrollHeight = this.height;\n\t\t}\n\n\t\tif (this.scrollHeight !== scrollHeight) {\n\t\t\tthis.scrollHeight = scrollHeight;\n\n\t\t\t// Revalidate\n\t\t\tthis.setScrollTop(this.scrollTop);\n\n\t\t\tthis._emitScrollEvent(false, false);\n\t\t}\n\t}\n\n\t// ------------ scroll top\n\n\tpublic getScrollTop(): number {\n\t\treturn this.scrollTop;\n\t}\n\n\tpublic setScrollTop(scrollTop:number): void {\n\t\tscrollTop = Math.floor(scrollTop);\n\t\tif (scrollTop < 0) {\n\t\t\tscrollTop = 0;\n\t\t}\n\t\tif (scrollTop + this.height > this.scrollHeight) {\n\t\t\tscrollTop = this.scrollHeight - this.height;\n\t\t}\n\n\t\tif (this.scrollTop !== scrollTop) {\n\t\t\tthis.scrollTop = scrollTop;\n\n\t\t\tthis._emitScrollEvent(true, false);\n\t\t}\n\t}\n\n\t// ------------ events\n\n\tstatic _SCROLL_EVENT = 'scroll';\n\tprivate _emitScrollEvent(vertical:boolean, horizontal:boolean): void {\n\t\tvar e:IScrollEvent = new ScrollEvent(\n\t\t\tthis.getScrollTop(),\n\t\t\tthis.getScrollLeft(),\n\t\t\tthis.getScrollWidth(),\n\t\t\tthis.getScrollHeight(),\n\t\t\tvertical,\n\t\t\thorizontal\n\t\t);\n\t\tthis.emit(EditorScrollable._SCROLL_EVENT, e);\n\t}\n\tpublic addScrollListener(listener: (e:ScrollEvent) => void): IDisposable {\n\t\treturn this.addListener2(EditorScrollable._SCROLL_EVENT, listener);\n\t}\n}\n"]}