{"version":3,"file":"editorLayoutProvider.js","sourceRoot":"","sources":["../../../../../src/vs/editor/common/viewLayout/editorLayoutProvider.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport {IEditorLayoutInfo} from 'vs/editor/common/editorCommon';\n\nexport interface IEditorLayoutProviderOpts {\n\touterWidth:number;\n\touterHeight:number;\n\n\tshowGlyphMargin:boolean;\n\tlineHeight:number;\n\n\tshowLineNumbers:boolean;\n\tlineNumbersMinChars:number;\n\tlineDecorationsWidth:number;\n\tmaxDigitWidth:number;\n\n\tlineCount: number;\n\n\tverticalScrollbarWidth:number;\n\tverticalScrollbarHasArrows:boolean;\n\tscrollbarArrowSize: number;\n\thorizontalScrollbarHeight:number;\n}\n\nexport class EditorLayoutProvider {\n\n\tpublic static compute(opts:IEditorLayoutProviderOpts): IEditorLayoutInfo {\n\t\tlet lineNumbersWidth = this.computeLineNumbersWidth(opts);\n\t\tlet glyphMarginWidth = this.computeGlyphMarginWidth(opts);\n\n\t\tlet contentWidth = opts.outerWidth - glyphMarginWidth - lineNumbersWidth - opts.lineDecorationsWidth;\n\n\t\tlet glyphMarginLeft = 0;\n\t\tlet lineNumbersLeft = glyphMarginLeft + glyphMarginWidth;\n\t\tlet decorationsLeft = lineNumbersLeft + lineNumbersWidth;\n\t\tlet contentLeft = decorationsLeft + opts.lineDecorationsWidth;\n\n\t\tlet verticalArrowSize = (opts.verticalScrollbarHasArrows ? opts.scrollbarArrowSize : 0);\n\n\t\treturn {\n\t\t\twidth: opts.outerWidth,\n\t\t\theight: opts.outerHeight,\n\n\t\t\tglyphMarginLeft: glyphMarginLeft,\n\t\t\tglyphMarginWidth: glyphMarginWidth,\n\t\t\tglyphMarginHeight: opts.outerHeight,\n\n\t\t\tlineNumbersLeft: lineNumbersLeft,\n\t\t\tlineNumbersWidth: lineNumbersWidth,\n\t\t\tlineNumbersHeight: opts.outerHeight,\n\n\t\t\tdecorationsLeft: decorationsLeft,\n\t\t\tdecorationsWidth: opts.lineDecorationsWidth,\n\t\t\tdecorationsHeight: opts.outerHeight,\n\n\t\t\tcontentLeft: contentLeft,\n\t\t\tcontentWidth: contentWidth,\n\t\t\tcontentHeight: opts.outerHeight,\n\n\t\t\tverticalScrollbarWidth: opts.verticalScrollbarWidth,\n\t\t\thorizontalScrollbarHeight: opts.horizontalScrollbarHeight,\n\n\t\t\toverviewRuler: {\n\t\t\t\ttop: verticalArrowSize,\n\t\t\t\twidth: opts.verticalScrollbarWidth,\n\t\t\t\theight: (opts.outerHeight - 2 * verticalArrowSize),\n\t\t\t\tright: 0\n\t\t\t}\n\t\t};\n\t}\n\n\tpublic static layoutEqual(a:IEditorLayoutInfo, b:IEditorLayoutInfo): boolean {\n\t\treturn (\n\t\t\ta.width === b.width\n\t\t\t&& a.height === b.height\n\t\t\t&& a.glyphMarginLeft === b.glyphMarginLeft\n\t\t\t&& a.glyphMarginWidth === b.glyphMarginWidth\n\t\t\t&& a.glyphMarginHeight === b.glyphMarginHeight\n\t\t\t&& a.lineNumbersLeft === b.lineNumbersLeft\n\t\t\t&& a.lineNumbersWidth === b.lineNumbersWidth\n\t\t\t&& a.lineNumbersHeight === b.lineNumbersHeight\n\t\t\t&& a.decorationsLeft === b.decorationsLeft\n\t\t\t&& a.decorationsWidth === b.decorationsWidth\n\t\t\t&& a.decorationsHeight === b.decorationsHeight\n\t\t\t&& a.contentLeft === b.contentLeft\n\t\t\t&& a.contentWidth === b.contentWidth\n\t\t\t&& a.contentHeight === b.contentHeight\n\t\t\t&& a.verticalScrollbarWidth === b.verticalScrollbarWidth\n\t\t\t&& a.horizontalScrollbarHeight === b.horizontalScrollbarHeight\n\t\t\t&& a.overviewRuler.top === b.overviewRuler.top\n\t\t\t&& a.overviewRuler.width === b.overviewRuler.width\n\t\t\t&& a.overviewRuler.height === b.overviewRuler.height\n\t\t\t&& a.overviewRuler.right === b.overviewRuler.right\n\t\t);\n\t}\n\n\tprivate static computeGlyphMarginWidth(opts:IEditorLayoutProviderOpts): number {\n\t\tif (opts.showGlyphMargin) {\n\t\t\treturn opts.lineHeight;\n\t\t}\n\t\treturn 0;\n\t}\n\n\tprivate static digitCount(n:number): number {\n\t\tvar r = 0;\n\t\twhile (n) {\n\t\t\tn = Math.floor(n / 10);\n\t\t\tr++;\n\t\t}\n\t\treturn r ? r : 1;\n\t}\n\n\tprivate static computeLineNumbersWidth(opts:IEditorLayoutProviderOpts): number {\n\t\tif (opts.showLineNumbers) {\n\t\t\tvar digitCount = Math.max(this.digitCount(opts.lineCount), opts.lineNumbersMinChars);\n\t\t\treturn Math.round(digitCount * opts.maxDigitWidth);\n\t\t}\n\t\treturn 0;\n\t}\n}\n"]}