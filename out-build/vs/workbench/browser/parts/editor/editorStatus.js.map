{"version":3,"file":"editorStatus.js","sourceRoot":"","sources":["../../../../../../src/vs/workbench/browser/parts/editor/editorStatus.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport 'vs/css!./media/editorstatus';\nimport nls = require('vs/nls');\nimport {TPromise} from 'vs/base/common/winjs.base';\nimport { emmet as $, append, runAtThisOrScheduleAtNextAnimationFrame } from 'vs/base/browser/dom';\nimport strings = require('vs/base/common/strings');\nimport paths = require('vs/base/common/paths');\nimport types = require('vs/base/common/types');\nimport uri from 'vs/base/common/uri';\nimport errors = require('vs/base/common/errors');\nimport {IStatusbarItem} from 'vs/workbench/browser/parts/statusbar/statusbar';\nimport {Action} from 'vs/base/common/actions';\nimport {IMode} from 'vs/editor/common/modes';\nimport {UntitledEditorInput} from 'vs/workbench/common/editor/untitledEditorInput';\nimport {IFileEditorInput, EncodingMode, IEncodingSupport, asFileEditorInput, getUntitledOrFileResource} from 'vs/workbench/common/editor';\nimport {IDisposable, combinedDisposable} from 'vs/base/common/lifecycle';\nimport {IMessageService, Severity} from 'vs/platform/message/common/message';\nimport {ICommonCodeEditor} from 'vs/editor/common/editorCommon';\nimport {OpenGlobalSettingsAction} from 'vs/workbench/browser/actions/openSettings';\nimport {ICodeEditor, IDiffEditor} from 'vs/editor/browser/editorBrowser';\nimport {TrimTrailingWhitespaceAction} from 'vs/editor/contrib/linesOperations/common/linesOperations';\nimport {EndOfLineSequence, ITokenizedModel, EditorType, IEditorSelection, ITextModel, IDiffEditorModel, IEditor} from 'vs/editor/common/editorCommon';\nimport {IndentUsingSpaces, IndentUsingTabs, DetectIndentation, IndentationToSpacesAction, IndentationToTabsAction} from 'vs/editor/contrib/indentation/common/indentation';\nimport {EventType, ResourceEvent, EditorEvent, TextEditorSelectionEvent} from 'vs/workbench/common/events';\nimport {BaseTextEditor} from 'vs/workbench/browser/parts/editor/textEditor';\nimport {IEditor as IBaseEditor} from 'vs/platform/editor/common/editor';\nimport {IWorkbenchEditorService}  from 'vs/workbench/services/editor/common/editorService';\nimport {IQuickOpenService, IPickOpenEntry} from 'vs/workbench/services/quickopen/common/quickOpenService';\nimport {IConfigurationService} from 'vs/platform/configuration/common/configuration';\nimport {IEventService} from 'vs/platform/event/common/event';\nimport {IFilesConfiguration, SUPPORTED_ENCODINGS} from 'vs/platform/files/common/files';\nimport {IInstantiationService} from 'vs/platform/instantiation/common/instantiation';\nimport {IModeService} from 'vs/editor/common/services/modeService';\nimport {StyleMutator} from 'vs/base/browser/styleMutator';\n\nfunction getCodeEditor(e: IBaseEditor): ICommonCodeEditor {\n\tif (e instanceof BaseTextEditor) {\n\t\tlet editorWidget = e.getControl();\n\t\tif (editorWidget.getEditorType() === EditorType.IDiffEditor) {\n\t\t\treturn (<IDiffEditor>editorWidget).getModifiedEditor();\n\t\t}\n\t\tif (editorWidget.getEditorType() === EditorType.ICodeEditor) {\n\t\t\treturn (<ICodeEditor>editorWidget);\n\t\t}\n\t\treturn null;\n\t}\n\treturn null;\n}\n\nfunction getTextModel(editorWidget: IEditor): ITextModel {\n\tlet textModel: ITextModel;\n\n\t// Support for diff\n\tlet model = editorWidget.getModel();\n\tif (model && !!(<IDiffEditorModel>model).modified) {\n\t\ttextModel = (<IDiffEditorModel>model).modified;\n\t}\n\n\t// Normal editor\n\telse {\n\t\ttextModel = <ITextModel>model;\n\t}\n\n\treturn textModel;\n}\n\nfunction asFileOrUntitledEditorInput(input: any): UntitledEditorInput | IFileEditorInput {\n\tif (input instanceof UntitledEditorInput) {\n\t\treturn input;\n\t}\n\n\treturn asFileEditorInput(input, true /* support diff editor */);\n}\n\ninterface IEditorSelectionStatus {\n\tselections?: IEditorSelection[];\n\tcharactersSelected?: number;\n}\n\nclass StateChange {\n\t_stateChangeTrait: void;\n\n\tindentation: boolean;\n\tselectionStatus: boolean;\n\tmode: boolean;\n\tencoding: boolean;\n\tEOL: boolean;\n\ttabFocusMode: boolean;\n\n\tconstructor() {\n\t\tthis.indentation = false;\n\t\tthis.selectionStatus = false;\n\t\tthis.mode = false;\n\t\tthis.encoding = false;\n\t\tthis.EOL = false;\n\t\tthis.tabFocusMode = false;\n\t}\n\n\tpublic combine(other: StateChange) {\n\t\tthis.indentation = this.indentation || other.indentation;\n\t\tthis.selectionStatus = this.selectionStatus || other.selectionStatus;\n\t\tthis.mode = this.mode || other.mode;\n\t\tthis.encoding = this.encoding || other.encoding;\n\t\tthis.EOL = this.EOL || other.EOL;\n\t\tthis.tabFocusMode = this.tabFocusMode || other.tabFocusMode;\n\t}\n}\n\ninterface StateDelta {\n\tselectionStatus?: string;\n\tmode?: string;\n\tencoding?: string;\n\tEOL?: string;\n\tindentation?: string;\n\ttabFocusMode?: boolean;\n}\n\nclass State {\n\tprivate _selectionStatus: string;\n\tpublic get selectionStatus(): string { return this._selectionStatus; }\n\n\tprivate _mode: string;\n\tpublic get mode(): string { return this._mode; }\n\n\tprivate _encoding: string;\n\tpublic get encoding(): string { return this._encoding; }\n\n\tprivate _EOL: string;\n\tpublic get EOL(): string { return this._EOL; }\n\n\tprivate _indentation: string;\n\tpublic get indentation(): string { return this._indentation; }\n\n\tprivate _tabFocusMode: boolean;\n\tpublic get tabFocusMode(): boolean { return this._tabFocusMode; }\n\n\tconstructor() {\n\t\tthis._selectionStatus = null;\n\t\tthis._mode = null;\n\t\tthis._encoding = null;\n\t\tthis._EOL = null;\n\t\tthis._tabFocusMode = false;\n\t}\n\n\tpublic update(update: StateDelta): StateChange {\n\t\tlet e = new StateChange();\n\t\tlet somethingChanged = false;\n\n\t\tif (typeof update.selectionStatus !== 'undefined') {\n\t\t\tif (this._selectionStatus !== update.selectionStatus) {\n\t\t\t\tthis._selectionStatus = update.selectionStatus;\n\t\t\t\tsomethingChanged = true;\n\t\t\t\te.selectionStatus = true;\n\t\t\t}\n\t\t}\n\t\tif (typeof update.indentation !== 'undefined') {\n\t\t\tif (this._indentation !== update.indentation) {\n\t\t\t\tthis._indentation = update.indentation;\n\t\t\t\tsomethingChanged = true;\n\t\t\t\te.indentation = true;\n\t\t\t}\n\t\t}\n\t\tif (typeof update.mode !== 'undefined') {\n\t\t\tif (this._mode !== update.mode) {\n\t\t\t\tthis._mode = update.mode;\n\t\t\t\tsomethingChanged = true;\n\t\t\t\te.mode = true;\n\t\t\t}\n\t\t}\n\t\tif (typeof update.encoding !== 'undefined') {\n\t\t\tif (this._encoding !== update.encoding) {\n\t\t\t\tthis._encoding = update.encoding;\n\t\t\t\tsomethingChanged = true;\n\t\t\t\te.encoding = true;\n\t\t\t}\n\t\t}\n\t\tif (typeof update.EOL !== 'undefined') {\n\t\t\tif (this._EOL !== update.EOL) {\n\t\t\t\tthis._EOL = update.EOL;\n\t\t\t\tsomethingChanged = true;\n\t\t\t\te.EOL = true;\n\t\t\t}\n\t\t}\n\t\tif (typeof update.tabFocusMode !== 'undefined') {\n\t\t\tif (this._tabFocusMode !== update.tabFocusMode) {\n\t\t\t\tthis._tabFocusMode = update.tabFocusMode;\n\t\t\t\tsomethingChanged = true;\n\t\t\t\te.tabFocusMode = true;\n\t\t\t}\n\t\t}\n\n\t\tif (somethingChanged) {\n\t\t\treturn e;\n\t\t}\n\t\treturn null;\n\t}\n}\n\nconst nlsSingleSelectionRange = nls.localize('singleSelectionRange', \"Ln {0}, Col {1} ({2} selected)\");\nconst nlsSingleSelection = nls.localize('singleSelection', \"Ln {0}, Col {1}\");\nconst nlsMultiSelectionRange = nls.localize('multiSelectionRange', \"{0} selections ({1} characters selected)\");\nconst nlsMultiSelection = nls.localize('multiSelection', \"{0} selections\");\nconst nlsEOLLF = nls.localize('endOfLineLineFeed', \"LF\");\nconst nlsEOLCRLF = nls.localize('endOfLineCarriageReturnLineFeed', \"CRLF\");\nconst nlsTabFocusMode = nls.localize('tabFocusModeEnabled', \"Tab moves focus\");\n\nfunction show(el: HTMLElement): void {\n\tStyleMutator.setDisplay(el, '');\n}\nfunction hide(el: HTMLElement): void {\n\tStyleMutator.setDisplay(el, 'none');\n}\n\nexport class EditorStatus implements IStatusbarItem {\n\n\tprivate state: State;\n\tprivate element: HTMLElement;\n\tprivate tabFocusModeElement: HTMLElement;\n\tprivate indentationElement: HTMLElement;\n\tprivate selectionElement: HTMLElement;\n\tprivate encodingElement: HTMLElement;\n\tprivate eolElement: HTMLElement;\n\tprivate modeElement: HTMLElement;\n\tprivate toDispose: IDisposable[];\n\tprivate delayedRender: IDisposable;\n\tprivate toRender: StateChange;\n\n\tconstructor(\n\t\t@IWorkbenchEditorService private editorService: IWorkbenchEditorService,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService,\n\t\t@IInstantiationService private instantiationService: IInstantiationService,\n\t\t@IEventService private eventService: IEventService,\n\t\t@IModeService private modeService: IModeService,\n\t\t@IConfigurationService private configurationService: IConfigurationService\n\t) {\n\t\tthis.toDispose = [];\n\t\tthis.state = new State();\n\t}\n\n\tpublic render(container: HTMLElement): IDisposable {\n\t\tthis.element = append(container, $('.editor-statusbar-item'));\n\n\t\tthis.tabFocusModeElement = append(this.element, $('a.editor-status-tabfocusmode'));\n\t\tthis.tabFocusModeElement.title = nls.localize('disableTabMode', \"Disable Accessibility Mode\");\n\t\tthis.tabFocusModeElement.onclick = () => this.onTabFocusModeClick();\n\t\tthis.tabFocusModeElement.textContent = nlsTabFocusMode;\n\t\thide(this.tabFocusModeElement);\n\n\t\tthis.selectionElement = append(this.element, $('a.editor-status-selection'));\n\t\tthis.selectionElement.title = nls.localize('gotoLine', \"Go to Line\");\n\t\tthis.selectionElement.onclick = () => this.onSelectionClick();\n\t\thide(this.selectionElement);\n\n\t\tthis.indentationElement = append(this.element, $('a.editor-status-indentation'));\n\t\tthis.indentationElement.title = nls.localize('indentation', \"Indentation\");\n\t\tthis.indentationElement.onclick = () => this.onIndentationClick();\n\t\thide(this.indentationElement);\n\n\t\tthis.encodingElement = append(this.element, $('a.editor-status-encoding'));\n\t\tthis.encodingElement.title = nls.localize('selectEncoding', \"Select Encoding\");\n\t\tthis.encodingElement.onclick = () => this.onEncodingClick();\n\t\thide(this.encodingElement);\n\n\t\tthis.eolElement = append(this.element, $('a.editor-status-eol'));\n\t\tthis.eolElement.title = nls.localize('selectEOL', \"Select End of Line Sequence\");\n\t\tthis.eolElement.onclick = () => this.onEOLClick();\n\t\thide(this.eolElement);\n\n\t\tthis.modeElement = append(this.element, $('a.editor-status-mode'));\n\t\tthis.modeElement.title = nls.localize('selectLanguageMode', \"Select Language Mode\");\n\t\tthis.modeElement.onclick = () => this.onModeClick();\n\t\thide(this.modeElement);\n\n\t\tthis.delayedRender = null;\n\t\tthis.toRender = null;\n\n\t\tthis.toDispose.push(\n\t\t\t{\n\t\t\t\tdispose: () => {\n\t\t\t\t\tif (this.delayedRender) {\n\t\t\t\t\t\tthis.delayedRender.dispose();\n\t\t\t\t\t\tthis.delayedRender = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tthis.eventService.addListener2(EventType.EDITOR_INPUT_CHANGED, (e: EditorEvent) => this.onEditorInputChange(e.editor)),\n\t\t\tthis.eventService.addListener2(EventType.RESOURCE_ENCODING_CHANGED, (e: ResourceEvent) => this.onResourceEncodingChange(e.resource)),\n\t\t\tthis.eventService.addListener2(EventType.TEXT_EDITOR_SELECTION_CHANGED, (e: TextEditorSelectionEvent) => this.onSelectionChange(e.editor)),\n\t\t\tthis.eventService.addListener2(EventType.TEXT_EDITOR_MODE_CHANGED, (e: EditorEvent) => this.onModeChange(e.editor)),\n\t\t\tthis.eventService.addListener2(EventType.TEXT_EDITOR_CONTENT_CHANGED, (e: EditorEvent) => this.onEOLChange(e.editor)),\n\t\t\tthis.eventService.addListener2(EventType.TEXT_EDITOR_CONFIGURATION_CHANGED, (e: EditorEvent) => this.onTabFocusModeChange(e.editor)),\n\t\t\tthis.eventService.addListener2(EventType.TEXT_EDITOR_CONTENT_OPTIONS_CHANGED, (e: EditorEvent) => this.onIndentationChange(e.editor))\n\t\t);\n\n\t\treturn combinedDisposable(this.toDispose);\n\t}\n\n\tprivate updateState(update: StateDelta): void {\n\t\tlet changed = this.state.update(update);\n\t\tif (!changed) {\n\t\t\t// Nothing really changed\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.toRender) {\n\t\t\tthis.toRender = changed;\n\t\t\tthis.delayedRender = runAtThisOrScheduleAtNextAnimationFrame(() => {\n\t\t\t\tthis.delayedRender = null;\n\t\t\t\tlet toRender = this.toRender;\n\t\t\t\tthis.toRender = null;\n\t\t\t\tthis._renderNow(toRender);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.toRender.combine(changed);\n\t\t}\n\t}\n\n\tprivate _renderNow(changed: StateChange): void {\n\t\tif (changed.tabFocusMode) {\n\t\t\tif (this.state.tabFocusMode && this.state.tabFocusMode === true) {\n\t\t\t\tshow(this.tabFocusModeElement);\n\t\t\t} else {\n\t\t\t\thide(this.tabFocusModeElement);\n\t\t\t}\n\t\t}\n\n\t\tif (changed.indentation) {\n\t\t\tif (this.state.indentation) {\n\t\t\t\tthis.indentationElement.textContent = this.state.indentation;\n\t\t\t\tshow(this.indentationElement);\n\t\t\t} else {\n\t\t\t\thide(this.indentationElement);\n\t\t\t}\n\t\t}\n\n\t\tif (changed.selectionStatus) {\n\t\t\tif (this.state.selectionStatus) {\n\t\t\t\tthis.selectionElement.textContent = this.state.selectionStatus;\n\t\t\t\tshow(this.selectionElement);\n\t\t\t} else {\n\t\t\t\thide(this.selectionElement);\n\t\t\t}\n\t\t}\n\n\t\tif (changed.encoding) {\n\t\t\tif (this.state.encoding) {\n\t\t\t\tthis.encodingElement.textContent = this.state.encoding;\n\t\t\t\tshow(this.encodingElement);\n\t\t\t} else {\n\t\t\t\thide(this.encodingElement);\n\t\t\t}\n\t\t}\n\n\t\tif (changed.EOL) {\n\t\t\tif (this.state.EOL) {\n\t\t\t\tthis.eolElement.textContent = this.state.EOL === '\\r\\n' ? nlsEOLCRLF : nlsEOLLF;\n\t\t\t\tshow(this.eolElement);\n\t\t\t} else {\n\t\t\t\thide(this.eolElement);\n\t\t\t}\n\t\t}\n\n\t\tif (changed.mode) {\n\t\t\tif (this.state.mode) {\n\t\t\t\tthis.modeElement.textContent = this.state.mode;\n\t\t\t\tshow(this.modeElement);\n\t\t\t} else {\n\t\t\t\thide(this.modeElement);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getSelectionLabel(info: IEditorSelectionStatus): string {\n\t\tif (!info || !info.selections) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (info.selections.length === 1) {\n\t\t\tif (info.charactersSelected) {\n\t\t\t\treturn strings.format(nlsSingleSelectionRange, info.selections[0].positionLineNumber, info.selections[0].positionColumn, info.charactersSelected);\n\t\t\t} else {\n\t\t\t\treturn strings.format(nlsSingleSelection, info.selections[0].positionLineNumber, info.selections[0].positionColumn);\n\t\t\t}\n\t\t} else {\n\t\t\tif (info.charactersSelected) {\n\t\t\t\treturn strings.format(nlsMultiSelectionRange, info.selections.length, info.charactersSelected);\n\t\t\t} else {\n\t\t\t\treturn strings.format(nlsMultiSelection, info.selections.length);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onModeClick(): void {\n\t\tlet action = this.instantiationService.createInstance(ChangeModeAction, ChangeModeAction.ID, ChangeModeAction.LABEL);\n\n\t\taction.run().done(null, errors.onUnexpectedError);\n\t\taction.dispose();\n\t}\n\n\tprivate onIndentationClick(): void {\n\t\tconst action = this.instantiationService.createInstance(ChangeIndentationAction, ChangeIndentationAction.ID, ChangeIndentationAction.LABEL);\n\t\taction.run().done(null, errors.onUnexpectedError);\n\t\taction.dispose();\n\t}\n\n\tprivate onSelectionClick(): void {\n\t\tthis.quickOpenService.show(':'); // \"Go to line\"\n\t}\n\n\tprivate onEOLClick(): void {\n\t\tlet action = this.instantiationService.createInstance(ChangeEOLAction, ChangeEOLAction.ID, ChangeEOLAction.LABEL);\n\n\t\taction.run().done(null, errors.onUnexpectedError);\n\t\taction.dispose();\n\t}\n\n\tprivate onEncodingClick(): void {\n\t\tlet action = this.instantiationService.createInstance(ChangeEncodingAction, ChangeEncodingAction.ID, ChangeEncodingAction.LABEL);\n\n\t\taction.run().done(null, errors.onUnexpectedError);\n\t\taction.dispose();\n\t}\n\n\tprivate onTabFocusModeClick(): void {\n\t\tlet activeEditor = this.editorService.getActiveEditor();\n\t\tif (activeEditor instanceof BaseTextEditor && isCodeEditorWithTabFocusMode(activeEditor)) {\n\t\t\t(<ICodeEditor>activeEditor.getControl()).updateOptions({ tabFocusMode: false });\n\t\t}\n\t}\n\n\tprivate onEditorInputChange(e: IBaseEditor): void {\n\t\tthis.onSelectionChange(e);\n\t\tthis.onModeChange(e);\n\t\tthis.onEOLChange(e);\n\t\tthis.onEncodingChange(e);\n\t\tthis.onTabFocusModeChange(e);\n\t\tthis.onIndentationChange(e);\n\t}\n\n\tprivate onModeChange(e: IBaseEditor): void {\n\t\tif (e && !this.isActiveEditor(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet info: StateDelta = { mode: null };\n\n\t\t// We only support text based editors\n\t\tif (e instanceof BaseTextEditor) {\n\t\t\tlet editorWidget = e.getControl();\n\t\t\tlet textModel = getTextModel(editorWidget);\n\t\t\tif (textModel) {\n\t\t\t\t// Compute mode\n\t\t\t\tif (!!(<ITokenizedModel>textModel).getMode) {\n\t\t\t\t\tlet mode = (<ITokenizedModel>textModel).getMode();\n\t\t\t\t\tif (mode) {\n\t\t\t\t\t\tinfo = { mode: this.modeService.getLanguageName(mode.getId()) };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState(info);\n\t}\n\n\tprivate onIndentationChange(e: IBaseEditor): void {\n\t\tif (e && !this.isActiveEditor(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst update: StateDelta = { indentation: null };\n\n\t\tif (e instanceof BaseTextEditor) {\n\t\t\tlet editorWidget = e.getControl();\n\t\t\tif (editorWidget) {\n\t\t\t\tif (editorWidget.getEditorType() === EditorType.IDiffEditor) {\n\t\t\t\t\teditorWidget = (<IDiffEditor>editorWidget).getModifiedEditor();\n\t\t\t\t}\n\n\t\t\t\tconst model = (<ICommonCodeEditor>editorWidget).getModel();\n\t\t\t\tif (model) {\n\t\t\t\t\tconst modelOpts = model.getOptions();\n\t\t\t\t\tupdate.indentation = (\n\t\t\t\t\t\tmodelOpts.insertSpaces\n\t\t\t\t\t\t\t? nls.localize('spacesSize', \"Spaces: {0}\", modelOpts.tabSize)\n\t\t\t\t\t\t\t: nls.localize({ key: 'tabSize', comment: ['Tab corresponds to the tab key'] }, \"Tab Size: {0}\", modelOpts.tabSize)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState(update);\n\t}\n\n\tprivate onSelectionChange(e: IBaseEditor): void {\n\t\tif (e && !this.isActiveEditor(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet info: IEditorSelectionStatus = {};\n\n\t\t// We only support text based editors\n\t\tif (e instanceof BaseTextEditor) {\n\t\t\tlet editorWidget = e.getControl();\n\n\t\t\t// Compute selection(s)\n\t\t\tinfo.selections = editorWidget.getSelections() || [];\n\n\t\t\t// Compute selection length\n\t\t\tinfo.charactersSelected = 0;\n\t\t\tlet textModel = getTextModel(editorWidget);\n\t\t\tif (textModel) {\n\t\t\t\tinfo.selections.forEach((selection) => {\n\t\t\t\t\tinfo.charactersSelected += textModel.getValueLengthInRange(selection);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Compute the visible column for one selection. This will properly handle tabs and their configured widths\n\t\t\tif (info.selections.length === 1) {\n\t\t\t\tlet visibleColumn = editorWidget.getVisibleColumnFromPosition(editorWidget.getPosition());\n\n\t\t\t\tlet selectionClone = info.selections[0].clone(); // do not modify the original position we got from the editor\n\t\t\t\tselectionClone.positionColumn = visibleColumn;\n\n\t\t\t\tinfo.selections[0] = selectionClone;\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState({ selectionStatus: this.getSelectionLabel(info) });\n\t}\n\n\tprivate onEOLChange(e: IBaseEditor): void {\n\t\tif (e && !this.isActiveEditor(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet info: StateDelta = { EOL: null };\n\n\t\tlet codeEditor = getCodeEditor(e);\n\t\tif (codeEditor && !codeEditor.getConfiguration().readOnly) {\n\t\t\tlet codeEditorModel = codeEditor.getModel();\n\t\t\tif (codeEditorModel) {\n\t\t\t\tinfo.EOL = codeEditorModel.getEOL();\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState(info);\n\t}\n\n\tprivate onEncodingChange(e: IBaseEditor): void {\n\t\tif (e && !this.isActiveEditor(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet info: StateDelta = { encoding: null };\n\n\t\t// We only support text based editors\n\t\tif (e instanceof BaseTextEditor) {\n\t\t\tlet encodingSupport: IEncodingSupport = <any>asFileOrUntitledEditorInput(e.input);\n\t\t\tif (encodingSupport && types.isFunction(encodingSupport.getEncoding)) {\n\t\t\t\tlet rawEncoding = encodingSupport.getEncoding();\n\t\t\t\tlet encodingInfo = SUPPORTED_ENCODINGS[rawEncoding];\n\t\t\t\tif (encodingInfo) {\n\t\t\t\t\tinfo.encoding = encodingInfo.labelShort; // if we have a label, take it from there\n\t\t\t\t} else {\n\t\t\t\t\tinfo.encoding = rawEncoding; // otherwise use it raw\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState(info);\n\t}\n\n\tprivate onResourceEncodingChange(resource: uri): void {\n\t\tlet activeEditor = this.editorService.getActiveEditor();\n\t\tif (activeEditor) {\n\t\t\tlet activeResource = getUntitledOrFileResource(activeEditor.input, true);\n\t\t\tif (activeResource && activeResource.toString() === resource.toString()) {\n\t\t\t\treturn this.onEncodingChange(<IBaseEditor>activeEditor); // only update if the encoding changed for the active resource\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onTabFocusModeChange(e: IBaseEditor): void {\n\t\tif (e && !this.isActiveEditor(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet info: StateDelta = { tabFocusMode: false };\n\n\t\t// We only support text based editors\n\t\tif (e instanceof BaseTextEditor && isCodeEditorWithTabFocusMode(e)) {\n\t\t\tinfo = { tabFocusMode: true };\n\t\t}\n\n\t\tthis.updateState(info);\n\t}\n\n\tprivate isActiveEditor(e: IBaseEditor): boolean {\n\t\tlet activeEditor = this.editorService.getActiveEditor();\n\n\t\treturn activeEditor && e && activeEditor === e;\n\t}\n}\n\nfunction isCodeEditorWithTabFocusMode(e: BaseTextEditor): boolean {\n\tlet editorWidget = e.getControl();\n\tif (editorWidget.getEditorType() === EditorType.IDiffEditor) {\n\t\teditorWidget = (<IDiffEditor>editorWidget).getModifiedEditor();\n\t}\n\tif (editorWidget.getEditorType() !== EditorType.ICodeEditor) {\n\t\treturn false;\n\t}\n\n\tlet editorConfig = (<ICodeEditor>editorWidget).getConfiguration();\n\treturn editorConfig.tabFocusMode && !editorConfig.readOnly;\n}\n\nfunction isWritableCodeEditor(e: BaseTextEditor): boolean {\n\tlet editorWidget = e.getControl();\n\tif (editorWidget.getEditorType() === EditorType.IDiffEditor) {\n\t\teditorWidget = (<IDiffEditor>editorWidget).getModifiedEditor();\n\t}\n\n\treturn (editorWidget.getEditorType() === EditorType.ICodeEditor &&\n\t\t!(<ICodeEditor>editorWidget).getConfiguration().readOnly);\n}\n\nexport class ChangeModeAction extends Action {\n\n\tpublic static ID = 'workbench.action.editor.changeLanguageMode';\n\tpublic static LABEL = nls.localize('changeMode', \"Change Language Mode\");\n\n\tconstructor(\n\t\tactionId: string,\n\t\tactionLabel: string,\n\t\t@IModeService private modeService: IModeService,\n\t\t@IWorkbenchEditorService private editorService: IWorkbenchEditorService,\n\t\t@IMessageService private messageService: IMessageService,\n\t\t@IInstantiationService private instantiationService: IInstantiationService,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService\n\t) {\n\t\tsuper(actionId, actionLabel);\n\t}\n\n\tpublic run(): TPromise<any> {\n\t\tlet languages = this.modeService.getRegisteredLanguageNames();\n\t\tlet activeEditor = this.editorService.getActiveEditor();\n\t\tif (!(activeEditor instanceof BaseTextEditor)) {\n\t\t\treturn this.quickOpenService.pick([{ label: nls.localize('noEditor', \"No text editor active at this time\") }]);\n\t\t}\n\n\t\tlet editorWidget = (<BaseTextEditor>activeEditor).getControl();\n\t\tlet textModel = getTextModel(editorWidget);\n\t\tlet fileinput = asFileEditorInput(activeEditor.input, true);\n\n\t\t// Compute mode\n\t\tlet currentModeId: string;\n\t\tif (!!(<ITokenizedModel>textModel).getMode) {\n\t\t\tlet mode = (<ITokenizedModel>textModel).getMode();\n\t\t\tif (mode) {\n\t\t\t\tcurrentModeId = this.modeService.getLanguageName(mode.getId());\n\t\t\t}\n\t\t}\n\n\t\t// All languages are valid picks\n\t\tlet picks: IPickOpenEntry[] = languages.sort().map((lang, index) => {\n\t\t\treturn {\n\t\t\t\tlabel: lang,\n\t\t\t\tdescription: currentModeId === lang ? nls.localize('configuredLanguage', \"Configured Language\") : void 0\n\t\t\t};\n\t\t});\n\t\tpicks[0].separator = { border: true, label: nls.localize('languagesPicks', \"languages\") };\n\n\t\t// Offer action to configure via settings\n\t\tlet configureLabel = nls.localize('configureAssociations', \"Configure File Associations...\");\n\t\tif (fileinput) {\n\t\t\tconst resource = fileinput.getResource();\n\t\t\tconst ext = paths.extname(resource.fsPath) || paths.basename(resource.fsPath);\n\t\t\tif (ext) {\n\t\t\t\tconfigureLabel = nls.localize('configureAssociationsExt', \"Configure File Association for '{0}'...\", ext);\n\t\t\t}\n\t\t}\n\n\t\tlet configureModeAssociations: IPickOpenEntry = {\n\t\t\tlabel: configureLabel\n\t\t};\n\t\tpicks.unshift(configureModeAssociations);\n\n\t\t// Offer to \"Auto Detect\"\n\t\tlet autoDetectMode: IPickOpenEntry = {\n\t\t\tlabel: nls.localize('autoDetect', \"Auto Detect\")\n\t\t};\n\t\tif (fileinput) {\n\t\t\tpicks.unshift(autoDetectMode);\n\t\t}\n\n\t\treturn this.quickOpenService.pick(picks, { placeHolder: nls.localize('pickLanguage', \"Select Language Mode\") }).then((language) => {\n\t\t\tif (language) {\n\t\t\t\tactiveEditor = this.editorService.getActiveEditor();\n\t\t\t\tif (activeEditor instanceof BaseTextEditor) {\n\t\t\t\t\tlet editorWidget = activeEditor.getControl();\n\t\t\t\t\tlet models: ITextModel[] = [];\n\n\t\t\t\t\tlet textModel = getTextModel(editorWidget);\n\t\t\t\t\tmodels.push(textModel);\n\n\t\t\t\t\t// Support for original side of diff\n\t\t\t\t\tlet model = editorWidget.getModel();\n\t\t\t\t\tif (model && !!(<IDiffEditorModel>model).original) {\n\t\t\t\t\t\tmodels.push((<IDiffEditorModel>model).original);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Find mode\n\t\t\t\t\tlet mode: TPromise<IMode>;\n\t\t\t\t\tif (language === autoDetectMode) {\n\t\t\t\t\t\tmode = this.modeService.getOrCreateModeByFilenameOrFirstLine(getUntitledOrFileResource(activeEditor.input, true).fsPath, textModel.getLineContent(1));\n\t\t\t\t\t} else if (language === configureModeAssociations) {\n\t\t\t\t\t\tconst action = this.instantiationService.createInstance(OpenGlobalSettingsAction, OpenGlobalSettingsAction.ID, OpenGlobalSettingsAction.LABEL);\n\t\t\t\t\t\taction.run().done(() => action.dispose(), errors.onUnexpectedError);\n\n\t\t\t\t\t\tthis.messageService.show(Severity.Info, nls.localize('persistFileAssociations', \"You can configure filename to language associations in the **files.associations** section. The changes may need a restart to take effect on already opened files.\"));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmode = this.modeService.getOrCreateModeByLanguageName(language.label);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Change mode\n\t\t\t\t\tmodels.forEach((textModel) => {\n\t\t\t\t\t\tif (!!(<ITokenizedModel>textModel).getMode) {\n\t\t\t\t\t\t\t(<ITokenizedModel>textModel).setMode(mode);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport interface IChangeEOLEntry extends IPickOpenEntry {\n\teol: EndOfLineSequence;\n}\n\nclass ChangeIndentationAction extends Action {\n\n\tpublic static ID = 'workbench.action.editor.changeIndentation';\n\tpublic static LABEL = nls.localize('changeIndentation', \"Change Indentation\");\n\n\tconstructor(\n\t\tactionId: string,\n\t\tactionLabel: string,\n\t\t@IWorkbenchEditorService private editorService: IWorkbenchEditorService,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService\n\t) {\n\t\tsuper(actionId, actionLabel);\n\t}\n\n\tpublic run(): TPromise<any> {\n\t\tconst activeEditor = this.editorService.getActiveEditor();\n\t\tif (!(activeEditor instanceof BaseTextEditor)) {\n\t\t\treturn this.quickOpenService.pick([{ label: nls.localize('noEditor', \"No text editor active at this time\") }]);\n\t\t}\n\t\tif (!isWritableCodeEditor(<BaseTextEditor>activeEditor)) {\n\t\t\treturn this.quickOpenService.pick([{ label: nls.localize('noWritableCodeEditor', \"The active code editor is read-only.\") }]);\n\t\t}\n\n\t\tconst control = <ICommonCodeEditor>activeEditor.getControl();\n\t\tconst picks = [control.getAction(IndentUsingSpaces.ID), control.getAction(IndentUsingTabs.ID), control.getAction(DetectIndentation.ID),\n\t\t\tcontrol.getAction(IndentationToSpacesAction.ID), control.getAction(IndentationToTabsAction.ID), control.getAction(TrimTrailingWhitespaceAction.ID)];\n\t\t(<IPickOpenEntry>picks[0]).separator = { label: nls.localize('indentView', \"change view\") };\n\t\t(<IPickOpenEntry>picks[3]).separator = { label: nls.localize('indentConvert', \"convert file\"), border: true };\n\n\t\treturn this.quickOpenService.pick(picks, { placeHolder: nls.localize('pickAction', \"Select Action\") }).then(action => action && action.run());\n\t}\n}\n\nexport class ChangeEOLAction extends Action {\n\n\tpublic static ID = 'workbench.action.editor.changeEOL';\n\tpublic static LABEL = nls.localize('changeEndOfLine', \"Change End of Line Sequence\");\n\n\tconstructor(\n\t\tactionId: string,\n\t\tactionLabel: string,\n\t\t@IWorkbenchEditorService private editorService: IWorkbenchEditorService,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService\n\t) {\n\t\tsuper(actionId, actionLabel);\n\t}\n\n\tpublic run(): TPromise<any> {\n\n\t\tlet activeEditor = this.editorService.getActiveEditor();\n\t\tif (!(activeEditor instanceof BaseTextEditor)) {\n\t\t\treturn this.quickOpenService.pick([{ label: nls.localize('noEditor', \"No text editor active at this time\") }]);\n\t\t}\n\n\t\tif (!isWritableCodeEditor(<BaseTextEditor>activeEditor)) {\n\t\t\treturn this.quickOpenService.pick([{ label: nls.localize('noWritableCodeEditor', \"The active code editor is read-only.\") }]);\n\t\t}\n\n\t\tlet editorWidget = (<BaseTextEditor>activeEditor).getControl();\n\t\tlet textModel = getTextModel(editorWidget);\n\n\t\tlet EOLOptions: IChangeEOLEntry[] = [\n\t\t\t{ label: nlsEOLLF, eol: EndOfLineSequence.LF },\n\t\t\t{ label: nlsEOLCRLF, eol: EndOfLineSequence.CRLF },\n\t\t];\n\n\t\tlet selectedIndex = (textModel.getEOL() === '\\n') ? 0 : 1;\n\n\t\treturn this.quickOpenService.pick(EOLOptions, { placeHolder: nls.localize('pickEndOfLine', \"Select End of Line Sequence\"), autoFocus: { autoFocusIndex: selectedIndex } }).then((eol) => {\n\t\t\tif (eol) {\n\t\t\t\tactiveEditor = this.editorService.getActiveEditor();\n\t\t\t\tif (activeEditor instanceof BaseTextEditor && isWritableCodeEditor(activeEditor)) {\n\t\t\t\t\tlet editorWidget = activeEditor.getControl();\n\t\t\t\t\tlet textModel = getTextModel(editorWidget);\n\t\t\t\t\ttextModel.setEOL(eol.eol);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport class ChangeEncodingAction extends Action {\n\n\tpublic static ID = 'workbench.action.editor.changeEncoding';\n\tpublic static LABEL = nls.localize('changeEncoding', \"Change File Encoding\");\n\n\tconstructor(\n\t\tactionId: string,\n\t\tactionLabel: string,\n\t\t@IWorkbenchEditorService private editorService: IWorkbenchEditorService,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService,\n\t\t@IConfigurationService private configurationService: IConfigurationService\n\t) {\n\t\tsuper(actionId, actionLabel);\n\t}\n\n\tpublic run(): TPromise<any> {\n\t\tlet activeEditor = this.editorService.getActiveEditor();\n\t\tif (!(activeEditor instanceof BaseTextEditor) || !activeEditor.input) {\n\t\t\treturn this.quickOpenService.pick([{ label: nls.localize('noEditor', \"No text editor active at this time\") }]);\n\t\t}\n\n\t\tlet encodingSupport: IEncodingSupport = <any>asFileOrUntitledEditorInput(activeEditor.input);\n\t\tif (!types.areFunctions(encodingSupport.setEncoding, encodingSupport.getEncoding)) {\n\t\t\treturn this.quickOpenService.pick([{ label: nls.localize('noFileEditor', \"No file active at this time\") }]);\n\t\t}\n\n\t\tlet pickActionPromise: TPromise<IPickOpenEntry>;\n\t\tlet saveWithEncodingPick: IPickOpenEntry = { label: nls.localize('saveWithEncoding', \"Save with Encoding\") };\n\t\tlet reopenWithEncodingPick: IPickOpenEntry = { label: nls.localize('reopenWithEncoding', \"Reopen with Encoding\") };\n\n\t\tif (encodingSupport instanceof UntitledEditorInput) {\n\t\t\tpickActionPromise = TPromise.as(saveWithEncodingPick);\n\t\t} else if (!isWritableCodeEditor(<BaseTextEditor>activeEditor)) {\n\t\t\tpickActionPromise = TPromise.as(reopenWithEncodingPick);\n\t\t} else {\n\t\t\tpickActionPromise = this.quickOpenService.pick([reopenWithEncodingPick, saveWithEncodingPick], { placeHolder: nls.localize('pickAction', \"Select Action\") });\n\t\t}\n\n\t\treturn pickActionPromise.then((action) => {\n\t\t\tif (!action) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn TPromise.timeout(50 /* quick open is sensitive to being opened so soon after another */).then(() => {\n\t\t\t\tconst configuration = this.configurationService.getConfiguration<IFilesConfiguration>();\n\n\t\t\t\tlet isReopenWithEncoding = (action === reopenWithEncodingPick);\n\t\t\t\tlet configuredEncoding = configuration && configuration.files && configuration.files.encoding;\n\t\t\t\tlet directMatchIndex: number;\n\t\t\t\tlet aliasMatchIndex: number;\n\n\t\t\t\t// All encodings are valid picks\n\t\t\t\tlet picks: IPickOpenEntry[] = Object.keys(SUPPORTED_ENCODINGS)\n\t\t\t\t\t.sort((k1, k2) => {\n\t\t\t\t\t\tif (k1 === configuredEncoding) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t} else if (k2 === configuredEncoding) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn SUPPORTED_ENCODINGS[k1].order - SUPPORTED_ENCODINGS[k2].order;\n\t\t\t\t\t})\n\t\t\t\t\t.filter(k => {\n\t\t\t\t\t\treturn !isReopenWithEncoding || !SUPPORTED_ENCODINGS[k].encodeOnly; // hide those that can only be used for encoding if we are about to decode\n\t\t\t\t\t})\n\t\t\t\t\t.map((key, index) => {\n\t\t\t\t\t\tif (key === encodingSupport.getEncoding()) {\n\t\t\t\t\t\t\tdirectMatchIndex = index;\n\t\t\t\t\t\t} else if (SUPPORTED_ENCODINGS[key].alias === encodingSupport.getEncoding()) {\n\t\t\t\t\t\t\taliasMatchIndex = index;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn { id: key, label: SUPPORTED_ENCODINGS[key].labelLong };\n\t\t\t\t\t});\n\n\t\t\t\treturn this.quickOpenService.pick(picks, {\n\t\t\t\t\tplaceHolder: isReopenWithEncoding ? nls.localize('pickEncodingForReopen', \"Select File Encoding to Reopen File\") : nls.localize('pickEncodingForSave', \"Select File Encoding to Save with\"),\n\t\t\t\t\tautoFocus: { autoFocusIndex: typeof directMatchIndex === 'number' ? directMatchIndex : typeof aliasMatchIndex === 'number' ? aliasMatchIndex : void 0 }\n\t\t\t\t}).then((encoding) => {\n\t\t\t\t\tif (encoding) {\n\t\t\t\t\t\tactiveEditor = this.editorService.getActiveEditor();\n\t\t\t\t\t\tencodingSupport = <any>asFileOrUntitledEditorInput(activeEditor.input);\n\t\t\t\t\t\tif (encodingSupport && types.areFunctions(encodingSupport.setEncoding, encodingSupport.getEncoding) && encodingSupport.getEncoding() !== encoding.id) {\n\t\t\t\t\t\t\tencodingSupport.setEncoding(encoding.id, isReopenWithEncoding ? EncodingMode.Decode : EncodingMode.Encode); // Set new encoding\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n}"]}