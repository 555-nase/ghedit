{"version":3,"file":"sideBySideEditorControl.js","sourceRoot":"","sources":["../../../../../../src/vs/workbench/browser/parts/editor/sideBySideEditorControl.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport 'vs/css!./media/sidebyside';\nimport nls = require('vs/nls');\nimport {Registry} from 'vs/platform/platform';\nimport {Scope, IActionBarRegistry, Extensions} from 'vs/workbench/browser/actionBarRegistry';\nimport {IAction, Action} from 'vs/base/common/actions';\nimport arrays = require('vs/base/common/arrays');\nimport {EventEmitter} from 'vs/base/common/eventEmitter';\nimport {StandardMouseEvent} from 'vs/base/browser/mouseEvent';\nimport errors = require('vs/base/common/errors');\nimport {isWindows} from 'vs/base/common/platform';\nimport types = require('vs/base/common/types');\nimport {Dimension, Builder, $} from 'vs/base/browser/builder';\nimport {Sash, ISashEvent, IVerticalSashLayoutProvider} from 'vs/base/browser/ui/sash/sash';\nimport {ProgressBar} from 'vs/base/browser/ui/progressbar/progressbar';\nimport {BaseEditor} from 'vs/workbench/browser/parts/editor/baseEditor';\nimport {EditorInput, IInputStatus, TextEditorOptions} from 'vs/workbench/common/editor';\nimport {DiffEditorInput} from 'vs/workbench/common/editor/diffEditorInput';\nimport {EventType as BaseEventType} from 'vs/base/common/events';\nimport {EditorInputEvent, EventType as WorkbenchEventType} from 'vs/workbench/common/events';\nimport DOM = require('vs/base/browser/dom');\nimport {IActionItem, ActionsOrientation} from 'vs/base/browser/ui/actionbar/actionbar';\nimport {ToolBar} from 'vs/base/browser/ui/toolbar/toolbar';\nimport {IWorkbenchEditorService, EditorArrangement} from 'vs/workbench/services/editor/common/editorService';\nimport {IQuickOpenService} from 'vs/workbench/services/quickopen/common/quickOpenService';\nimport {IWorkspaceContextService} from 'vs/workbench/services/workspace/common/contextService';\nimport {IContextViewService, IContextMenuService} from 'vs/platform/contextview/browser/contextView';\nimport {Position, POSITIONS} from 'vs/platform/editor/common/editor';\nimport {IEventService} from 'vs/platform/event/common/event';\nimport {IMessageService, Severity} from 'vs/platform/message/common/message';\nimport {ITelemetryService} from 'vs/platform/telemetry/common/telemetry';\n\nexport enum Rochade {\n\tNONE,\n\tCENTER_TO_LEFT,\n\tRIGHT_TO_CENTER,\n\tCENTER_AND_RIGHT_TO_LEFT\n}\n\nexport const EventType = {\n\tEDITOR_FOCUS_CHANGED: 'editorFocusChanged'\n};\n\n/**\n * Helper class to manage multiple side by side editors for the editor part.\n */\nexport class SideBySideEditorControl extends EventEmitter implements IVerticalSashLayoutProvider {\n\tprivate static MIN_EDITOR_WIDTH = 170;\n\tprivate static EDITOR_TITLE_HEIGHT = 35;\n\tprivate static SNAP_TO_MINIMIZED_THRESHOLD = 50;\n\n\tprivate parent: Builder;\n\tprivate dimension: Dimension;\n\tprivate dragging: boolean;\n\n\tprivate containers: Builder[];\n\tprivate containerWidth: number[];\n\tprivate containerInitialRatios: number[];\n\n\tprivate titleContainer: Builder[];\n\tprivate titleLabel: Builder[];\n\tprivate titleDescription: Builder[];\n\tprivate editorInputStateDescription: Builder[];\n\tprivate progressBar: ProgressBar[];\n\tprivate editorActionsToolbar: ToolBar[];\n\tprivate closeEditorAction: Action[];\n\n\tprivate splitEditorAction: Action;\n\n\tprivate leftSash: Sash;\n\tprivate startLeftContainerWidth: number;\n\n\tprivate rightSash: Sash;\n\tprivate startRightContainerWidth: number;\n\n\tprivate visibleEditors: BaseEditor[];\n\tprivate visibleEditorContainers: Builder[];\n\n\tprivate lastActiveEditor: BaseEditor;\n\tprivate lastActivePosition: Position;\n\n\tprivate visibleEditorFocusTrackers: DOM.IFocusTracker[];\n\tprivate editorInputStateChangeListener: () => void;\n\n\tconstructor(\n\t\tparent: Builder,\n\t\t@IWorkbenchEditorService private editorService: IWorkbenchEditorService,\n\t\t@IMessageService private messageService: IMessageService,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService,\n\t\t@ITelemetryService private telemetryService: ITelemetryService,\n\t\t@IContextViewService private contextViewService: IContextViewService,\n\t\t@IContextMenuService private contextMenuService: IContextMenuService,\n\t\t@IEventService private eventService: IEventService,\n\t\t@IWorkspaceContextService private contextService: IWorkspaceContextService\n\t) {\n\t\tsuper();\n\n\t\tthis.parent = parent;\n\t\tthis.dimension = new Dimension(0, 0);\n\n\t\tthis.containers = [];\n\t\tthis.containerWidth = [];\n\n\t\tthis.titleContainer = [];\n\t\tthis.titleLabel = [];\n\t\tthis.titleDescription = [];\n\t\tthis.editorInputStateDescription = [];\n\t\tthis.editorActionsToolbar = [];\n\t\tthis.progressBar = [];\n\n\t\tthis.visibleEditors = [];\n\t\tthis.visibleEditorContainers = [];\n\t\tthis.visibleEditorFocusTrackers = [];\n\n\t\tthis.closeEditorAction = POSITIONS.map((position) => {\n\t\t\treturn this.makeCloseEditorAction(position);\n\t\t});\n\n\t\tthis.splitEditorAction = this.makeSplitEditorAction();\n\t\tthis.initStyles();\n\n\t\tthis.registerListeners();\n\n\t\t// Create\n\t\tthis.create(this.parent);\n\t}\n\n\tprivate registerListeners(): void {\n\n\t\t// Update editor input state indicators on state changes\n\t\tthis.editorInputStateChangeListener = this.eventService.addListener(WorkbenchEventType.EDITOR_INPUT_STATE_CHANGED, (event: EditorInputEvent) => {\n\t\t\tthis.updateEditorInputStateIndicator(event);\n\t\t});\n\t}\n\n\tprivate initStyles(): void {\n\t\tlet grabCursor = isWindows ? 'cursor: url(\"' + require.toUrl('vs/workbench/browser/parts/editor/media/grab.cur') + '\"), move;' : 'cursor: -webkit-grab;';\n\t\tlet grabbingCursor = isWindows ? 'cursor: url(\"' + require.toUrl('vs/workbench/browser/parts/editor/media/grabbing.cur') + '\"), move;' : 'cursor: -webkit-grabbing;';\n\n\t\tDOM.createCSSRule(\n\t\t\t'.monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container .title, ' +\n\t\t\t'.monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container .title .title-label a, ' +\n\t\t\t'.monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container .title .title-label span', grabCursor\n\t\t);\n\n\t\tDOM.createCSSRule(\n\t\t\t'#monaco-workbench-editor-move-overlay, ' +\n\t\t\t'.monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged, ' +\n\t\t\t'.monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged .title, ' +\n\t\t\t'.monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged .title .title-label a, ' +\n\t\t\t'.monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged .title .title-label span, ' +\n\t\t\t'.monaco-workbench > .part.editor > .content.multiple-editors .one-editor-container.dragged .monaco-editor .view-lines', grabbingCursor\n\t\t);\n\t}\n\n\tprivate makeCloseEditorAction(position: Position): Action {\n\t\treturn new Action('close.editor.action', nls.localize('close', \"Close\"), 'close-editor-action', true, () => {\n\t\t\treturn this.editorService.closeEditor(position);\n\t\t});\n\t}\n\n\tprivate makeSplitEditorAction(): Action {\n\t\treturn new Action('split.editor.action', nls.localize('splitEditor', \"Split Editor\"), 'split-editor-action', true, () => {\n\t\t\tlet activeEditor = this.editorService.getActiveEditor();\n\t\t\tlet editorCount = this.getVisibleEditorCount();\n\n\t\t\t// Special case: If the user wants to split the left hand editor with 2 editors open, push the center one to the right\n\t\t\tif (editorCount > 1 && activeEditor.position === Position.LEFT) {\n\t\t\t\tlet centerInput = this.visibleEditors[Position.CENTER].input;\n\n\t\t\t\tlet options = new TextEditorOptions();\n\t\t\t\toptions.preserveFocus = true;\n\n\t\t\t\treturn this.editorService.openEditor(activeEditor.input, options, Position.CENTER).then(() => {\n\t\t\t\t\treturn this.editorService.openEditor(centerInput, options, Position.RIGHT).then(() => {\n\t\t\t\t\t\treturn this.editorService.focusEditor(Position.CENTER);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Otherwise just continue to open to the side\n\t\t\treturn this.editorService.openEditor(activeEditor.input, null, true);\n\t\t});\n\t}\n\n\tpublic show(editor: BaseEditor, container: Builder, position: Position, preserveActive: boolean, widthRatios?: number[]): void {\n\t\tlet visibleEditorCount = this.getVisibleEditorCount();\n\n\t\t// Store into editor bucket\n\t\tthis.visibleEditors[position] = editor;\n\t\tthis.visibleEditorContainers[position] = container;\n\n\t\t// Store as active unless preserveActive is set\n\t\tif (!preserveActive || !this.lastActiveEditor) {\n\t\t\tthis.doSetActive(editor, position);\n\t\t}\n\n\t\t// Track focus\n\t\tthis.trackFocus(editor, position);\n\n\t\t// Find target container and build into\n\t\tlet target = this.containers[position];\n\t\tcontainer.build(target);\n\n\t\t// Adjust layout according to provided ratios (used when restoring multiple editors at once)\n\t\tif (widthRatios && (widthRatios.length === 2 || widthRatios.length === 3)) {\n\t\t\tlet hasLayoutInfo = this.dimension && this.dimension.width;\n\n\t\t\t// We received width ratios but were not layouted yet. So we keep these ratios for when we layout()\n\t\t\tif (!hasLayoutInfo) {\n\t\t\t\tthis.containerInitialRatios = widthRatios;\n\t\t\t}\n\n\t\t\t// Adjust layout: -> [!][!]\n\t\t\tif (widthRatios.length === 2) {\n\t\t\t\tif (hasLayoutInfo) {\n\t\t\t\t\tthis.containerWidth[position] = this.dimension.width * widthRatios[position];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Adjust layout: -> [!][!][!]\n\t\t\telse if (widthRatios.length === 3) {\n\t\t\t\tif (hasLayoutInfo) {\n\t\t\t\t\tthis.containerWidth[position] = this.dimension.width * widthRatios[position];\n\t\t\t\t}\n\n\t\t\t\tif (this.rightSash.isHidden()) {\n\t\t\t\t\tthis.rightSash.show();\n\t\t\t\t\tthis.rightSash.layout();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.leftSash.isHidden()) {\n\t\t\t\tthis.leftSash.show();\n\t\t\t\tthis.leftSash.layout();\n\t\t\t}\n\n\t\t\tif (hasLayoutInfo) {\n\t\t\t\tthis.layoutContainers();\n\t\t\t}\n\t\t}\n\n\t\t// Adjust layout: -> [!]\n\t\telse if (visibleEditorCount === 0 && this.dimension) {\n\t\t\tthis.containerWidth[position] = this.dimension.width;\n\n\t\t\tthis.layoutContainers();\n\t\t}\n\n\t\t// Adjust layout: [] -> []|[!]\n\t\telse if (position === Position.CENTER && this.leftSash.isHidden() && this.rightSash.isHidden() && this.dimension) {\n\t\t\tthis.containerWidth[Position.LEFT] = this.dimension.width / 2;\n\t\t\tthis.containerWidth[Position.CENTER] = this.dimension.width - this.containerWidth[Position.LEFT];\n\n\t\t\tthis.leftSash.show();\n\t\t\tthis.leftSash.layout();\n\n\t\t\tthis.layoutContainers();\n\t\t}\n\n\t\t// Adjust layout: []|[] -> []|[]|[!]\n\t\telse if (position === Position.RIGHT && this.rightSash.isHidden() && this.dimension) {\n\t\t\tthis.containerWidth[Position.LEFT] = this.dimension.width / 3;\n\t\t\tthis.containerWidth[Position.CENTER] = this.dimension.width / 3;\n\t\t\tthis.containerWidth[Position.RIGHT] = this.dimension.width - this.containerWidth[Position.LEFT] - this.containerWidth[Position.CENTER];\n\n\t\t\tthis.leftSash.layout();\n\t\t\tthis.rightSash.show();\n\t\t\tthis.rightSash.layout();\n\n\t\t\tthis.layoutContainers();\n\t\t}\n\n\t\t// Show editor container\n\t\tcontainer.show();\n\n\t\t// Styles\n\t\tthis.updateParentStyle();\n\t}\n\n\tprivate getVisibleEditorCount(): number {\n\t\tlet c = 0;\n\t\tthis.visibleEditors.forEach((editor) => {\n\t\t\tif (editor) {\n\t\t\t\tc++;\n\t\t\t}\n\t\t});\n\n\t\treturn c;\n\t}\n\n\tprivate indexOf(editor: BaseEditor): number {\n\t\treturn this.visibleEditors.indexOf(editor);\n\t}\n\n\tprivate trackFocus(editor: BaseEditor, position: Position): void {\n\n\t\t// In case there is a previous tracker on the position, dispose it first\n\t\tif (this.visibleEditorFocusTrackers[position]) {\n\t\t\tthis.visibleEditorFocusTrackers[position].dispose();\n\t\t}\n\n\t\t// Track focus on editor container\n\t\tthis.visibleEditorFocusTrackers[position] = DOM.trackFocus(editor.getContainer().getHTMLElement());\n\t\tthis.visibleEditorFocusTrackers[position].addFocusListener(() => {\n\t\t\tthis.onFocusGained(editor);\n\t\t});\n\t}\n\n\tprivate onFocusGained(editor: BaseEditor): void {\n\t\tthis.setActive(editor);\n\t}\n\n\tpublic setActive(editor: BaseEditor): void {\n\n\t\t// Update active editor and position\n\t\tif (this.lastActiveEditor !== editor) {\n\t\t\tthis.doSetActive(editor, this.indexOf(editor));\n\n\t\t\t// Automatically maximize this position if it has min editor width\n\t\t\tif (this.containerWidth[this.lastActivePosition] === SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\n\t\t\t\t// Log this fact in telemetry\n\t\t\t\tif (this.telemetryService) {\n\t\t\t\t\tthis.telemetryService.publicLog('workbenchEditorMaximized');\n\t\t\t\t}\n\n\t\t\t\tlet remainingWidth = this.dimension.width;\n\n\t\t\t\t// Minimize all other positions to min width\n\t\t\t\tPOSITIONS.forEach((p) => {\n\t\t\t\t\tif (this.lastActivePosition !== p && !!this.visibleEditors[p]) {\n\t\t\t\t\t\tthis.containerWidth[p] = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t\t\t\tremainingWidth -= this.containerWidth[p];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Grow focussed position if there is more width to spend\n\t\t\t\tif (remainingWidth > SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\t\tthis.containerWidth[this.lastActivePosition] = remainingWidth;\n\n\t\t\t\t\tif (!this.leftSash.isHidden()) {\n\t\t\t\t\t\tthis.leftSash.layout();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.rightSash.isHidden()) {\n\t\t\t\t\t\tthis.rightSash.layout();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.layoutContainers();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Re-emit to outside\n\t\t\tthis.emit(EventType.EDITOR_FOCUS_CHANGED);\n\t\t}\n\t}\n\n\tprivate focusNextNonMinimized(): void {\n\n\t\t// If the current focussed editor is minimized, try to focus the next largest editor\n\t\tif (!types.isUndefinedOrNull(this.lastActivePosition) && this.containerWidth[this.lastActivePosition] === SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\tlet candidate: Position = null;\n\t\t\tlet currentWidth = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\tPOSITIONS.forEach((position) => {\n\n\t\t\t\t// Skip current active position and check if the editor is larger than min width\n\t\t\t\tif (position !== this.lastActivePosition) {\n\t\t\t\t\tif (this.visibleEditors[position] && this.containerWidth[position] > currentWidth) {\n\t\t\t\t\t\tcandidate = position;\n\t\t\t\t\t\tcurrentWidth = this.containerWidth[position];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Focus editor if a candidate has been found\n\t\t\tif (!types.isUndefinedOrNull(candidate)) {\n\t\t\t\tthis.editorService.focusEditor(this.visibleEditors[candidate]).done(null, errors.onUnexpectedError);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic hide(editor: BaseEditor, container: Builder, position: Position, layoutAndRochade: boolean): Rochade {\n\t\tlet result = Rochade.NONE;\n\n\t\tlet visibleEditorCount = this.getVisibleEditorCount();\n\n\t\tlet hasCenter = !!this.visibleEditors[Position.CENTER];\n\t\tlet hasRight = !!this.visibleEditors[Position.RIGHT];\n\n\t\t// If editor is not showing for position, return\n\t\tif (editor !== this.visibleEditors[position]) {\n\t\t\treturn result;\n\t\t}\n\n\t\t// Clear Position\n\t\tthis.clearPosition(position);\n\n\t\t// Take editor container offdom and hide\n\t\tcontainer.offDOM();\n\t\tcontainer.hide();\n\n\t\t// Adjust layout and rochade if instructed to do so\n\t\tif (layoutAndRochade) {\n\n\t\t\t// Adjust layout: [x] ->\n\t\t\tif (visibleEditorCount === 1) {\n\t\t\t\tthis.containerWidth[position] = 0;\n\n\t\t\t\tthis.leftSash.hide();\n\t\t\t\tthis.rightSash.hide();\n\n\t\t\t\tthis.layoutContainers();\n\t\t\t}\n\n\t\t\t// Adjust layout: []|[x] -> [] or [x]|[] -> []\n\t\t\telse if (hasCenter && !hasRight) {\n\t\t\t\tthis.containerWidth[Position.LEFT] = this.dimension.width;\n\t\t\t\tthis.containerWidth[Position.CENTER] = 0;\n\n\t\t\t\tthis.leftSash.hide();\n\t\t\t\tthis.rightSash.hide();\n\n\t\t\t\t// Move CENTER to LEFT ([x]|[] -> [])\n\t\t\t\tif (position === Position.LEFT) {\n\t\t\t\t\tthis.rochade(Position.CENTER, Position.LEFT);\n\t\t\t\t\tresult = Rochade.CENTER_TO_LEFT;\n\t\t\t\t\tthis.clearTitle(Position.CENTER); // center closes so clear title\n\t\t\t\t}\n\n\t\t\t\tthis.layoutContainers();\n\t\t\t}\n\n\t\t\t// Adjust layout: []|[]|[x] -> [ ]|[ ] or []|[x]|[] -> [ ]|[ ] or [x]|[]|[] -> [ ]|[ ]\n\t\t\telse if (hasCenter && hasRight) {\n\t\t\t\tthis.containerWidth[Position.LEFT] = this.dimension.width / 2;\n\t\t\t\tthis.containerWidth[Position.CENTER] = this.dimension.width - this.containerWidth[Position.LEFT];\n\t\t\t\tthis.containerWidth[Position.RIGHT] = 0;\n\n\t\t\t\tthis.leftSash.layout();\n\t\t\t\tthis.rightSash.hide();\n\n\t\t\t\t// Move RIGHT to CENTER ([]|[x]|[] -> [ ]|[ ])\n\t\t\t\tif (position === Position.CENTER) {\n\t\t\t\t\tthis.rochade(Position.RIGHT, Position.CENTER);\n\t\t\t\t\tresult = Rochade.RIGHT_TO_CENTER;\n\t\t\t\t\tthis.clearTitle(Position.RIGHT); // right closes so clear title\n\t\t\t\t}\n\n\t\t\t\t// Move RIGHT to CENTER and CENTER to LEFT ([x]|[]|[] -> [ ]|[ ])\n\t\t\t\telse if (position === Position.LEFT) {\n\t\t\t\t\tthis.rochade(Position.CENTER, Position.LEFT);\n\t\t\t\t\tthis.rochade(Position.RIGHT, Position.CENTER);\n\t\t\t\t\tresult = Rochade.CENTER_AND_RIGHT_TO_LEFT;\n\t\t\t\t\tthis.clearTitle(Position.RIGHT); // right closes so clear title\n\t\t\t\t}\n\n\t\t\t\tthis.layoutContainers();\n\t\t\t}\n\t\t}\n\n\t\t// Automatically pick the next editor as active if any\n\t\tif (this.lastActiveEditor === editor) {\n\n\t\t\t// Clear old\n\t\t\tthis.doSetActive(null, null);\n\n\t\t\t// Find new active position by taking the next one close to the closed one to the left\n\t\t\tif (layoutAndRochade) {\n\t\t\t\tlet newActivePosition: Position;\n\t\t\t\tswitch (position) {\n\t\t\t\t\tcase Position.LEFT:\n\t\t\t\t\t\tnewActivePosition = hasCenter ? Position.LEFT : null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase Position.CENTER:\n\t\t\t\t\t\tnewActivePosition = Position.LEFT;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase Position.RIGHT:\n\t\t\t\t\t\tnewActivePosition = Position.CENTER;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (!types.isUndefinedOrNull(newActivePosition)) {\n\t\t\t\t\tthis.doSetActive(this.visibleEditors[newActivePosition], newActivePosition);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Styles\n\t\tthis.updateParentStyle();\n\n\t\treturn result;\n\t}\n\n\tprivate updateParentStyle(): void {\n\t\tlet editorCount = this.getVisibleEditorCount();\n\t\tif (editorCount > 1) {\n\t\t\tthis.parent.addClass('multiple-editors');\n\t\t} else {\n\t\t\tthis.parent.removeClass('multiple-editors');\n\t\t}\n\t}\n\n\tprivate doSetActive(editor: BaseEditor, newActive: Position): void {\n\t\tlet oldActive = this.lastActivePosition;\n\t\tthis.lastActivePosition = newActive;\n\t\tthis.lastActiveEditor = editor;\n\n\t\tif (!types.isUndefinedOrNull(oldActive)) {\n\t\t\tthis.containers[oldActive].addClass('inactive');\n\t\t\tthis.containers[oldActive].removeClass('active');\n\t\t}\n\n\t\tif (!types.isUndefinedOrNull(newActive)) {\n\t\t\tthis.containers[newActive].removeClass('inactive');\n\t\t\tthis.containers[newActive].addClass('active');\n\t\t}\n\t}\n\n\tprivate clearPosition(position: Position): void {\n\n\t\t// Unregister Listeners\n\t\tif (this.visibleEditorFocusTrackers[position]) {\n\t\t\tthis.visibleEditorFocusTrackers[position].dispose();\n\t\t\tthis.visibleEditorFocusTrackers[position] = null;\n\t\t}\n\n\t\t// Clear from active editors\n\t\tthis.visibleEditors[position] = null;\n\t\tthis.visibleEditorContainers[position] = null;\n\t}\n\n\tprivate rochade(from: Position, to: Position): void {\n\n\t\t// Move editor to new position\n\t\tlet editorContainer = this.visibleEditorContainers[from];\n\t\tlet editor = this.visibleEditors[from];\n\t\teditorContainer.offDOM();\n\t\teditorContainer.build(this.containers[to]);\n\t\teditor.changePosition(to);\n\n\t\t// Change data structures\n\t\tlet listeners = this.visibleEditorFocusTrackers[from];\n\t\tthis.visibleEditorContainers[to] = editorContainer;\n\t\tthis.visibleEditors[to] = editor;\n\t\tthis.visibleEditorFocusTrackers[to] = listeners;\n\n\t\tthis.visibleEditorContainers[from] = null;\n\t\tthis.visibleEditors[from] = null;\n\t\tthis.visibleEditorFocusTrackers[from] = null;\n\n\t\t// Update last active position\n\t\tif (this.lastActivePosition === from) {\n\t\t\tthis.doSetActive(this.lastActiveEditor, to);\n\t\t}\n\t}\n\n\tpublic move(from: Position, to: Position): void {\n\t\tlet editorContainerPos1: Builder;\n\t\tlet editorPos1: BaseEditor;\n\t\tlet editorContainerPos2: Builder;\n\t\tlet editorPos2: BaseEditor;\n\n\t\t// Distance 1: Swap Editors\n\t\tif (Math.abs(from - to) === 1) {\n\n\t\t\t// Move editors to new position\n\t\t\teditorContainerPos1 = this.visibleEditorContainers[from];\n\t\t\teditorPos1 = this.visibleEditors[from];\n\t\t\teditorContainerPos1.offDOM();\n\t\t\teditorContainerPos1.build(this.containers[to]);\n\t\t\teditorPos1.changePosition(to);\n\n\t\t\teditorContainerPos2 = this.visibleEditorContainers[to];\n\t\t\teditorPos2 = this.visibleEditors[to];\n\t\t\teditorContainerPos2.offDOM();\n\t\t\teditorContainerPos2.build(this.containers[from]);\n\t\t\teditorPos2.changePosition(from);\n\n\t\t\t// Update last active position accordingly\n\t\t\tif (this.lastActivePosition === from) {\n\t\t\t\tthis.doSetActive(this.lastActiveEditor, to);\n\t\t\t} else if (this.lastActivePosition === to) {\n\t\t\t\tthis.doSetActive(this.lastActiveEditor, from);\n\t\t\t}\n\t\t}\n\n\t\t// Otherwise Move Editors\n\t\telse {\n\n\t\t\t// Find new positions\n\t\t\tlet newLeftPosition: Position;\n\t\t\tlet newCenterPosition: Position;\n\t\t\tlet newRightPosition: Position;\n\n\t\t\tif (from === Position.LEFT) {\n\t\t\t\tnewLeftPosition = Position.RIGHT;\n\t\t\t\tnewCenterPosition = Position.LEFT;\n\t\t\t\tnewRightPosition = Position.CENTER;\n\t\t\t} else {\n\t\t\t\tnewLeftPosition = Position.CENTER;\n\t\t\t\tnewCenterPosition = Position.RIGHT;\n\t\t\t\tnewRightPosition = Position.LEFT;\n\t\t\t}\n\n\t\t\t// Move editors to new position\n\t\t\teditorContainerPos1 = this.visibleEditorContainers[Position.LEFT];\n\t\t\teditorPos1 = this.visibleEditors[Position.LEFT];\n\t\t\teditorContainerPos1.offDOM();\n\t\t\teditorContainerPos1.build(this.containers[newLeftPosition]);\n\t\t\teditorPos1.changePosition(newLeftPosition);\n\n\t\t\teditorContainerPos2 = this.visibleEditorContainers[Position.CENTER];\n\t\t\teditorPos2 = this.visibleEditors[Position.CENTER];\n\t\t\teditorContainerPos2.offDOM();\n\t\t\teditorContainerPos2.build(this.containers[newCenterPosition]);\n\t\t\teditorPos2.changePosition(newCenterPosition);\n\n\t\t\tlet editorContainerPos3 = this.visibleEditorContainers[Position.RIGHT];\n\t\t\tlet editorPos3 = this.visibleEditors[Position.RIGHT];\n\t\t\teditorContainerPos3.offDOM();\n\t\t\teditorContainerPos3.build(this.containers[newRightPosition]);\n\t\t\teditorPos3.changePosition(newRightPosition);\n\n\t\t\t// Update last active position accordingly\n\t\t\tif (this.lastActivePosition === Position.LEFT) {\n\t\t\t\tthis.doSetActive(this.lastActiveEditor, newLeftPosition);\n\t\t\t} else if (this.lastActivePosition === Position.CENTER) {\n\t\t\t\tthis.doSetActive(this.lastActiveEditor, newCenterPosition);\n\t\t\t} else if (this.lastActivePosition === Position.RIGHT) {\n\t\t\t\tthis.doSetActive(this.lastActiveEditor, newRightPosition);\n\t\t\t}\n\t\t}\n\n\t\t// Change data structures\n\t\tarrays.move(this.visibleEditorContainers, from, to);\n\t\tarrays.move(this.visibleEditors, from, to);\n\t\tarrays.move(this.visibleEditorFocusTrackers, from, to);\n\t\tarrays.move(this.containerWidth, from, to);\n\n\t\t// Layout\n\t\tif (!this.leftSash.isHidden()) {\n\t\t\tthis.leftSash.layout();\n\t\t}\n\n\t\tif (!this.rightSash.isHidden()) {\n\t\t\tthis.rightSash.layout();\n\t\t}\n\n\t\tthis.layoutContainers();\n\t}\n\n\tpublic arrangeEditors(arrangement: EditorArrangement): void {\n\t\tif (!this.dimension) {\n\t\t\treturn; // too early\n\t\t}\n\n\t\tlet availableWidth = this.dimension.width;\n\t\tlet visibleEditors = this.getVisibleEditorCount();\n\n\t\tif (visibleEditors <= 1) {\n\t\t\treturn; // need more editors\n\t\t}\n\n\t\t// Minimize Others\n\t\tif (arrangement === EditorArrangement.MINIMIZE_OTHERS) {\n\t\t\tPOSITIONS.forEach((position) => {\n\t\t\t\tif (this.visibleEditors[position]) {\n\t\t\t\t\tif (position !== this.lastActivePosition) {\n\t\t\t\t\t\tthis.containerWidth[position] = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t\t\t\tavailableWidth -= SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.containerWidth[this.lastActivePosition] = availableWidth;\n\t\t}\n\n\t\t// Even Widths\n\t\telse if (arrangement === EditorArrangement.EVEN_WIDTH) {\n\t\t\tPOSITIONS.forEach((position) => {\n\t\t\t\tif (this.visibleEditors[position]) {\n\t\t\t\t\tthis.containerWidth[position] = availableWidth / visibleEditors;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.layoutControl(this.dimension);\n\t}\n\n\tpublic getWidthRatios(): number[] {\n\t\tlet ratio: number[] = [];\n\n\t\tif (this.dimension) {\n\t\t\tlet fullWidth = this.dimension.width;\n\n\t\t\tPOSITIONS.forEach((position) => {\n\t\t\t\tif (this.visibleEditors[position]) {\n\t\t\t\t\tratio.push(this.containerWidth[position] / fullWidth);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn ratio;\n\t}\n\n\tpublic getActiveEditor(): BaseEditor {\n\t\treturn this.lastActiveEditor;\n\t}\n\n\tpublic getActivePosition(): Position {\n\t\treturn this.lastActivePosition;\n\t}\n\n\tprivate create(parent: Builder): void {\n\n\t\t// Left Container\n\t\tthis.containers[Position.LEFT] = $(parent).div({ class: 'one-editor-container editor-left monaco-editor-background' });\n\n\t\t// Left Sash\n\t\tthis.leftSash = new Sash(parent.getHTMLElement(), this, { baseSize: 5 });\n\t\tthis.leftSash.addListener('start', () => this.onLeftSashDragStart());\n\t\tthis.leftSash.addListener('change', (e: ISashEvent) => this.onLeftSashDrag(e));\n\t\tthis.leftSash.addListener('end', () => this.onLeftSashDragEnd());\n\t\tthis.leftSash.addListener('reset', () => this.onLeftSashReset());\n\t\tthis.leftSash.hide();\n\n\t\t// Center Container\n\t\tthis.containers[Position.CENTER] = $(parent).div({ class: 'one-editor-container editor-center monaco-editor-background' });\n\n\t\t// Right Sash\n\t\tthis.rightSash = new Sash(parent.getHTMLElement(), this, { baseSize: 5 });\n\t\tthis.rightSash.addListener('start', () => this.onRightSashDragStart());\n\t\tthis.rightSash.addListener('change', (e: ISashEvent) => this.onRightSashDrag(e));\n\t\tthis.rightSash.addListener('end', () => this.onRightSashDragEnd());\n\t\tthis.rightSash.addListener('reset', () => this.onRightSashReset());\n\t\tthis.rightSash.hide();\n\n\t\t// Right Container\n\t\tthis.containers[Position.RIGHT] = $(parent).div({ class: 'one-editor-container editor-right monaco-editor-background' });\n\n\t\t// Title containers\n\t\tPOSITIONS.forEach((position) => {\n\t\t\tthis.titleContainer[position] = $(this.containers[position]).div({ 'class': 'title' });\n\t\t\tthis.fillTitleArea($(this.titleContainer[position]), position);\n\t\t});\n\n\t\t// Progress Bars per position\n\t\tPOSITIONS.forEach((position) => {\n\t\t\tthis.progressBar[position] = new ProgressBar($(this.containers[position]));\n\t\t\tthis.progressBar[position].getContainer().hide();\n\t\t});\n\t}\n\n\tprivate updateEditorInputStateIndicator(inputEvent: EditorInputEvent): void {\n\t\tPOSITIONS.forEach((position) => {\n\t\t\tif (this.visibleEditors[position]) {\n\t\t\t\tif (this.isInputRelated(this.visibleEditors[position].input, inputEvent.editorInput)) {\n\t\t\t\t\tthis.setEditorInputStateIndicator(inputEvent.editorInput, inputEvent.editorInput.getStatus(), position);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate setEditorInputStateIndicator(input: EditorInput, status: IInputStatus, position: number): void {\n\n\t\t// Decoration\n\t\tlet titleLabel = (input && input.getName()) || '';\n\t\tif (status && status.decoration) {\n\t\t\ttitleLabel = nls.localize({ key: 'inputDecoration', comment: ['editor status indicator (e.g. dirty indicator)', 'editor input title'] }, \"{0} {1}\", status.decoration, titleLabel);\n\t\t}\n\n\t\tthis.titleLabel[position].safeInnerHtml(titleLabel);\n\t}\n\n\tprivate isInputRelated(sourceInput: EditorInput, targetInput: EditorInput): boolean {\n\t\tif (!sourceInput || !targetInput) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (sourceInput === targetInput) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (sourceInput instanceof DiffEditorInput) {\n\t\t\tlet modifiedInput = (<DiffEditorInput>sourceInput).getModifiedInput();\n\t\t\tif (modifiedInput === targetInput) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate fillTitleArea(parent: Builder, position: Position): void {\n\t\tlet ignoreClick = false;\n\t\tlet wasDragged = false;\n\n\t\t// Allow to reorder positions by dragging the title\n\t\tparent.on(DOM.EventType.MOUSE_DOWN, (e: MouseEvent) => {\n\n\t\t\t// Reset flag\n\t\t\tignoreClick = false;\n\t\t\twasDragged = false;\n\n\t\t\t// Return early if there is only one editor active or the user clicked into the toolbar\n\t\t\tif (this.getVisibleEditorCount() <= 1 || DOM.isAncestor(<any>e.target || e.srcElement, this.editorActionsToolbar[position].getContainer().getHTMLElement())) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Only allow for first mouse button click!\n\t\t\tif (e.button !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tDOM.EventHelper.stop(e);\n\n\t\t\t// Overlay the editor area with a div to be able to capture all mouse events (helps when iframes are used in any editor)\n\t\t\tlet overlayDiv = $('div').style({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: SideBySideEditorControl.EDITOR_TITLE_HEIGHT + 'px',\n\t\t\t\tleft: 0,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tzIndex: 3000000\n\t\t\t}).id('monaco-workbench-editor-move-overlay');\n\t\t\toverlayDiv.appendTo(this.parent);\n\n\t\t\t// Update flag\n\t\t\tthis.dragging = true;\n\n\t\t\tlet visibleEditorCount = this.getVisibleEditorCount();\n\t\t\tlet mouseDownEvent = new StandardMouseEvent(e);\n\t\t\tlet startX = mouseDownEvent.posx;\n\t\t\tlet oldNewLeft: number = null;\n\n\t\t\tthis.containers[position].style({\n\t\t\t\tzIndex: 2000000\n\t\t\t});\n\n\t\t\tlet $window = $(window);\n\t\t\t$window.on(DOM.EventType.MOUSE_MOVE, (e: MouseEvent) => {\n\t\t\t\tDOM.EventHelper.stop(e, false);\n\n\t\t\t\tlet mouseMoveEvent = new StandardMouseEvent(e);\n\t\t\t\tlet diffX = mouseMoveEvent.posx - startX;\n\t\t\t\tlet newLeft: number = null;\n\n\t\t\t\tif (Math.abs(diffX) > 5) {\n\t\t\t\t\twasDragged = true;\n\t\t\t\t}\n\n\t\t\t\tswitch (position) {\n\n\t\t\t\t\t// [ ! ]|[ ]: Moves only to the right but not outside of dimension width to the right\n\t\t\t\t\tcase Position.LEFT: {\n\t\t\t\t\t\tnewLeft = Math.max(-1 /* 1px border accomodation */, Math.min(diffX, this.dimension.width - this.containerWidth[Position.LEFT]));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase Position.CENTER: {\n\n\t\t\t\t\t\t// [ ]|[ ! ]: Moves only to the left but not outside of dimension width to the left\n\t\t\t\t\t\tif (visibleEditorCount === 2) {\n\t\t\t\t\t\t\tnewLeft = Math.min(this.containerWidth[Position.LEFT], Math.max(-1 /* 1px border accomodation */, this.containerWidth[Position.LEFT] + diffX));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// [ ]|[ ! ]|[ ]: Moves to left and right but not outside of dimensions width on both sides\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tnewLeft = Math.min(this.dimension.width - this.containerWidth[Position.CENTER], Math.max(-1 /* 1px border accomodation */, this.containerWidth[Position.LEFT] + diffX));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// [ ]|[ ]|[ ! ]: Moves to the right but not outside of dimension width on the left side\n\t\t\t\t\tcase Position.RIGHT: {\n\t\t\t\t\t\tnewLeft = Math.min(this.containerWidth[Position.LEFT] + this.containerWidth[Position.CENTER], Math.max(-1 /* 1px border accomodation */, this.containerWidth[Position.LEFT] + this.containerWidth[Position.CENTER] + diffX));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Return early if position did not change\n\t\t\t\tif (oldNewLeft === newLeft) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\toldNewLeft = newLeft;\n\n\t\t\t\t// Live drag Feedback\n\t\t\t\tlet moveTo: Position = this.findMoveTarget(position, diffX);\n\t\t\t\tswitch (position) {\n\t\t\t\t\tcase Position.LEFT: {\n\t\t\t\t\t\tif (moveTo === Position.LEFT || moveTo === null) {\n\t\t\t\t\t\t\tthis.containers[Position.CENTER].style({ left: this.containerWidth[Position.LEFT] + 'px', right: 'auto', borderLeftWidth: '1px' });\n\t\t\t\t\t\t\tthis.containers[Position.RIGHT].style({ left: 'auto', right: 0 });\n\t\t\t\t\t\t} else if (moveTo === Position.CENTER) {\n\t\t\t\t\t\t\tthis.containers[Position.CENTER].style({ left: 0, right: 'auto', borderLeftWidth: 0 });\n\t\t\t\t\t\t\tthis.containers[Position.CENTER].addClass('draggedunder');\n\t\t\t\t\t\t\tthis.containers[Position.RIGHT].style({ left: 'auto', right: 0 });\n\t\t\t\t\t\t} else if (moveTo === Position.RIGHT) {\n\t\t\t\t\t\t\tthis.containers[Position.CENTER].style({ left: 0, right: 'auto' });\n\t\t\t\t\t\t\tthis.containers[Position.RIGHT].style({ left: 'auto', right: this.containerWidth[Position.LEFT] + 'px' });\n\t\t\t\t\t\t\tthis.containers[Position.RIGHT].addClass('draggedunder');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase Position.CENTER: {\n\t\t\t\t\t\tif (moveTo === Position.LEFT) {\n\t\t\t\t\t\t\tthis.containers[Position.LEFT].style({ left: this.containerWidth[Position.CENTER] + 'px', right: 'auto' });\n\t\t\t\t\t\t\tthis.containers[Position.LEFT].addClass('draggedunder');\n\t\t\t\t\t\t} else if (moveTo === Position.CENTER || moveTo === null) {\n\t\t\t\t\t\t\tthis.containers[Position.LEFT].style({ left: 0, right: 'auto' });\n\t\t\t\t\t\t\tthis.containers[Position.RIGHT].style({ left: 'auto', right: 0 });\n\t\t\t\t\t\t} else if (moveTo === Position.RIGHT) {\n\t\t\t\t\t\t\tthis.containers[Position.RIGHT].style({ left: 'auto', right: this.containerWidth[Position.CENTER] + 'px' });\n\t\t\t\t\t\t\tthis.containers[Position.RIGHT].addClass('draggedunder');\n\t\t\t\t\t\t\tthis.containers[Position.LEFT].style({ left: 0, right: 'auto' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcase Position.RIGHT: {\n\t\t\t\t\t\tif (moveTo === Position.LEFT) {\n\t\t\t\t\t\t\tthis.containers[Position.LEFT].style({ left: this.containerWidth[Position.RIGHT] + 'px', right: 'auto' });\n\t\t\t\t\t\t\tthis.containers[Position.LEFT].addClass('draggedunder');\n\t\t\t\t\t\t} else if (moveTo === Position.CENTER) {\n\t\t\t\t\t\t\tthis.containers[Position.LEFT].style({ left: 0, right: 'auto' });\n\t\t\t\t\t\t\tthis.containers[Position.CENTER].style({ left: (this.containerWidth[Position.LEFT] + this.containerWidth[Position.RIGHT]) + 'px', right: 'auto' });\n\t\t\t\t\t\t\tthis.containers[Position.CENTER].addClass('draggedunder');\n\t\t\t\t\t\t} else if (moveTo === Position.RIGHT || moveTo === null) {\n\t\t\t\t\t\t\tthis.containers[Position.LEFT].style({ left: 0, right: 'auto' });\n\t\t\t\t\t\t\tthis.containers[Position.CENTER].style({ left: this.containerWidth[Position.LEFT] + 'px', right: 'auto' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Move the editor to provide feedback to the user and add class\n\t\t\t\tif (newLeft !== null) {\n\t\t\t\t\tthis.containers[position].style({ left: newLeft + 'px' });\n\t\t\t\t\tthis.containers[position].addClass('dragged');\n\t\t\t\t\tthis.parent.addClass('dragged');\n\t\t\t\t}\n\t\t\t}).once(DOM.EventType.MOUSE_UP, (e: MouseEvent) => {\n\t\t\t\tDOM.EventHelper.stop(e, false);\n\n\t\t\t\t// Destroy overlay\n\t\t\t\toverlayDiv.destroy();\n\n\t\t\t\t// Update flag\n\t\t\t\tthis.dragging = false;\n\n\t\t\t\t// Restore styles\n\t\t\t\tthis.parent.removeClass('dragged');\n\t\t\t\tthis.containers[position].removeClass('dragged');\n\t\t\t\tthis.containers[position].style({ zIndex: 'auto' });\n\t\t\t\tPOSITIONS.forEach((p) => this.containers[p].removeClass('draggedunder'));\n\t\t\t\tthis.containers[Position.LEFT].style({ left: 0, right: 'auto' });\n\t\t\t\tthis.containers[Position.CENTER].style({ left: 'auto', right: 'auto', borderLeftWidth: '1px' });\n\t\t\t\tthis.containers[Position.RIGHT].style({ left: 'auto', right: 0, borderLeftWidth: '1px' });\n\n\t\t\t\t// Find move target\n\t\t\t\tlet mouseUpEvent = new StandardMouseEvent(e);\n\t\t\t\tlet diffX = mouseUpEvent.posx - startX;\n\t\t\t\tlet moveTo: Position = this.findMoveTarget(position, diffX);\n\n\t\t\t\t// Move to valid position if any\n\t\t\t\tif (moveTo !== null) {\n\t\t\t\t\tthis.editorService.moveEditor(position, moveTo);\n\t\t\t\t}\n\n\t\t\t\t// Otherwise layout to restore proper positioning\n\t\t\t\telse {\n\t\t\t\t\tthis.layoutContainers();\n\t\t\t\t}\n\n\t\t\t\t// Ignore next click if the user dragged the title some distance\n\t\t\t\tif (wasDragged) {\n\t\t\t\t\tignoreClick = true;\n\t\t\t\t}\n\n\t\t\t\t// Otherwise if not dragging, make editor active unless already active\n\t\t\t\telse if (position !== this.getActivePosition()) {\n\t\t\t\t\tthis.editorService.focusEditor(this.visibleEditors[position]).done(null, errors.onUnexpectedError);\n\t\t\t\t}\n\n\t\t\t\t$window.off('mousemove');\n\t\t\t});\n\t\t});\n\n\t\t// Close editor on middle mouse click\n\t\tparent.on(DOM.EventType.MOUSE_UP, (e: MouseEvent) => {\n\t\t\tDOM.EventHelper.stop(e, false);\n\n\t\t\t// Close editor on middle mouse click\n\t\t\tif (e.button === 1 /* Middle Button */) {\n\t\t\t\tthis.editorService.closeEditor(position).done(null, errors.onUnexpectedError);\n\t\t\t}\n\n\t\t\t// Focus editor unless click on toolbar\n\t\t\telse if (this.getVisibleEditorCount() === 1 && !DOM.isAncestor(<any>e.target || e.srcElement, this.editorActionsToolbar[position].getContainer().getHTMLElement())) {\n\t\t\t\tthis.editorService.focusEditor(this.visibleEditors[position]).done(null, errors.onUnexpectedError);\n\t\t\t}\n\t\t});\n\n\t\t// Left Title Label (click opens quick open unless we are configured to ignore click or we are not the active title)\n\t\tparent.div({\n\t\t\t'class': 'title-label'\n\t\t}, (div) => {\n\t\t\tlet clickHandler = (e: MouseEvent) => {\n\t\t\t\tif (ignoreClick) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tDOM.EventHelper.stop(e, true);\n\n\t\t\t\tthis.quickOpenService.show();\n\t\t\t};\n\n\t\t\t// Clickable label (focus editor and bring up quick open)\n\t\t\tthis.titleLabel[position] = $(div).a().on(DOM.EventType.CLICK, clickHandler);\n\n\t\t\t// Subtle Description\n\t\t\tthis.titleDescription[position] = $(div).span().on(DOM.EventType.CLICK, clickHandler);\n\t\t});\n\n\t\t// Right Actions Container\n\t\tparent.div({\n\t\t\t'class': 'title-actions'\n\t\t}, (div) => {\n\n\t\t\t// Toolbar\n\t\t\tthis.editorActionsToolbar[position] = new ToolBar(div.getHTMLElement(), this.contextMenuService, {\n\t\t\t\tactionItemProvider: (action: Action) => this.actionItemProvider(action, position),\n\t\t\t\torientation: ActionsOrientation.HORIZONTAL,\n\t\t\t\tariaLabel: nls.localize('araLabelEditorActions', \"Editor actions\")\n\t\t\t});\n\n\t\t\t// Action Run Handling\n\t\t\tthis.editorActionsToolbar[position].actionRunner.addListener(BaseEventType.RUN, (e: any) => {\n\n\t\t\t\t// Check for Error\n\t\t\t\tif (e.error && !errors.isPromiseCanceledError(e.error)) {\n\t\t\t\t\tthis.messageService.show(Severity.Error, e.error);\n\t\t\t\t}\n\n\t\t\t\t// Log in telemetry\n\t\t\t\tif (this.telemetryService) {\n\t\t\t\t\tthis.telemetryService.publicLog('workbenchActionExecuted', { id: e.action.id, from: 'editorPart' });\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate findMoveTarget(position: Position, diffX: number): Position {\n\t\tlet visibleEditorCount = this.getVisibleEditorCount();\n\n\t\tswitch (position) {\n\t\t\tcase Position.LEFT: {\n\n\t\t\t\t// [ ! ]|[] -> []|[ ! ]\n\t\t\t\tif (visibleEditorCount === 2 && (diffX >= this.containerWidth[Position.LEFT] / 2 || diffX >= this.containerWidth[Position.CENTER] / 2)) {\n\t\t\t\t\treturn Position.CENTER;\n\t\t\t\t}\n\n\t\t\t\t// [ ! ]|[]|[] -> []|[]|[ ! ]\n\t\t\t\tif (visibleEditorCount === 3 && (diffX >= this.containerWidth[Position.LEFT] / 2 + this.containerWidth[Position.CENTER] || diffX >= this.containerWidth[Position.RIGHT] / 2 + this.containerWidth[Position.CENTER])) {\n\t\t\t\t\treturn Position.RIGHT;\n\t\t\t\t}\n\n\t\t\t\t// [ ! ]|[]|[] -> []|[ ! ]|[]\n\t\t\t\tif (visibleEditorCount === 3 && (diffX >= this.containerWidth[Position.LEFT] / 2 || diffX >= this.containerWidth[Position.CENTER] / 2)) {\n\t\t\t\t\treturn Position.CENTER;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase Position.CENTER: {\n\t\t\t\tif (visibleEditorCount === 2 && diffX > 0) {\n\t\t\t\t\treturn null; // Return early since CENTER cannot be moved to the RIGHT unless there is a RIGHT position\n\t\t\t\t}\n\n\t\t\t\t// []|[ ! ] -> [ ! ]|[]\n\t\t\t\tif (visibleEditorCount === 2 && (Math.abs(diffX) >= this.containerWidth[Position.CENTER] / 2 || Math.abs(diffX) >= this.containerWidth[Position.LEFT] / 2)) {\n\t\t\t\t\treturn Position.LEFT;\n\t\t\t\t}\n\n\t\t\t\t// []|[ ! ]|[] -> [ ! ]|[]|[]\n\t\t\t\tif (visibleEditorCount === 3 && ((diffX < 0 && Math.abs(diffX) >= this.containerWidth[Position.CENTER] / 2) || (diffX < 0 && Math.abs(diffX) >= this.containerWidth[Position.LEFT] / 2))) {\n\t\t\t\t\treturn Position.LEFT;\n\t\t\t\t}\n\n\t\t\t\t// []|[ ! ]|[] -> []|[]|[ ! ]\n\t\t\t\tif (visibleEditorCount === 3 && ((diffX > 0 && Math.abs(diffX) >= this.containerWidth[Position.CENTER] / 2) || (diffX > 0 && Math.abs(diffX) >= this.containerWidth[Position.RIGHT] / 2))) {\n\t\t\t\t\treturn Position.RIGHT;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase Position.RIGHT: {\n\t\t\t\tif (diffX > 0) {\n\t\t\t\t\treturn null; // Return early since RIGHT cannot be moved more to the RIGHT\n\t\t\t\t}\n\n\t\t\t\t// []|[]|[ ! ] -> [ ! ]|[]|[]\n\t\t\t\tif (Math.abs(diffX) >= this.containerWidth[Position.RIGHT] / 2 + this.containerWidth[Position.CENTER] || Math.abs(diffX) >= this.containerWidth[Position.LEFT] / 2 + this.containerWidth[Position.CENTER]) {\n\t\t\t\t\treturn Position.LEFT;\n\t\t\t\t}\n\n\t\t\t\t// []|[]|[ ! ] -> []|[ ! ]|[]\n\t\t\t\tif (Math.abs(diffX) >= this.containerWidth[Position.RIGHT] / 2 || Math.abs(diffX) >= this.containerWidth[Position.CENTER] / 2) {\n\t\t\t\t\treturn Position.CENTER;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate actionItemProvider(action: Action, position: Position): IActionItem {\n\t\tlet actionItem: IActionItem;\n\n\t\t// Check Active Editor\n\t\tlet editor = this.visibleEditors[position];\n\t\tif (editor) {\n\t\t\tactionItem = editor.getActionItem(action);\n\t\t}\n\n\t\t// Check Registry\n\t\tif (!actionItem) {\n\t\t\tlet actionBarRegistry = <IActionBarRegistry>Registry.as(Extensions.Actionbar);\n\t\t\tactionItem = actionBarRegistry.getActionItemForContext(Scope.EDITOR, { input: editor && editor.input, editor: editor, position: position }, action);\n\t\t}\n\n\t\treturn actionItem;\n\t}\n\n\tpublic setTitle(position: Position, input: EditorInput, primaryActions: IAction[], secondaryActions: IAction[], isActive: boolean): void {\n\n\t\t// Activity class\n\t\tif (isActive) {\n\t\t\tthis.containers[position].removeClass('inactive');\n\t\t\tthis.containers[position].addClass('active');\n\t\t} else {\n\t\t\tthis.containers[position].addClass('inactive');\n\t\t\tthis.containers[position].removeClass('active');\n\t\t}\n\n\t\t// Editor Title (Label + Description)\n\t\tlet name = input.getName() || '';\n\t\tlet description = isActive ? (input.getDescription() || '') : '';\n\t\tlet verboseDescription = isActive ? (input.getDescription(true) || '') : '';\n\t\tif (description === verboseDescription) {\n\t\t\tverboseDescription = ''; // dont repeat what is already shown\n\t\t}\n\n\t\tthis.titleLabel[position].safeInnerHtml(name);\n\t\tthis.titleLabel[position].title(verboseDescription);\n\n\t\tthis.titleDescription[position].safeInnerHtml(description);\n\t\tthis.titleDescription[position].title(verboseDescription);\n\n\t\t// Editor Input State Description\n\t\tif (input) {\n\t\t\tthis.setEditorInputStateIndicator(input, input.getStatus(), position);\n\t\t} else {\n\t\t\tthis.setEditorInputStateIndicator(null, null, null);\n\t\t}\n\n\t\t// Support split editor action if visible editor count is < 3 and editor supports it\n\t\tif (isActive && this.getVisibleEditorCount() < 3 && this.lastActiveEditor.supportsSplitEditor()) {\n\t\t\tprimaryActions.unshift(this.splitEditorAction);\n\t\t}\n\n\t\t// Set Primary/Secondary Actions\n\t\tthis.editorActionsToolbar[position].setActions(primaryActions, secondaryActions)();\n\n\t\t// Add a close action\n\t\tif (input) {\n\t\t\tthis.editorActionsToolbar[position].addPrimaryAction(this.closeEditorAction[position])();\n\t\t}\n\t}\n\n\tpublic setLoading(position: Position, input: EditorInput): void {\n\n\t\t// Editor Title and Description\n\t\tthis.titleLabel[position].safeInnerHtml(input.getName() || '');\n\t\tthis.titleDescription[position].safeInnerHtml(nls.localize('loadingLabel', \"Loading...\"));\n\n\t\t// Clear Primary/Secondary Actions\n\t\tthis.editorActionsToolbar[position].setActions([], [])();\n\n\t\t// Add a close action\n\t\tif (input) {\n\t\t\tthis.editorActionsToolbar[position].addPrimaryAction(this.closeEditorAction[position])();\n\t\t}\n\t}\n\n\tpublic clearTitle(position: Position): void {\n\n\t\t// Editor Title\n\t\tthis.titleLabel[position].safeInnerHtml('');\n\t\tthis.titleDescription[position].safeInnerHtml('');\n\n\t\t// Toolbar\n\t\tthis.editorActionsToolbar[position].setActions([], [])();\n\t}\n\n\tprivate centerSash(a: Position, b: Position): void {\n\t\tlet sumWidth = this.containerWidth[a] + this.containerWidth[b];\n\t\tlet meanWidth = sumWidth / 2;\n\t\tthis.containerWidth[a] = meanWidth;\n\t\tthis.containerWidth[b] = sumWidth - meanWidth;\n\t\tthis.layoutContainers();\n\t}\n\n\tprivate onLeftSashDragStart(): void {\n\t\tthis.startLeftContainerWidth = this.containerWidth[Position.LEFT];\n\t}\n\n\tprivate onLeftSashDrag(e: ISashEvent): void {\n\t\tlet oldLeftContainerWidth = this.containerWidth[Position.LEFT];\n\t\tlet newLeftContainerWidth = this.startLeftContainerWidth + e.currentX - e.startX;\n\n\t\t// Side-by-Side\n\t\tif (this.rightSash.isHidden()) {\n\n\t\t\t// []|[      ] : left side can not get smaller than MIN_EDITOR_WIDTH\n\t\t\tif (newLeftContainerWidth < SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\tnewLeftContainerWidth = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t}\n\n\t\t\t// [      ]|[] : right side can not get smaller than MIN_EDITOR_WIDTH\n\t\t\telse if (this.dimension.width - newLeftContainerWidth < SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\tnewLeftContainerWidth = this.dimension.width - SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t}\n\n\t\t\t// [ <-]|[      ] : left side can snap into minimized\n\t\t\telse if (newLeftContainerWidth - SideBySideEditorControl.SNAP_TO_MINIMIZED_THRESHOLD <= SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\tnewLeftContainerWidth = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t}\n\n\t\t\t// [      ]|[-> ] : right side can snap into minimized\n\t\t\telse if (this.dimension.width - newLeftContainerWidth - SideBySideEditorControl.SNAP_TO_MINIMIZED_THRESHOLD <= SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\tnewLeftContainerWidth = this.dimension.width - SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t}\n\n\t\t\tthis.containerWidth[Position.LEFT] = newLeftContainerWidth;\n\t\t\tthis.containerWidth[Position.CENTER] = this.dimension.width - newLeftContainerWidth;\n\t\t}\n\n\t\t// Side-by-Side-by-Side\n\t\telse {\n\n\t\t\t// [!]|[      ]|[  ] : left side can not get smaller than MIN_EDITOR_WIDTH\n\t\t\tif (newLeftContainerWidth < SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\tnewLeftContainerWidth = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t}\n\n\t\t\t// [      ]|[!]|[  ] : center side can not get smaller than MIN_EDITOR_WIDTH\n\t\t\telse if (this.dimension.width - newLeftContainerWidth - this.containerWidth[Position.RIGHT] < SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\n\t\t\t\t// [      ]|[ ]|[!] : right side can not get smaller than MIN_EDITOR_WIDTH\n\t\t\t\tif (this.dimension.width - newLeftContainerWidth - this.containerWidth[Position.CENTER] < SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\t\tnewLeftContainerWidth = this.dimension.width - (2 * SideBySideEditorControl.MIN_EDITOR_WIDTH);\n\t\t\t\t\tthis.containerWidth[Position.CENTER] = this.containerWidth[Position.RIGHT] = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t\t}\n\n\t\t\t\t// [      ]|[ ]|[-> ] : right side can snap into minimized\n\t\t\t\telse if (this.dimension.width - newLeftContainerWidth - this.containerWidth[Position.CENTER] - SideBySideEditorControl.SNAP_TO_MINIMIZED_THRESHOLD <= SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\t\tthis.containerWidth[Position.RIGHT] = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t\t}\n\n\t\t\t\t// [      ]|[ ]|[ ] : right side shrinks\n\t\t\t\telse {\n\t\t\t\t\tthis.containerWidth[Position.RIGHT] = this.containerWidth[Position.RIGHT] - (newLeftContainerWidth - oldLeftContainerWidth);\n\t\t\t\t}\n\n\t\t\t\tthis.rightSash.layout();\n\t\t\t}\n\n\t\t\t// [ <-]|[      ]|[  ] : left side can snap into minimized\n\t\t\telse if (newLeftContainerWidth - SideBySideEditorControl.SNAP_TO_MINIMIZED_THRESHOLD <= SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\tnewLeftContainerWidth = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t}\n\n\t\t\t// [      ]|[-> ]|[  ] : center side can snap into minimized\n\t\t\telse if (this.dimension.width - this.containerWidth[Position.RIGHT] - newLeftContainerWidth - SideBySideEditorControl.SNAP_TO_MINIMIZED_THRESHOLD <= SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\tnewLeftContainerWidth = this.dimension.width - this.containerWidth[Position.RIGHT] - SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t}\n\n\t\t\tthis.containerWidth[Position.LEFT] = newLeftContainerWidth;\n\t\t\tthis.containerWidth[Position.CENTER] = this.dimension.width - this.containerWidth[Position.LEFT] - this.containerWidth[Position.RIGHT];\n\t\t}\n\n\t\t// Pass on to containers\n\t\tthis.layoutContainers();\n\t}\n\n\tprivate onLeftSashDragEnd(): void {\n\t\tthis.leftSash.layout();\n\t\tthis.rightSash.layout(); // Moving left sash might have also moved right sash, so layout() both\n\t\tthis.focusNextNonMinimized();\n\t}\n\n\tprivate onLeftSashReset(): void {\n\t\tthis.centerSash(Position.LEFT, Position.CENTER);\n\t\tthis.leftSash.layout();\n\t}\n\n\tprivate onRightSashDragStart(): void {\n\t\tthis.startRightContainerWidth = this.containerWidth[Position.RIGHT];\n\t}\n\n\tprivate onRightSashDrag(e: ISashEvent): void {\n\t\tlet oldRightContainerWidth = this.containerWidth[Position.RIGHT];\n\t\tlet newRightContainerWidth = this.startRightContainerWidth - e.currentX + e.startX;\n\n\t\t// [  ]|[      ]|[!] : right side can not get smaller than MIN_EDITOR_WIDTH\n\t\tif (newRightContainerWidth < SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\tnewRightContainerWidth = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t}\n\n\t\t// [      ]|[!]|[  ] : center side can not get smaller than MIN_EDITOR_WIDTH\n\t\telse if (this.dimension.width - newRightContainerWidth - this.containerWidth[Position.LEFT] < SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\n\t\t\t// [!]|[ ]|[    ] : left side can not get smaller than MIN_EDITOR_WIDTH\n\t\t\tif (this.dimension.width - newRightContainerWidth - this.containerWidth[Position.CENTER] < SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\tnewRightContainerWidth = this.dimension.width - (2 * SideBySideEditorControl.MIN_EDITOR_WIDTH);\n\t\t\t\tthis.containerWidth[Position.LEFT] = this.containerWidth[Position.CENTER] = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t}\n\n\t\t\t// [ <-]|[ ]|[    ] : left side can snap into minimized\n\t\t\telse if (this.dimension.width - newRightContainerWidth - this.containerWidth[Position.CENTER] - SideBySideEditorControl.SNAP_TO_MINIMIZED_THRESHOLD <= SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\tthis.containerWidth[Position.LEFT] = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t}\n\n\t\t\t// [  ]|[ ]|[   ] : left side shrinks\n\t\t\telse {\n\t\t\t\tthis.containerWidth[Position.LEFT] = this.containerWidth[Position.LEFT] - (newRightContainerWidth - oldRightContainerWidth);\n\t\t\t}\n\n\t\t\tthis.leftSash.layout();\n\t\t}\n\n\t\t// [ ]|[      ]|[-> ] : right side can snap into minimized\n\t\telse if (newRightContainerWidth - SideBySideEditorControl.SNAP_TO_MINIMIZED_THRESHOLD <= SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\tnewRightContainerWidth = SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t}\n\n\t\t// [ ]|[ <-]|[      ] : center side can snap into minimized\n\t\telse if (this.dimension.width - this.containerWidth[Position.LEFT] - newRightContainerWidth - SideBySideEditorControl.SNAP_TO_MINIMIZED_THRESHOLD <= SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\tnewRightContainerWidth = this.dimension.width - this.containerWidth[Position.LEFT] - SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t}\n\n\t\tthis.containerWidth[Position.RIGHT] = newRightContainerWidth;\n\t\tthis.containerWidth[Position.CENTER] = this.dimension.width - this.containerWidth[Position.LEFT] - this.containerWidth[Position.RIGHT];\n\n\t\tthis.layoutContainers();\n\t}\n\n\tprivate onRightSashDragEnd(): void {\n\t\tthis.leftSash.layout(); // Moving right sash might have also moved left sash, so layout() both\n\t\tthis.rightSash.layout();\n\t\tthis.focusNextNonMinimized();\n\t}\n\n\tprivate onRightSashReset(): void {\n\t\tthis.centerSash(Position.CENTER, Position.RIGHT);\n\t\tthis.rightSash.layout();\n\t}\n\n\tpublic getVerticalSashTop(sash: Sash): number {\n\t\treturn 0;\n\t}\n\n\tpublic getVerticalSashLeft(sash: Sash): number {\n\t\treturn sash === this.leftSash ? this.containerWidth[Position.LEFT] : this.containerWidth[Position.CENTER] + this.containerWidth[Position.LEFT];\n\t}\n\n\tpublic getVerticalSashHeight(sash: Sash): number {\n\t\treturn this.dimension.height;\n\t}\n\n\tpublic isDragging(): boolean {\n\t\treturn this.dragging;\n\t}\n\n\tpublic layout(dimension: Dimension): void;\n\tpublic layout(position: Position): void;\n\tpublic layout(arg: any): void {\n\t\tif (arg instanceof Dimension) {\n\t\t\tthis.layoutControl(<Dimension>arg);\n\t\t} else {\n\t\t\tthis.layoutEditor(<Position>arg);\n\t\t}\n\t}\n\n\tprivate layoutControl(dimension: Dimension): void {\n\t\tlet oldDimension = this.dimension;\n\t\tthis.dimension = dimension;\n\n\t\t// Use the current dimension in case an editor was opened before we had any dimension\n\t\tif (!oldDimension || !oldDimension.width || !oldDimension.height) {\n\t\t\toldDimension = dimension;\n\t\t}\n\n\t\t// Apply to visible editors\n\t\tlet totalWidth = 0;\n\n\t\t// Set preferred dimensions based on ratio to previous dimenions\n\t\tPOSITIONS.forEach((position) => {\n\t\t\tif (this.visibleEditors[position]) {\n\n\t\t\t\t// Keep minimized editors in tact by not letting them grow if we have width to give\n\t\t\t\tif (this.containerWidth[position] !== SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\t\tlet sashWidthRatio: number;\n\n\t\t\t\t\t// We have some stored initial ratios when the editor was restored on startup\n\t\t\t\t\t// Use those ratios over anything else but only once.\n\t\t\t\t\tif (this.containerInitialRatios && types.isNumber(this.containerInitialRatios[position])) {\n\t\t\t\t\t\tsashWidthRatio = this.containerInitialRatios[position];\n\t\t\t\t\t\tdelete this.containerInitialRatios[position]; // dont use again\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsashWidthRatio = this.containerWidth[position] / oldDimension.width;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.containerWidth[position] = Math.max(Math.round(this.dimension.width * sashWidthRatio), SideBySideEditorControl.MIN_EDITOR_WIDTH);\n\t\t\t\t}\n\n\t\t\t\ttotalWidth += this.containerWidth[position];\n\t\t\t}\n\t\t});\n\n\t\t// Compensate for overflow either through rounding error or min editor width\n\t\tif (totalWidth > 0) {\n\t\t\tlet overflow = totalWidth - this.dimension.width;\n\n\t\t\t// We have width to give\n\t\t\tif (overflow < 0) {\n\n\t\t\t\t// Find the first position from left to right that is not minimized\n\t\t\t\t// to give width. This ensures that minimized editors are left like\n\t\t\t\t// that if the user chose this layout.\n\t\t\t\tlet positionToGive: Position = null;\n\t\t\t\tPOSITIONS.forEach(position => {\n\t\t\t\t\tif (this.visibleEditors[position] && positionToGive === null && this.containerWidth[position] !== SideBySideEditorControl.MIN_EDITOR_WIDTH) {\n\t\t\t\t\t\tpositionToGive = position;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (positionToGive === null) {\n\t\t\t\t\tpositionToGive = Position.LEFT; // maybe all are minimized, so give LEFT the extra width\n\t\t\t\t}\n\n\t\t\t\tthis.containerWidth[positionToGive] -= overflow;\n\t\t\t}\n\n\t\t\t// We have width to take\n\t\t\telse if (overflow > 0) {\n\t\t\t\tPOSITIONS.forEach((position) => {\n\t\t\t\t\tlet maxCompensation = this.containerWidth[position] - SideBySideEditorControl.MIN_EDITOR_WIDTH;\n\t\t\t\t\tif (maxCompensation >= overflow) {\n\t\t\t\t\t\tthis.containerWidth[position] -= overflow;\n\t\t\t\t\t\toverflow = 0;\n\t\t\t\t\t} else if (maxCompensation > 0) {\n\t\t\t\t\t\tlet compensation = overflow - maxCompensation;\n\t\t\t\t\t\tthis.containerWidth[position] -= compensation;\n\t\t\t\t\t\toverflow -= compensation;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Sash positioning\n\t\tthis.leftSash.layout();\n\t\tthis.rightSash.layout();\n\n\t\t// Pass on to Editor Containers\n\t\tthis.layoutContainers();\n\t}\n\n\tprivate layoutContainers(): void {\n\n\t\t// Layout containers\n\t\tPOSITIONS.forEach((position) => {\n\t\t\tthis.containers[position].size(this.containerWidth[position], this.dimension.height);\n\t\t});\n\n\t\t// Position center depending on visibility of right hand editor\n\t\tif (this.visibleEditors[Position.RIGHT]) {\n\t\t\tthis.containers[Position.CENTER].position(null, this.containerWidth[Position.RIGHT]);\n\t\t} else {\n\t\t\tthis.containers[Position.CENTER].position(null, this.dimension.width - this.containerWidth[Position.LEFT] - this.containerWidth[Position.CENTER]);\n\t\t}\n\n\t\t// Visibility\n\t\tPOSITIONS.forEach((position) => {\n\t\t\tif (this.visibleEditors[position] && this.containers[position].isHidden()) {\n\t\t\t\tthis.containers[position].show();\n\t\t\t} else if (!this.visibleEditors[position] && !this.containers[position].isHidden()) {\n\t\t\t\tthis.containers[position].hide();\n\t\t\t}\n\t\t});\n\n\t\t// Layout active editors\n\t\tPOSITIONS.forEach((position) => {\n\t\t\tthis.layoutEditor(position);\n\t\t});\n\t}\n\n\tprivate layoutEditor(position: Position): void {\n\t\tlet editorWidth = this.containerWidth[position];\n\t\tif (editorWidth && this.visibleEditors[position]) {\n\t\t\tthis.visibleEditors[position].layout(new Dimension(editorWidth, this.dimension.height - SideBySideEditorControl.EDITOR_TITLE_HEIGHT));\n\t\t}\n\t}\n\n\tpublic getProgressBar(position: Position): ProgressBar {\n\t\treturn this.progressBar[position];\n\t}\n\n\tpublic dispose(): void {\n\n\t\t// Positions\n\t\tPOSITIONS.forEach((position) => {\n\t\t\tthis.clearPosition(position);\n\t\t});\n\n\t\t// Toolbars\n\t\tthis.editorActionsToolbar.forEach((toolbar) => {\n\t\t\ttoolbar.dispose();\n\t\t});\n\n\t\t// Progress bars\n\t\tthis.progressBar.forEach((bar) => {\n\t\t\tbar.dispose();\n\t\t});\n\n\t\t// Actions\n\t\tthis.closeEditorAction.forEach((action) => {\n\t\t\taction.dispose();\n\t\t});\n\n\t\t// Sash\n\t\tthis.leftSash.dispose();\n\t\tthis.rightSash.dispose();\n\n\t\t// Destroy Container\n\t\tthis.containers.forEach((container) => {\n\t\t\tcontainer.destroy();\n\t\t});\n\n\t\tif (this.editorInputStateChangeListener) {\n\t\t\tthis.editorInputStateChangeListener();\n\t\t}\n\n\t\tthis.lastActiveEditor = null;\n\t\tthis.lastActivePosition = null;\n\t\tthis.visibleEditors = null;\n\t\tthis.visibleEditorContainers = null;\n\n\t\tsuper.dispose();\n\t}\n}"]}