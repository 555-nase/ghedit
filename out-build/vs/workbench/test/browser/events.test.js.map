{"version":3,"file":"vs/workbench/test/browser/events.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/workbench/test/browser/events.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport * as assert from 'assert';\nimport URI from 'vs/base/common/uri';\nimport * as Paths from 'vs/base/common/paths';\nimport * as Files from 'vs/platform/files/common/files';\nimport {Event, PropertyChangeEvent} from 'vs/base/common/events';\nimport {CommandEvent, CompositeEvent, EditorEvent} from 'vs/workbench/common/events';\n\nlet FileChangesEvent = Files.FileChangesEvent;\n\nsuite('Workbench Events', () => {\n\n\ttest('Base Event', function () {\n\t\tlet origEvent: any = {};\n\t\tlet event = new Event(origEvent);\n\n\t\tassert.strictEqual(event.originalEvent, origEvent);\n\t\tassert(event.time);\n\t});\n\n\ttest('Command Event', function () {\n\t\tlet actionId = 'foo.bar';\n\t\tlet origEvent = {};\n\t\tlet event = new CommandEvent(actionId, origEvent);\n\n\t\tassert.strictEqual(event.originalEvent, origEvent);\n\t\tassert.strictEqual(event.actionId, actionId);\n\t\tassert(event.time);\n\t});\n\n\ttest('Editor Change Event', function () {\n\t\tlet editor: any = {};\n\t\tlet origEvent: any = {};\n\t\tlet input: any = {};\n\t\tlet options: any = {};\n\t\tlet id = 'foo.bar';\n\t\tlet event = new EditorEvent(editor, id, input, options, 0, origEvent);\n\n\t\tassert.strictEqual(event.editor, editor);\n\t\tassert.strictEqual(event.originalEvent, origEvent);\n\t\tassert.strictEqual(event.editorId, id);\n\t\tassert.strictEqual(event.editorInput, input);\n\t\tassert.strictEqual(event.editorOptions, options);\n\t\tassert(event.time);\n\t});\n\n\ttest('Property Change Event', function () {\n\t\tlet key = 'foo';\n\t\tlet origEvent: any = {};\n\t\tlet oldValue = { foo: 'bar' };\n\t\tlet newValue = { foo: 'foo' };\n\t\tlet event = new PropertyChangeEvent(key, oldValue, newValue, origEvent);\n\n\t\tassert.strictEqual(event.originalEvent, origEvent);\n\t\tassert.strictEqual(event.key, key);\n\t\tassert.strictEqual(event.oldValue, oldValue);\n\t\tassert.strictEqual(event.newValue, newValue);\n\t\tassert(event.time);\n\t});\n\n\ttest('File Changes Event', function () {\n\t\tlet changes = [\n\t\t\t{ resource: URI.file(Paths.join('C:\\\\', '/foo/updated.txt')), type: 0 },\n\t\t\t{ resource: URI.file(Paths.join('C:\\\\', '/foo/otherupdated.txt')), type: 0 },\n\t\t\t{ resource: URI.file(Paths.join('C:\\\\', '/added.txt')), type: 1 },\n\t\t\t{ resource: URI.file(Paths.join('C:\\\\', '/bar/deleted.txt')), type: 2 },\n\t\t\t{ resource: URI.file(Paths.join('C:\\\\', '/bar/folder')), type: 2 }\n\t\t];\n\n\t\tlet r1 = new FileChangesEvent(changes);\n\n\t\tassert(!r1.contains(toResource('/foo'), 0));\n\t\tassert(r1.contains(toResource('/foo/updated.txt'), 0));\n\t\tassert(!r1.contains(toResource('/foo/updated.txt'), 1));\n\t\tassert(!r1.contains(toResource('/foo/updated.txt'), 2));\n\n\t\tassert(r1.contains(toResource('/bar/folder'), 2));\n\t\tassert(r1.contains(toResource('/bar/folder/somefile'), 2));\n\t\tassert(r1.contains(toResource('/bar/folder/somefile/test.txt'), 2));\n\t\tassert(!r1.contains(toResource('/bar/folder2/somefile'), 2));\n\n\t\tassert.strictEqual(5, r1.changes.length);\n\t\tassert.strictEqual(1, r1.getAdded().length);\n\t\tassert.strictEqual(true, r1.gotAdded());\n\t\tassert.strictEqual(2, r1.getUpdated().length);\n\t\tassert.strictEqual(true, r1.gotUpdated());\n\t\tassert.strictEqual(2, r1.getDeleted().length);\n\t\tassert.strictEqual(true, r1.gotDeleted());\n\t});\n\n\tfunction toResource(path) {\n\t\treturn URI.file(Paths.join('C:\\\\', path));\n\t}\n\n\ttest('Composite Event', function () {\n\t\tlet compositeId = 'foo.bar';\n\t\tlet origEvent = {};\n\t\tlet event = new CompositeEvent(compositeId, origEvent);\n\n\t\tassert.strictEqual(event.originalEvent, origEvent);\n\t\tassert.strictEqual(event.compositeId, compositeId);\n\t\tassert(event.time);\n\t});\n});\n"]}