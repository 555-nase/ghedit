{"version":3,"file":"vs/workbench/test/browser/actionRegistry.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/workbench/test/browser/actionRegistry.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;IAEhG,YAAY,CAAC;IAUb;QAAsB,2BAAM;QAC3B,iBAAY,EAAU,EAAE,KAAa;YACpC,kBAAM,EAAE,EAAE,KAAK,CAAC,CAAC;QAClB,CAAC;QACF,cAAC;IAAD,CAAC,AAJD,CAAsB,gBAAM,GAI3B;IAED,KAAK,CAAC,2BAA2B,EAAE;QAElC,IAAI,CAAC,+BAA+B,EAAE;YACrC,IAAI,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC,2BAAU,CAAC,gBAAgB,CAAC,CAAC;YAEjE,IAAI,CAAC,GAAG,IAAI,8BAAoB,CAAC,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YAExD,IAAI,UAAU,GAAG,QAAQ,CAAC,mBAAmB,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACzD,IAAI,QAAQ,GAAG,QAAQ,CAAC,mBAAmB,EAAE,CAAC,MAAM,CAAC;YAErD,QAAQ,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC;YACpC,QAAQ,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC;YAEpC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,MAAM,EAAE,CAAC,GAAG,QAAQ,CAAC,CAAC;YAClE,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC;YAEzD,QAAQ,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,uCAAuC,EAAE;YAC7C,IAAI,EAAE,GAAG,IAAI,qBAAS,EAAE,CAAC;YACzB,IAAI,EAAE,GAAG,IAAI,qBAAS,EAAE,CAAC;YACzB,IAAI,EAAE,GAAG,IAAI,gBAAM,CAAC,IAAI,CAAC,CAAC;YAC1B,IAAI,EAAE,GAAG,IAAI,qBAAS,EAAE,CAAC;YACzB,IAAI,EAAE,GAAG,IAAI,qBAAS,EAAE,CAAC;YACzB,IAAI,EAAE,GAAG,IAAI,gBAAM,CAAC,IAAI,CAAC,CAAC;YAC1B,IAAI,EAAE,GAAG,IAAI,qBAAS,EAAE,CAAC;YAEzB,IAAI,OAAO,GAAG,kCAAc,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;YAC3D,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,mCAAmC;YAC1E,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;YAC1B,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;YAC1B,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport * as assert from 'assert';\nimport * as Platform from 'vs/platform/platform';\nimport {SyncActionDescriptor} from 'vs/platform/actions/common/actions';\nimport {Separator} from 'vs/base/browser/ui/actionbar/actionbar';\nimport {Extensions} from 'vs/workbench/common/actionRegistry';\nimport {prepareActions} from 'vs/workbench/browser/actionBarRegistry';\nimport {Action} from 'vs/base/common/actions';\n\nclass MyClass extends Action {\n\tconstructor(id: string, label: string) {\n\t\tsuper(id, label);\n\t}\n}\n\nsuite('Workbench Action Registry', () => {\n\n\ttest('Workbench Action Registration', function () {\n\t\tlet Registry = Platform.Registry.as(Extensions.WorkbenchActions);\n\n\t\tlet d = new SyncActionDescriptor(MyClass, 'id', 'name');\n\n\t\tlet oldActions = Registry.getWorkbenchActions().slice(0);\n\t\tlet oldCount = Registry.getWorkbenchActions().length;\n\n\t\tRegistry.registerWorkbenchAction(d);\n\t\tRegistry.registerWorkbenchAction(d);\n\n\t\tassert.equal(Registry.getWorkbenchActions().length, 1 + oldCount);\n\t\tassert.strictEqual(d, Registry.getWorkbenchAction('id'));\n\n\t\tRegistry.setWorkbenchActions(oldActions);\n\t});\n\n\ttest('Workbench Action Bar prepareActions()', function () {\n\t\tlet a1 = new Separator();\n\t\tlet a2 = new Separator();\n\t\tlet a3 = new Action('a3');\n\t\tlet a4 = new Separator();\n\t\tlet a5 = new Separator();\n\t\tlet a6 = new Action('a6');\n\t\tlet a7 = new Separator();\n\n\t\tlet actions = prepareActions([a1, a2, a3, a4, a5, a6, a7]);\n\t\tassert.strictEqual(actions.length, 3); // duplicate separators get removed\n\t\tassert(actions[0] === a3);\n\t\tassert(actions[1] === a5);\n\t\tassert(actions[2] === a6);\n\t});\n});"]}