{"version":3,"sources":["vs/workbench/parts/debug/electron-browser/debugService.ts"],"names":[],"mappings":"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","file":"vs/workbench/parts/debug/electron-browser/debugService.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport nls = require('vs/nls');\nimport lifecycle = require('vs/base/common/lifecycle');\nimport mime = require('vs/base/common/mime');\nimport ee = require('vs/base/common/eventEmitter');\nimport uri from 'vs/base/common/uri';\nimport { Action } from 'vs/base/common/actions';\nimport arrays = require('vs/base/common/arrays');\nimport types = require('vs/base/common/types');\nimport errors = require('vs/base/common/errors');\nimport severity from 'vs/base/common/severity';\nimport { TPromise } from 'vs/base/common/winjs.base';\nimport editor = require('vs/editor/common/editorCommon');\nimport aria = require('vs/base/browser/ui/aria/aria');\nimport { AIAdapter } from 'vs/base/node/aiAdapter';\nimport editorbrowser = require('vs/editor/browser/editorBrowser');\nimport { IKeybindingService, IKeybindingContextKey } from 'vs/platform/keybinding/common/keybindingService';\nimport {IMarkerService} from 'vs/platform/markers/common/markers';\nimport { ILifecycleService } from 'vs/platform/lifecycle/common/lifecycle';\nimport { IExtensionService } from 'vs/platform/extensions/common/extensions';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IFileService, FileChangesEvent, FileChangeType, EventType } from 'vs/platform/files/common/files';\nimport { IEventService } from 'vs/platform/event/common/event';\nimport { IMessageService, CloseAction } from 'vs/platform/message/common/message';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IStorageService, StorageScope } from 'vs/platform/storage/common/storage';\nimport wbeditorcommon = require('vs/workbench/common/editor');\nimport debug = require('vs/workbench/parts/debug/common/debug');\nimport session = require('vs/workbench/parts/debug/node/rawDebugSession');\nimport model = require('vs/workbench/parts/debug/common/debugModel');\nimport { DebugStringEditorInput } from 'vs/workbench/parts/debug/browser/debugEditorInputs';\nimport viewmodel = require('vs/workbench/parts/debug/common/debugViewModel');\nimport debugactions = require('vs/workbench/parts/debug/electron-browser/debugActions');\nimport { Repl } from 'vs/workbench/parts/debug/browser/repl';\nimport { BreakpointWidget } from 'vs/workbench/parts/debug/browser/breakpointWidget';\nimport { ConfigurationManager } from 'vs/workbench/parts/debug/node/debugConfigurationManager';\nimport { Source } from 'vs/workbench/parts/debug/common/debugSource';\nimport { ITaskService, TaskEvent, TaskType, TaskServiceEvents, ITaskSummary} from 'vs/workbench/parts/tasks/common/taskService';\nimport { TaskError, TaskErrors } from 'vs/workbench/parts/tasks/common/taskSystem';\nimport { IViewletService } from 'vs/workbench/services/viewlet/common/viewletService';\nimport { IPanelService } from 'vs/workbench/services/panel/common/panelService';\nimport { IPartService } from 'vs/workbench/services/part/common/partService';\nimport { ITextFileService } from 'vs/workbench/parts/files/common/files';\nimport { IWorkspaceContextService } from 'vs/workbench/services/workspace/common/contextService';\nimport { IWorkbenchEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { IWindowService, IBroadcast } from 'vs/workbench/services/window/electron-browser/windowService';\nimport { ILogEntry, EXTENSION_LOG_BROADCAST_CHANNEL, EXTENSION_ATTACH_BROADCAST_CHANNEL, EXTENSION_TERMINATE_BROADCAST_CHANNEL } from 'vs/workbench/services/thread/electron-browser/threadService';\nimport { ipcRenderer as ipc } from 'electron';\n\nconst DEBUG_BREAKPOINTS_KEY = 'debug.breakpoint';\nconst DEBUG_BREAKPOINTS_ACTIVATED_KEY = 'debug.breakpointactivated';\nconst DEBUG_FUNCTION_BREAKPOINTS_KEY = 'debug.functionbreakpoint';\nconst DEBUG_EXCEPTION_BREAKPOINTS_KEY = 'debug.exceptionbreakpoint';\nconst DEBUG_WATCH_EXPRESSIONS_KEY = 'debug.watchexpressions';\nconst DEBUG_SELECTED_CONFIG_NAME_KEY = 'debug.selectedconfigname';\n\nexport class DebugService extends ee.EventEmitter implements debug.IDebugService {\n\tpublic serviceId = debug.IDebugService;\n\n\tprivate state: debug.State;\n\tprivate session: session.RawDebugSession;\n\tprivate model: model.Model;\n\tprivate viewModel: viewmodel.ViewModel;\n\tprivate configurationManager: ConfigurationManager;\n\tprivate debugStringEditorInputs: DebugStringEditorInput[];\n\tprivate telemetryAdapter: AIAdapter;\n\tprivate lastTaskEvent: TaskEvent;\n\tprivate toDispose: lifecycle.IDisposable[];\n\tprivate toDisposeOnSessionEnd: lifecycle.IDisposable[];\n\tprivate inDebugMode: IKeybindingContextKey<boolean>;\n\n\tconstructor(\n\t\t@IStorageService private storageService: IStorageService,\n\t\t@IWorkbenchEditorService private editorService: IWorkbenchEditorService,\n\t\t@ITextFileService private textFileService: ITextFileService,\n\t\t@IViewletService private viewletService: IViewletService,\n\t\t@IPanelService private panelService: IPanelService,\n\t\t@IFileService private fileService: IFileService,\n\t\t@IMessageService private messageService: IMessageService,\n\t\t@IPartService private partService: IPartService,\n\t\t@IWindowService private windowService: IWindowService,\n\t\t@ITelemetryService private telemetryService: ITelemetryService,\n\t\t@IWorkspaceContextService private contextService: IWorkspaceContextService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IEventService eventService: IEventService,\n\t\t@ILifecycleService private lifecycleService: ILifecycleService,\n\t\t@IInstantiationService private instantiationService:IInstantiationService,\n\t\t@IExtensionService private extensionService: IExtensionService,\n\t\t@IMarkerService private markerService: IMarkerService,\n\t\t@ITaskService private taskService: ITaskService\n\t) {\n\t\tsuper();\n\n\t\tthis.toDispose = [];\n\t\tthis.toDisposeOnSessionEnd = [];\n\t\tthis.debugStringEditorInputs = [];\n\t\tthis.session = null;\n\t\tthis.state = debug.State.Inactive;\n\n\t\tif (!this.contextService.getWorkspace()) {\n\t\t\tthis.state = debug.State.Disabled;\n\t\t}\n\t\tthis.configurationManager = this.instantiationService.createInstance(ConfigurationManager, this.storageService.get(DEBUG_SELECTED_CONFIG_NAME_KEY, StorageScope.WORKSPACE, 'null'));\n\t\tthis.inDebugMode = keybindingService.createKey(debug.CONTEXT_IN_DEBUG_MODE, false);\n\n\t\tthis.model = new model.Model(this.loadBreakpoints(), this.storageService.getBoolean(DEBUG_BREAKPOINTS_ACTIVATED_KEY, StorageScope.WORKSPACE, true), this.loadFunctionBreakpoints(),\n\t\t\tthis.loadExceptionBreakpoints(), this.loadWatchExpressions());\n\t\tthis.toDispose.push(this.model);\n\t\tthis.viewModel = new viewmodel.ViewModel();\n\n\t\tthis.registerListeners(eventService, lifecycleService);\n\t}\n\n\tprivate registerListeners(eventService: IEventService, lifecycleService: ILifecycleService): void {\n\t\tthis.toDispose.push(eventService.addListener2(EventType.FILE_CHANGES, (e: FileChangesEvent) => this.onFileChanges(e)));\n\n\t\tif (this.taskService) {\n\t\t\tthis.toDispose.push(this.taskService.addListener2(TaskServiceEvents.Active, (e: TaskEvent) => {\n\t\t\t\tthis.lastTaskEvent = e;\n\t\t\t}));\n\t\t\tthis.toDispose.push(this.taskService.addListener2(TaskServiceEvents.Inactive, (e: TaskEvent) => {\n\t\t\t\tif (e.type === TaskType.SingleRun) {\n\t\t\t\t\tthis.lastTaskEvent = null;\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis.toDispose.push(this.taskService.addListener2(TaskServiceEvents.Terminated, (e: TaskEvent) => {\n\t\t\t\tthis.lastTaskEvent = null;\n\t\t\t}));\n\t\t}\n\n\t\tlifecycleService.onShutdown(this.store, this);\n\t\tlifecycleService.onShutdown(this.dispose, this);\n\n\t\tthis.toDispose.push(this.windowService.onBroadcast(this.onBroadcast, this));\n\t}\n\n\tprivate onBroadcast(broadcast: IBroadcast): void {\n\n\t\t// attach: PH is ready to be attached to\n\t\tif (broadcast.channel === EXTENSION_ATTACH_BROADCAST_CHANNEL) {\n\t\t\tthis.rawAttach(broadcast.payload.port);\n\t\t\treturn;\n\t\t}\n\n\t\tif (broadcast.channel === EXTENSION_TERMINATE_BROADCAST_CHANNEL) {\n\t\t\tthis.onSessionEnd();\n\t\t\treturn;\n\t\t}\n\n\t\t// from this point on we require an active session\n\t\tlet session = this.getActiveSession();\n\t\tif (!session || session.getType() !== 'extensionHost') {\n\t\t\treturn; // we are only intersted if we have an active debug session for extensionHost\n\t\t}\n\n\t\t// a plugin logged output, show it inside the REPL\n\t\tif (broadcast.channel === EXTENSION_LOG_BROADCAST_CHANNEL) {\n\t\t\tlet extensionOutput: ILogEntry = broadcast.payload;\n\t\t\tlet sev = extensionOutput.severity === 'warn' ? severity.Warning : extensionOutput.severity === 'error' ? severity.Error : severity.Info;\n\n\t\t\tlet args: any[] = [];\n\t\t\ttry {\n\t\t\t\tlet parsed = JSON.parse(extensionOutput.arguments);\n\t\t\t\targs.push(...Object.getOwnPropertyNames(parsed).map(o => parsed[o]));\n\t\t\t} catch (error) {\n\t\t\t\targs.push(extensionOutput.arguments);\n\t\t\t}\n\n\t\t\t// add output for each argument logged\n\t\t\tlet simpleVals: any[] = [];\n\t\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\t\tlet a = args[i];\n\n\t\t\t\t// undefined gets printed as 'undefined'\n\t\t\t\tif (typeof a === 'undefined') {\n\t\t\t\t\tsimpleVals.push('undefined');\n\t\t\t\t}\n\n\t\t\t\t// null gets printed as 'null'\n\t\t\t\telse if (a === null) {\n\t\t\t\t\tsimpleVals.push('null');\n\t\t\t\t}\n\n\t\t\t\t// objects & arrays are special because we want to inspect them in the REPL\n\t\t\t\telse if (types.isObject(a) || Array.isArray(a)) {\n\n\t\t\t\t\t// flush any existing simple values logged\n\t\t\t\t\tif (simpleVals.length) {\n\t\t\t\t\t\tthis.logToRepl(simpleVals.join(' '), sev);\n\t\t\t\t\t\tsimpleVals = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t// show object\n\t\t\t\t\tthis.logToRepl(a, sev);\n\t\t\t\t}\n\n\t\t\t\t// string: watch out for % replacement directive\n\t\t\t\t// string substitution and formatting @ https://developer.chrome.com/devtools/docs/console\n\t\t\t\telse if (typeof a === 'string') {\n\t\t\t\t\tlet buf = '';\n\n\t\t\t\t\tfor (let j = 0, len = a.length; j < len; j++) {\n\t\t\t\t\t\tif (a[j] === '%' && (a[j + 1] === 's' || a[j + 1] === 'i' || a[j + 1] === 'd')) {\n\t\t\t\t\t\t\ti++; // read over substitution\n\t\t\t\t\t\t\tbuf += !types.isUndefinedOrNull(args[i]) ? args[i] : ''; // replace\n\t\t\t\t\t\t\tj++; // read over directive\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbuf += a[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tsimpleVals.push(buf);\n\t\t\t\t}\n\n\t\t\t\t// number or boolean is joined together\n\t\t\t\telse {\n\t\t\t\t\tsimpleVals.push(a);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// flush simple values\n\t\t\tif (simpleVals.length) {\n\t\t\t\tthis.logToRepl(simpleVals.join(' '), sev);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate registerSessionListeners(): void {\n\t\tthis.toDisposeOnSessionEnd.push(this.session);\n\t\tthis.toDisposeOnSessionEnd.push(this.session.addListener2(debug.SessionEvents.INITIALIZED, (event: DebugProtocol.InitializedEvent) => {\n\t\t\taria.status(nls.localize('debuggingStarted', \"Debugging started.\"));\n\t\t\tthis.sendAllBreakpoints().then(() => {\n\t\t\t\tif (this.session.capabilities.supportsConfigurationDoneRequest) {\n\t\t\t\t\tthis.session.configurationDone().done(null, errors.onUnexpectedError);\n\t\t\t\t}\n\t\t\t});\n\t\t}));\n\n\t\tthis.toDisposeOnSessionEnd.push(this.session.addListener2(debug.SessionEvents.STOPPED, (event: DebugProtocol.StoppedEvent) => {\n\t\t\tthis.setStateAndEmit(debug.State.Stopped);\n\t\t\tconst threadId = event.body.threadId;\n\n\t\t\tthis.getThreadData(threadId).done(() => {\n\t\t\t\tlet thread = this.model.getThreads()[threadId];\n\n\t\t\t\tthis.model.rawUpdate({\n\t\t\t\t\tthreadId: threadId,\n\t\t\t\t\tstoppedDetails: event.body,\n\t\t\t\t\tallThreadsStopped: event.body.allThreadsStopped\n\t\t\t\t});\n\n\t\t\t\tthread.getCallStack(this).then(callStack => {\n\t\t\t\t\tthis.windowService.getWindow().focus();\n\t\t\t\t\tif (callStack.length > 0) {\n\t\t\t\t\t\t// focus first stack frame from top that has source location\n\t\t\t\t\t\tconst stackFrameToFocus = arrays.first(callStack, sf => sf.source && sf.source.available, callStack[0]);\n\t\t\t\t\t\tthis.setFocusedStackFrameAndEvaluate(stackFrameToFocus);\n\t\t\t\t\t\taria.alert(nls.localize('debuggingPaused', \"Debugging paused, reason {0}, {1} {2}\", event.body.reason, stackFrameToFocus.source ? stackFrameToFocus.source.name : '', stackFrameToFocus.lineNumber));\n\n\t\t\t\t\t\treturn this.openOrRevealEditor(stackFrameToFocus.source, stackFrameToFocus.lineNumber, false, false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setFocusedStackFrameAndEvaluate(null);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, errors.onUnexpectedError);\n\t\t}));\n\n\t\tthis.toDisposeOnSessionEnd.push(this.session.addListener2(debug.SessionEvents.CONTINUED, () => {\n\t\t\taria.status(nls.localize('debuggingContinued', \"Debugging continued.\"));\n\t\t\tthis.model.continueThreads();\n\t\t\tthis.setFocusedStackFrameAndEvaluate(null);\n\t\t\tthis.setStateAndEmit(this.configurationManager.getConfiguration().noDebug ? debug.State.RunningNoDebug : debug.State.Running);\n\t\t}));\n\n\t\tthis.toDisposeOnSessionEnd.push(this.session.addListener2(debug.SessionEvents.THREAD, (event: DebugProtocol.ThreadEvent) => {\n\t\t\tif (event.body.reason === 'started') {\n\t\t\t\tthis.session.threads().done((result) => {\n\t\t\t\t\tconst thread = result.body.threads.filter(thread => thread.id === event.body.threadId).pop();\n\t\t\t\t\tif (thread) {\n\t\t\t\t\t\tthis.model.rawUpdate({\n\t\t\t\t\t\t\tthreadId: thread.id,\n\t\t\t\t\t\t\tthread: thread\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}, errors.onUnexpectedError);\n\t\t\t} else if (event.body.reason === 'exited') {\n\t\t\t\tthis.model.clearThreads(true, event.body.threadId);\n\t\t\t}\n\t\t}));\n\n\t\tthis.toDisposeOnSessionEnd.push(this.session.addListener2(debug.SessionEvents.DEBUGEE_TERMINATED, (event: DebugProtocol.TerminatedEvent) => {\n\t\t\taria.status(nls.localize('debuggingStopped', \"Debugging stopped.\"));\n\t\t\tif (this.session && this.session.getId() === (<any>event).sessionId) {\n\t\t\t\tif (event.body && typeof event.body.restart === 'boolean' && event.body.restart) {\n\t\t\t\t\tthis.restartSession().done(null, err => this.messageService.show(severity.Error, err.message));\n\t\t\t\t} else {\n\t\t\t\t\tthis.session.disconnect().done(null, errors.onUnexpectedError);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis.toDisposeOnSessionEnd.push(this.session.addListener2(debug.SessionEvents.OUTPUT, (event: DebugProtocol.OutputEvent) => {\n\t\t\tif (event.body && event.body.category === 'telemetry') {\n\t\t\t\t// only log telemetry events from debug adapter if the adapter provided the telemetry key\n\t\t\t\tif (this.telemetryAdapter) {\n\t\t\t\t\tthis.telemetryAdapter.log(event.body.output, event.body.data);\n\t\t\t\t}\n\t\t\t} else if (event.body && typeof event.body.output === 'string' && event.body.output.length > 0) {\n\t\t\t\tthis.onOutput(event);\n\t\t\t}\n\t\t}));\n\n\t\tthis.toDisposeOnSessionEnd.push(this.session.addListener2(debug.SessionEvents.BREAKPOINT, (event: DebugProtocol.BreakpointEvent) => {\n\t\t\tconst id = event.body && event.body.breakpoint ? event.body.breakpoint.id : undefined;\n\t\t\tconst breakpoint = this.model.getBreakpoints().filter(bp => bp.idFromAdapter === id).pop();\n\t\t\tif (breakpoint) {\n\t\t\t\tthis.model.updateBreakpoints({ [breakpoint.getId()]: event.body.breakpoint });\n\t\t\t} else {\n\t\t\t\tconst functionBreakpoint = this.model.getFunctionBreakpoints().filter(bp => bp.idFromAdapter === id).pop();\n\t\t\t\tif (functionBreakpoint) {\n\t\t\t\t\tthis.model.updateFunctionBreakpoints({ [functionBreakpoint.getId()]: event.body.breakpoint });\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis.toDisposeOnSessionEnd.push(this.session.addListener2(debug.SessionEvents.SERVER_EXIT, event => {\n\t\t\t// 'Run without debugging' mode VSCode must terminate the extension host. More details: #3905\n\t\t\tif (this.session.getType() === 'extensionHost' && this.state === debug.State.RunningNoDebug) {\n\t\t\t\tipc.send('vscode:closeExtensionHostWindow', this.contextService.getWorkspace().resource.fsPath);\n\t\t\t}\n\t\t\tif (this.session && this.session.getId() === event.sessionId) {\n\t\t\t\tthis.onSessionEnd();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate onOutput(event: DebugProtocol.OutputEvent): void {\n\t\tconst outputSeverity = event.body.category === 'stderr' ? severity.Error : event.body.category === 'console' ? severity.Warning : severity.Info;\n\t\tthis.appendReplOutput(event.body.output, outputSeverity);\n\t}\n\n\tprivate getThreadData(threadId: number): TPromise<void> {\n\t\treturn this.model.getThreads()[threadId] ? TPromise.as(undefined) :\n\t\t\tthis.session.threads().then((response: DebugProtocol.ThreadsResponse) => {\n\t\t\t\tconst thread = response.body.threads.filter(t => t.id === threadId).pop();\n\t\t\t\tif (!thread) {\n\t\t\t\t\tthrow new Error(nls.localize('debugNoThread', \"Did not get a thread from debug adapter with id {0}.\", threadId));\n\t\t\t\t}\n\n\t\t\t\tthis.model.rawUpdate({\n\t\t\t\t\tthreadId: thread.id,\n\t\t\t\t\tthread: thread\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tprivate loadBreakpoints(): debug.IBreakpoint[] {\n\t\ttry {\n\t\t\treturn JSON.parse(this.storageService.get(DEBUG_BREAKPOINTS_KEY, StorageScope.WORKSPACE, '[]')).map((breakpoint: any) => {\n\t\t\t\treturn new model.Breakpoint(new Source(breakpoint.source.raw ? breakpoint.source.raw : { path: uri.parse(breakpoint.source.uri).fsPath, name: breakpoint.source.name }),\n\t\t\t\t\tbreakpoint.desiredLineNumber || breakpoint.lineNumber, breakpoint.enabled, breakpoint.condition);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tprivate loadFunctionBreakpoints(): debug.IFunctionBreakpoint[] {\n\t\ttry {\n\t\t\treturn JSON.parse(this.storageService.get(DEBUG_FUNCTION_BREAKPOINTS_KEY, StorageScope.WORKSPACE, '[]')).map((fb: any) => {\n\t\t\t\treturn new model.FunctionBreakpoint(fb.name, fb.enabled);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tprivate loadExceptionBreakpoints(): debug.IExceptionBreakpoint[] {\n\t\tlet result: debug.IExceptionBreakpoint[] = null;\n\t\ttry {\n\t\t\tresult = JSON.parse(this.storageService.get(DEBUG_EXCEPTION_BREAKPOINTS_KEY, StorageScope.WORKSPACE, '[]')).map((exBreakpoint: any) => {\n\t\t\t\treturn new model.ExceptionBreakpoint(exBreakpoint.filter || exBreakpoint.name, exBreakpoint.label, exBreakpoint.enabled);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tresult = [];\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate loadWatchExpressions(): model.Expression[] {\n\t\ttry {\n\t\t\treturn JSON.parse(this.storageService.get(DEBUG_WATCH_EXPRESSIONS_KEY, StorageScope.WORKSPACE, '[]')).map((watch: any) => {\n\t\t\t\treturn new model.Expression(watch.name, false, watch.id);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tpublic getState(): debug.State {\n\t\treturn this.state;\n\t}\n\n\tprivate setStateAndEmit(newState: debug.State): void {\n\t\tthis.state = newState;\n\t\tthis.emit(debug.ServiceEvents.STATE_CHANGED);\n\t}\n\n\tpublic get enabled(): boolean {\n\t\treturn !!this.contextService.getWorkspace();\n\t}\n\n\tpublic setFocusedStackFrameAndEvaluate(focusedStackFrame: debug.IStackFrame): void {\n\t\tthis.viewModel.setFocusedStackFrame(focusedStackFrame);\n\t\tif (focusedStackFrame) {\n\t\t\tthis.model.evaluateWatchExpressions(this.session, focusedStackFrame);\n\t\t} else {\n\t\t\tthis.model.clearWatchExpressionValues();\n\t\t}\n\t}\n\n\tpublic setBreakpointsForModel(modelUri: uri, rawData: debug.IRawBreakpoint[]): void {\n\t\tthis.model.removeBreakpoints(\n\t\t\tthis.model.getBreakpoints().filter(bp => bp.source.uri.toString() === modelUri.toString()));\n\t\tthis.model.addBreakpoints(rawData);\n\t}\n\n\tpublic toggleBreakpoint(rawBreakpoint: debug.IRawBreakpoint): TPromise<void> {\n\t\tconst breakpoint = this.model.getBreakpoints().filter(bp => bp.lineNumber === rawBreakpoint.lineNumber && bp.source.uri.toString() === rawBreakpoint.uri.toString()).pop();\n\t\tif (breakpoint) {\n\t\t\tthis.model.removeBreakpoints([breakpoint]);\n\t\t} else {\n\t\t\tthis.model.addBreakpoints([rawBreakpoint]);\n\t\t}\n\n\t\treturn this.sendBreakpoints(rawBreakpoint.uri);\n\t}\n\n\tpublic enableOrDisableAllBreakpoints(enabled: boolean): TPromise<void>{\n\t\tthis.model.enableOrDisableAllBreakpoints(enabled);\n\t\treturn this.sendAllBreakpoints();\n\t}\n\n\tpublic toggleEnablement(element: debug.IEnablement): TPromise<void> {\n\t\tthis.model.toggleEnablement(element);\n\t\tif (element instanceof model.Breakpoint) {\n\t\t\tconst breakpoint = <model.Breakpoint> element;\n\t\t\treturn this.sendBreakpoints(breakpoint.source.uri);\n\t\t} else if (element instanceof model.FunctionBreakpoint) {\n\t\t\treturn this.sendFunctionBreakpoints();\n\t\t}\n\n\t\treturn this.sendExceptionBreakpoints();\n\t}\n\n\tpublic removeAllBreakpoints(): TPromise<any> {\n\t\tconst urisToClear = arrays.distinct(this.model.getBreakpoints(), bp => bp.source.uri.toString()).map(bp => bp.source.uri);\n\t\tthis.model.removeBreakpoints(this.model.getBreakpoints());\n\n\t\treturn TPromise.join(urisToClear.map(uri => this.sendBreakpoints(uri)));\n\t}\n\n\tpublic toggleBreakpointsActivated(): TPromise<void> {\n\t\tthis.model.toggleBreakpointsActivated();\n\t\treturn this.sendAllBreakpoints();\n\t}\n\n\tpublic editBreakpoint(editor: editorbrowser.ICodeEditor, lineNumber: number): TPromise<void> {\n\t\tif (BreakpointWidget.INSTANCE) {\n\t\t\tBreakpointWidget.INSTANCE.dispose();\n\t\t}\n\n\t\tthis.instantiationService.createInstance(BreakpointWidget, editor, lineNumber);\n\t\tBreakpointWidget.INSTANCE.show({ lineNumber, column: 1 }, 2);\n\n\t\treturn TPromise.as(null);\n\t}\n\n\tpublic addFunctionBreakpoint(): void {\n\t\tthis.model.addFunctionBreakpoint('');\n\t}\n\n\tpublic renameFunctionBreakpoint(id: string, newFunctionName: string): TPromise<void> {\n\t\tthis.model.updateFunctionBreakpoints({ [id]: { name: newFunctionName } });\n\t\treturn this.sendFunctionBreakpoints();\n\t}\n\n\tpublic removeFunctionBreakpoints(id?: string): TPromise<void> {\n\t\tthis.model.removeFunctionBreakpoints(id);\n\t\treturn this.sendFunctionBreakpoints();\n\t}\n\n\tpublic addReplExpression(name: string): TPromise<void> {\n\t\tthis.telemetryService.publicLog('debugService/addReplExpression');\n\t\treturn this.model.addReplExpression(this.session, this.viewModel.getFocusedStackFrame(), name);\n\t}\n\n\tpublic logToRepl(value: string, severity?: severity): void;\n\tpublic logToRepl(value: { [key: string]: any }, severity?: severity): void;\n\tpublic logToRepl(value: any, severity?: severity): void {\n\t\tthis.model.logToRepl(value, severity);\n\t}\n\n\tpublic appendReplOutput(value: string, severity?: severity): void {\n\t\tthis.model.appendReplOutput(value, severity);\n\t}\n\n\tpublic clearReplExpressions(): void {\n\t\tthis.model.clearReplExpressions();\n\t}\n\n\tpublic addWatchExpression(name: string): TPromise<void> {\n\t\treturn this.model.addWatchExpression(this.session, this.viewModel.getFocusedStackFrame(), name);\n\t}\n\n\tpublic renameWatchExpression(id: string, newName: string): TPromise<void> {\n\t\treturn this.model.renameWatchExpression(this.session, this.viewModel.getFocusedStackFrame(), id, newName);\n\t}\n\n\tpublic clearWatchExpressions(id?: string): void {\n\t\tthis.model.clearWatchExpressions(id);\n\t}\n\n\tpublic createSession(noDebug: boolean, changeViewState = !this.partService.isSideBarHidden()): TPromise<any> {\n\t\tthis.clearReplExpressions();\n\n\t\treturn this.textFileService.saveAll()\n\t\t.then(() => this.extensionService.onReady()\n\t\t.then(() => this.setConfiguration(this.configurationManager.getConfigurationName())\n\t\t.then(() => {\n\t\t\tconst configuration = this.configurationManager.getConfiguration();\n\t\t\tif (!configuration) {\n\t\t\t\treturn this.configurationManager.openConfigFile(false).then(openend => {\n\t\t\t\t\tif (openend) {\n\t\t\t\t\t\tthis.messageService.show(severity.Info, nls.localize('NewLaunchConfig', \"Please set up the launch configuration file for your application.\"));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconfiguration.noDebug = noDebug;\n\t\t\tif (!this.configurationManager.getAdapter()) {\n\t\t\t\tthis.emit(debug.ServiceEvents.TYPE_NOT_SUPPORTED, configuration.type);\n\t\t\t\treturn configuration.type ? TPromise.wrapError(new Error(nls.localize('debugTypeNotSupported', \"Configured debug type '{0}' is not supported.\", configuration.type)))\n\t\t\t\t\t: TPromise.wrapError(errors.create(nls.localize('debugTypeMissing', \"Missing property 'type' for the selected configuration in launch.json.\"),\n\t\t\t\t\t\t{ actions: [CloseAction, this.instantiationService.createInstance(debugactions.ConfigureAction, debugactions.ConfigureAction.ID, debugactions.ConfigureAction.LABEL)] }));\n\t\t\t}\n\n\t\t\treturn this.runPreLaunchTask(configuration.preLaunchTask).then((taskSummary: ITaskSummary) => {\n\t\t\t\tconst errorCount = configuration.preLaunchTask ? this.markerService.getStatistics().errors : 0;\n\t\t\t\tconst failureExitCode = taskSummary && taskSummary.exitCode !== undefined && taskSummary.exitCode !== 0;\n\t\t\t\tif (errorCount === 0 && !failureExitCode) {\n\t\t\t\t\treturn this.doCreateSession(configuration, changeViewState);\n\t\t\t\t}\n\n\t\t\t\tthis.messageService.show(severity.Error, {\n\t\t\t\t\tmessage: errorCount > 1 ? nls.localize('preLaunchTaskErrors', \"Build errors have been detected during preLaunchTask '{0}'.\", configuration.preLaunchTask) :\n\t\t\t\t\t\terrorCount === 1 ?  nls.localize('preLaunchTaskError', \"Build error has been detected during preLaunchTask '{0}'.\", configuration.preLaunchTask) :\n\t\t\t\t\t\tnls.localize('preLaunchTaskExitCode', \"The preLaunchTask '{0}' terminated with exit code {1}.\", configuration.preLaunchTask, taskSummary.exitCode),\n\t\t\t\t\tactions: [CloseAction, new Action('debug.continue', nls.localize('debugAnyway', \"Debug Anyway\"), null, true, () => {\n\t\t\t\t\t\tthis.messageService.hideAll();\n\t\t\t\t\t\treturn this.doCreateSession(configuration, changeViewState);\n\t\t\t\t\t})]\n\t\t\t\t});\n\t\t\t}, (err: TaskError) => {\n\t\t\t\tif (err.code !== TaskErrors.NotConfigured) {\n\t\t\t\t\tthrow err;\n\t\t\t\t}\n\n\t\t\t\tthis.messageService.show(err.severity, {\n\t\t\t\t\tmessage: err.message,\n\t\t\t\t\tactions: [CloseAction, this.taskService.configureAction()]\n\t\t\t\t});\n\t\t\t});\n\t\t})));\n\t}\n\n\tprivate doCreateSession(configuration: debug.IConfig, changeViewState: boolean): TPromise<any> {\n\t\tthis.setStateAndEmit(debug.State.Initializing);\n\t\tconst key = this.configurationManager.getAdapter().aiKey;\n\t\tconst telemetryInfo = Object.create(null);\n\t\tthis.telemetryService.getTelemetryInfo().then(info => {\n\t\t\ttelemetryInfo['common.vscodemachineid'] = info.machineId;\n\t\t\ttelemetryInfo['common.vscodesessionid'] = info.sessionId;\n\t\t}, errors.onUnexpectedError);\n\t\tthis.telemetryAdapter = new AIAdapter(key, this.configurationManager.getAdapter().type, null, telemetryInfo);\n\t\tthis.session = new session.RawDebugSession(this.messageService, this.telemetryService, configuration.debugServer, this.configurationManager.getAdapter(), this.telemetryAdapter);\n\n\t\tthis.registerSessionListeners();\n\n\t\treturn this.session.initialize({\n\t\t\tadapterID: configuration.type,\n\t\t\tpathFormat: 'path',\n\t\t\tlinesStartAt1: true,\n\t\t\tcolumnsStartAt1: true\n\t\t}).then((result: DebugProtocol.InitializeResponse) => {\n\t\t\tif (!this.session) {\n\t\t\t\treturn TPromise.wrapError(new Error(nls.localize('debugAdapterCrash', \"Debug adapter process has terminated unexpectedly\")));\n\t\t\t}\n\n\t\t\tthis.model.setExceptionBreakpoints(this.session.capabilities.exceptionBreakpointFilters);\n\t\t\treturn configuration.request === 'attach' ? this.session.attach(configuration) : this.session.launch(configuration);\n\t\t}).then((result: DebugProtocol.Response) => {\n\t\t\tif (changeViewState) {\n\t\t\t\tthis.viewletService.openViewlet(debug.VIEWLET_ID);\n\t\t\t\tthis.revealRepl(false).done(undefined, errors.onUnexpectedError);\n\t\t\t}\n\n\t\t\t// Do not change status bar to orange if we are just running without debug.\n\t\t\tif (!configuration.noDebug) {\n\t\t\t\tthis.partService.addClass('debugging');\n\t\t\t}\n\t\t\tthis.extensionService.activateByEvent(`onDebug:${ configuration.type }`).done(null, errors.onUnexpectedError);\n\t\t\tthis.contextService.updateOptions('editor', {\n\t\t\t\tglyphMargin: true\n\t\t\t});\n\t\t\tthis.inDebugMode.set(true);\n\n\t\t\tthis.telemetryService.publicLog('debugSessionStart', { type: configuration.type, breakpointCount: this.model.getBreakpoints().length, exceptionBreakpoints: this.model.getExceptionBreakpoints(), watchExpressionsCount: this.model.getWatchExpressions().length });\n\t\t}).then(undefined, (error: any) => {\n\t\t\tthis.telemetryService.publicLog('debugMisconfiguration', { type: configuration ? configuration.type : undefined });\n\t\t\tthis.setStateAndEmit(debug.State.Inactive);\n\t\t\tif (this.session) {\n\t\t\t\tthis.session.disconnect();\n\t\t\t}\n\n\t\t\tconst configureAction = this.instantiationService.createInstance(debugactions.ConfigureAction, debugactions.ConfigureAction.ID, debugactions.ConfigureAction.LABEL);\n\t\t\tconst actions = (error.actions && error.actions.length) ? error.actions.concat([configureAction]) : [CloseAction, configureAction];\n\t\t\treturn TPromise.wrapError(errors.create(error.message, { actions }));\n\t\t});\n\t}\n\n\tprivate runPreLaunchTask(taskName: string): TPromise<ITaskSummary> {\n\t\tif (!taskName) {\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\t// run a task before starting a debug session\n\t\treturn this.taskService.tasks().then(descriptions => {\n\t\t\tconst filteredTasks = descriptions.filter(task => task.name === taskName);\n\t\t\tif (filteredTasks.length !== 1) {\n\t\t\t\treturn TPromise.wrapError(errors.create(nls.localize('DebugTaskNotFound', \"Could not find the preLaunchTask \\'{0}\\'.\", taskName), {\n\t\t\t\t\tactions: [\n\t\t\t\t\t\tCloseAction,\n\t\t\t\t\t\tthis.taskService.configureAction(),\n\t\t\t\t\t\tthis.instantiationService.createInstance(debugactions.ConfigureAction, debugactions.ConfigureAction.ID, debugactions.ConfigureAction.LABEL)\n\t\t\t\t\t]\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\t// task is already running - nothing to do.\n\t\t\tif (this.lastTaskEvent && this.lastTaskEvent.taskName === taskName) {\n\t\t\t\treturn TPromise.as(null);\n\t\t\t}\n\n\t\t\tif (this.lastTaskEvent) {\n\t\t\t\t// there is a different task running currently.\n\t\t\t\treturn TPromise.wrapError(errors.create(nls.localize('differentTaskRunning', \"There is a task {0} running. Can not run pre launch task {1}.\", this.lastTaskEvent.taskName, taskName)));\n\t\t\t}\n\n\t\t\t// no task running, execute the preLaunchTask.\n\t\t\tconst taskPromise = this.taskService.run(filteredTasks[0].id).then(result => {\n\t\t\t\tthis.lastTaskEvent = null;\n\t\t\t\treturn result;\n\t\t\t}, err => {\n\t\t\t\tthis.lastTaskEvent = null;\n\t\t\t});\n\n\t\t\tif (filteredTasks[0].isWatching) {\n\t\t\t\treturn new TPromise((c, e) => this.taskService.addOneTimeListener(TaskServiceEvents.Inactive, () => c(null)));\n\t\t\t}\n\n\t\t\treturn taskPromise;\n\t\t});\n\t}\n\n\tprivate rawAttach(port: number): TPromise<any> {\n\t\tif (this.session) {\n\t\t\tif (!this.session.isAttach) {\n\t\t\t\treturn this.session.attach({ port });\n\t\t\t}\n\n\t\t\tthis.session.disconnect().done(null, errors.onUnexpectedError);\n\t\t}\n\n\t\tconst configuration = this.configurationManager.getConfiguration();\n\t\tthis.setStateAndEmit(debug.State.Initializing);\n\t\treturn this.doCreateSession({\n\t\t\ttype: configuration.type,\n\t\t\trequest: 'attach',\n\t\t\tport,\n\t\t\tsourceMaps: configuration.sourceMaps,\n\t\t\toutDir: configuration.outDir,\n\t\t\tdebugServer: configuration.debugServer\n\t\t}, false);\n\t}\n\n\tpublic restartSession(): TPromise<any> {\n\t\treturn this.session ? this.session.disconnect(true).then(() =>\n\t\t\tnew TPromise<void>((c, e) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.createSession(false, false).then(() => c(null), err => e(err));\n\t\t\t\t}, 300);\n\t\t\t})\n\t\t) : this.createSession(false, false);\n\t}\n\n\tpublic getActiveSession(): debug.IRawDebugSession {\n\t\treturn this.session;\n\t}\n\n\tprivate onSessionEnd(): void {\n\t\tif (this.session) {\n\t\t\tconst bpsExist = this.model.getBreakpoints().length > 0;\n\t\t\tthis.telemetryService.publicLog('debugSessionStop', {\n\t\t\t\ttype: this.session.getType(),\n\t\t\t\tsuccess: this.session.emittedStopped || !bpsExist,\n\t\t\t\tsessionLengthInSeconds: this.session.getLengthInSeconds(),\n\t\t\t\tbreakpointCount: this.model.getBreakpoints().length,\n\t\t\t\twatchExpressionsCount: this.model.getWatchExpressions().length\n\t\t\t});\n\t\t}\n\n\t\tthis.session = null;\n\t\ttry {\n\t\t\tthis.toDisposeOnSessionEnd = lifecycle.dispose(this.toDisposeOnSessionEnd);\n\t\t} catch (e) {\n\t\t\t// an internal module might be open so the dispose can throw -> ignore and continue with stop session.\n\t\t}\n\n\t\tthis.partService.removeClass('debugging');\n\t\tthis.editorService.focusEditor();\n\n\t\tthis.model.clearThreads(true);\n\t\tthis.setFocusedStackFrameAndEvaluate(null);\n\t\tthis.setStateAndEmit(debug.State.Inactive);\n\n\t\t// set breakpoints back to unverified since the session ended.\n\t\t// source reference changes across sessions, so we do not use it to persist the source.\n\t\tconst data: {[id: string]: { line: number, verified: boolean } } = { };\n\t\tthis.model.getBreakpoints().forEach(bp => {\n\t\t\tdelete bp.source.raw.sourceReference;\n\t\t\tdata[bp.getId()] = { line: bp.lineNumber, verified: false };\n\t\t});\n\t\tthis.model.updateBreakpoints(data);\n\n\t\tif (this.telemetryAdapter) {\n\t\t\tthis.telemetryAdapter.dispose();\n\t\t\tthis.telemetryAdapter = null;\n\t\t}\n\t\tthis.inDebugMode.reset();\n\t}\n\n\tpublic getModel(): debug.IModel {\n\t\treturn this.model;\n\t}\n\n\tpublic getViewModel(): debug.IViewModel {\n\t\treturn this.viewModel;\n\t}\n\n\tpublic openOrRevealEditor(source: Source, lineNumber: number, preserveFocus: boolean, sideBySide: boolean): TPromise<any> {\n\t\tconst visibleEditors = this.editorService.getVisibleEditors();\n\t\tfor (let i = 0; i < visibleEditors.length; i++) {\n\t\t\tconst fileInput = wbeditorcommon.asFileEditorInput(visibleEditors[i].input);\n\t\t\tif ((fileInput && fileInput.getResource().toString() === source.uri.toString()) ||\n\t\t\t\t(visibleEditors[i].input instanceof DebugStringEditorInput && (<DebugStringEditorInput>visibleEditors[i].input).getResource().toString() === source.uri.toString())) {\n\n\t\t\t\tconst control = <editorbrowser.ICodeEditor>visibleEditors[i].getControl();\n\t\t\t\tif (control) {\n\t\t\t\t\tcontrol.revealLineInCenterIfOutsideViewport(lineNumber);\n\t\t\t\t\tcontrol.setSelection({ startLineNumber: lineNumber, startColumn: 1, endLineNumber: lineNumber, endColumn: 1 });\n\t\t\t\t\treturn this.editorService.openEditor(visibleEditors[i].input, wbeditorcommon.TextEditorOptions.create({ preserveFocus: preserveFocus, forceActive: true }), visibleEditors[i].position);\n\t\t\t\t}\n\n\t\t\t\treturn TPromise.as(null);\n\t\t\t}\n\t\t}\n\n\t\tif (source.inMemory) {\n\t\t\t// internal module\n\t\t\tif (source.reference !== 0 && this.session) {\n\t\t\t\treturn this.session.source({ sourceReference: source.reference }).then(response => {\n\t\t\t\t\tconst editorInput = this.getDebugStringEditorInput(source, response.body.content, mime.guessMimeTypes(source.name)[0]);\n\t\t\t\t\treturn this.editorService.openEditor(editorInput, wbeditorcommon.TextEditorOptions.create({\n\t\t\t\t\t\tselection: {\n\t\t\t\t\t\t\tstartLineNumber: lineNumber,\n\t\t\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\t\t\tendLineNumber: lineNumber,\n\t\t\t\t\t\t\tendColumn: 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpreserveFocus: preserveFocus\n\t\t\t\t\t}), sideBySide);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.sourceIsUnavailable(source, sideBySide);\n\t\t}\n\n\t\treturn this.fileService.resolveFile(source.uri).then(() =>\n\t\t\tthis.editorService.openEditor({\n\t\t\t\tresource: source.uri,\n\t\t\t\toptions: {\n\t\t\t\t\tselection: {\n\t\t\t\t\t\tstartLineNumber: lineNumber,\n\t\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\t\tendLineNumber: lineNumber,\n\t\t\t\t\t\tendColumn: 1\n\t\t\t\t\t},\n\t\t\t\t\tpreserveFocus: preserveFocus\n\t\t\t\t}\n\t\t\t}, sideBySide), err => this.sourceIsUnavailable(source, sideBySide)\n\t\t);\n\t}\n\n\tprivate sourceIsUnavailable(source: Source, sideBySide: boolean): TPromise<any> {\n\t\tthis.model.sourceIsUnavailable(source);\n\t\tconst editorInput = this.getDebugStringEditorInput(source, nls.localize('debugSourceNotAvailable', \"Source {0} is not available.\", source.uri.fsPath), 'text/plain');\n\n\t\treturn this.editorService.openEditor(editorInput, wbeditorcommon.TextEditorOptions.create({ preserveFocus: true }), sideBySide);\n\t}\n\n\tpublic revealRepl(focus = true): TPromise<void> {\n\t\treturn this.panelService.openPanel(debug.REPL_ID, focus).then((repl: Repl) => {\n\t\t\tconst elements = this.model.getReplElements();\n\t\t\tif (repl && elements.length > 0) {\n\t\t\t\treturn repl.reveal(elements[elements.length - 1]);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic canSetBreakpointsIn(model: editor.IModel): boolean {\n\t\treturn this.configurationManager.canSetBreakpointsIn(model);\n\t}\n\n\tpublic getConfigurationName(): string {\n\t\treturn this.configurationManager.getConfigurationName();\n\t}\n\n\tpublic setConfiguration(name: string): TPromise<void> {\n\t\treturn this.configurationManager.setConfiguration(name).then(() => this.emit(debug.ServiceEvents.CONFIGURATION_CHANGED));\n\t}\n\n\tpublic openConfigFile(sideBySide: boolean): TPromise<boolean> {\n\t\treturn this.configurationManager.openConfigFile(sideBySide);\n\t}\n\n\tpublic loadLaunchConfig(): TPromise<debug.IGlobalConfig> {\n\t\treturn this.configurationManager.loadLaunchConfig();\n\t}\n\n\tprivate getDebugStringEditorInput(source: Source, value: string, mtype: string): DebugStringEditorInput {\n\t\tconst filtered = this.debugStringEditorInputs.filter(input => input.getResource().toString() === source.uri.toString());\n\n\t\tif (filtered.length === 0) {\n\t\t\tconst result = this.instantiationService.createInstance(DebugStringEditorInput, source.name, source.uri, source.origin, value, mtype, void 0);\n\t\t\tthis.debugStringEditorInputs.push(result);\n\t\t\tthis.toDisposeOnSessionEnd.push(result);\n\n\t\t\treturn result;\n\t\t} else {\n\t\t\treturn filtered[0];\n\t\t}\n\t}\n\n\tpublic sendAllBreakpoints(): TPromise<any> {\n\t\treturn TPromise.join(arrays.distinct(this.model.getBreakpoints(), bp => bp.source.uri.toString()).map(bp => this.sendBreakpoints(bp.source.uri)))\n\t\t\t.then(() => this.sendFunctionBreakpoints())\n\t\t\t// send exception breakpoints at the end since some debug adapters rely on the order\n\t\t\t.then(() => this.sendExceptionBreakpoints());\n\t}\n\n\tprivate sendBreakpoints(modelUri: uri): TPromise<void> {\n\t\tif (!this.session || !this.session.readyForBreakpoints) {\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\tconst breakpointsToSend = arrays.distinct(\n\t\t\tthis.model.getBreakpoints().filter(bp => this.model.areBreakpointsActivated() && bp.enabled && bp.source.uri.toString() === modelUri.toString()),\n\t\t\tbp => `${ bp.desiredLineNumber }`\n\t\t);\n\t\tconst rawSource = breakpointsToSend.length > 0 ? breakpointsToSend[0].source.raw : Source.toRawSource(modelUri, this.model);\n\n\t\treturn this.session.setBreakpoints({ source: rawSource, lines: breakpointsToSend.map(bp => bp.desiredLineNumber),\n\t\t\tbreakpoints: breakpointsToSend.map(bp => ({ line: bp.desiredLineNumber, condition: bp.condition })) }).then(response => {\n\n\t\t\tconst data: {[id: string]: { line?: number, verified: boolean } } = { };\n\t\t\tfor (let i = 0; i < breakpointsToSend.length; i++) {\n\t\t\t\tdata[breakpointsToSend[i].getId()] = response.body.breakpoints[i];\n\t\t\t}\n\n\t\t\tthis.model.updateBreakpoints(data);\n\t\t});\n\t}\n\n\tprivate sendFunctionBreakpoints(): TPromise<void> {\n\t\tif (!this.session || !this.session.readyForBreakpoints || !this.session.capabilities.supportsFunctionBreakpoints) {\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\tconst breakpointsToSend = this.model.getFunctionBreakpoints().filter(fbp => fbp.enabled && this.model.areBreakpointsActivated());\n\t\treturn this.session.setFunctionBreakpoints({ breakpoints: breakpointsToSend }).then(response => {\n\t\t\tconst data: {[id: string]: { name?: string, verified?: boolean } } = { };\n\t\t\tfor (let i = 0; i < breakpointsToSend.length; i++) {\n\t\t\t\tdata[breakpointsToSend[i].getId()] = response.body.breakpoints[i];\n\t\t\t}\n\n\t\t\tthis.model.updateFunctionBreakpoints(data);\n\t\t});\n\t}\n\n\tprivate sendExceptionBreakpoints(): TPromise<any> {\n\t\tif (!this.session || !this.session.readyForBreakpoints || this.model.getExceptionBreakpoints().length === 0) {\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\tconst enabledExceptionBps = this.model.getExceptionBreakpoints().filter(exb => exb.enabled);\n\t\treturn this.session.setExceptionBreakpoints({ filters: enabledExceptionBps.map(exb => exb.filter) });\n\t}\n\n\tprivate onFileChanges(fileChangesEvent: FileChangesEvent): void {\n\t\tthis.model.removeBreakpoints(this.model.getBreakpoints().filter(bp =>\n\t\t\tfileChangesEvent.contains(bp.source.uri, FileChangeType.DELETED)));\n\t}\n\n\tprivate store(): void {\n\t\tthis.storageService.store(DEBUG_BREAKPOINTS_KEY, JSON.stringify(this.model.getBreakpoints()), StorageScope.WORKSPACE);\n\t\tthis.storageService.store(DEBUG_BREAKPOINTS_ACTIVATED_KEY, this.model.areBreakpointsActivated() ? 'true' : 'false', StorageScope.WORKSPACE);\n\t\tthis.storageService.store(DEBUG_FUNCTION_BREAKPOINTS_KEY, JSON.stringify(this.model.getFunctionBreakpoints()), StorageScope.WORKSPACE);\n\t\tthis.storageService.store(DEBUG_EXCEPTION_BREAKPOINTS_KEY, JSON.stringify(this.model.getExceptionBreakpoints()), StorageScope.WORKSPACE);\n\t\tthis.storageService.store(DEBUG_SELECTED_CONFIG_NAME_KEY, this.configurationManager.getConfigurationName(), StorageScope.WORKSPACE);\n\t\tthis.storageService.store(DEBUG_WATCH_EXPRESSIONS_KEY, JSON.stringify(this.model.getWatchExpressions()), StorageScope.WORKSPACE);\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.toDisposeOnSessionEnd = lifecycle.dispose(this.toDisposeOnSessionEnd);\n\t\tthis.toDispose = lifecycle.dispose(this.toDispose);\n\t}\n}\n"]}