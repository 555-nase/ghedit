{"version":3,"file":"vs/workbench/parts/search/common/search.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/workbench/parts/search/common/search.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;IAEhG,YAAY,CAAC;IAyBb,IAAiB,4BAA4B,CA0B5C;IA1BD,WAAiB,4BAA4B,EAAC,CAAC;QAE9C,IAAM,SAAS,GAA4B,EAAE,CAAC;QAE9C,kBAAyB,OAA8B;YAEtD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACb,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACzB,CAAC;YAED,MAAM,CAAC;gBACN,OAAO;oBACN,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBACb,IAAI,GAAG,GAAG,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;wBACrC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;4BACd,SAAS,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;4BACzB,OAAO,GAAG,SAAS,CAAC;wBACrB,CAAC;oBACF,CAAC;gBACF,CAAC;aACD,CAAC;QACH,CAAC;QAjBe,qCAAQ,WAiBvB,CAAA;QAED;YACC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3B,CAAC;QAFe,gCAAG,MAElB,CAAA;IACF,CAAC,EA1BgB,4BAA4B,GAA5B,oCAA4B,KAA5B,oCAA4B,QA0B5C;IAED,4BAAmC,KAAa;QAE/C,IAAM,QAAQ,GAAG,4BAA4B,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,UAAA,OAAO;YAC9D,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,EAAL,CAAK,EAAE,0BAAiB,CAAC,CAAC;QAClF,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,qBAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAA,GAAG;YACtC,IAAM,MAAM,GAAmB,EAAE,CAAC;YAClC,GAAG,CAAC,CAAiB,UAAG,EAAH,WAAG,EAAH,iBAAG,EAAH,IAAG,CAAC;gBAApB,IAAI,QAAQ,YAAA;gBAChB,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC7B,MAAM,CAAC,IAAI,OAAX,MAAM,EAAS,QAAQ,CAAC,CAAC;gBAC1B,CAAC;aACD;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC,CAAC,CAAC;IACJ,CAAC;IAfe,0BAAkB,qBAejC,CAAA;IAED,6CAAoB,CAAC,uBAAuB,CAAC,iCAAiC,EAAE,UAAU,QAAQ,EAAE,IAAwB;QACtH,sBAAK,CAAS;QACnB,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC/B,MAAM,wBAAe,EAAE,CAAC;QACzB,CAAC;QACD,MAAM,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC,CAAC,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport {TPromise} from 'vs/base/common/winjs.base';\nimport {onUnexpectedError, illegalArgument} from 'vs/base/common/errors';\nimport {IDisposable} from 'vs/base/common/lifecycle';\nimport {CommonEditorRegistry} from 'vs/editor/common/editorCommonExtensions';\nimport {IRange} from 'vs/editor/common/editorCommon';\nimport URI from 'vs/base/common/uri';\n\n/**\n * Interface used to navigate to types by value.\n */\nexport interface ITypeBearing {\n\tcontainerName: string;\n\tname: string;\n\tparameters: string;\n\ttype: string;\n\trange: IRange;\n\tresourceUri: URI;\n}\n\nexport interface INavigateTypesSupport {\n\tgetNavigateToItems: (search: string) => TPromise<ITypeBearing[]>;\n}\n\nexport namespace NavigateTypesSupportRegistry {\n\n\tconst _supports: INavigateTypesSupport[] = [];\n\n\texport function register(support: INavigateTypesSupport): IDisposable {\n\n\t\tif (support) {\n\t\t\t_supports.push(support);\n\t\t}\n\n\t\treturn {\n\t\t\tdispose() {\n\t\t\t\tif (support) {\n\t\t\t\t\tlet idx = _supports.indexOf(support);\n\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\t_supports.splice(idx, 1);\n\t\t\t\t\t\tsupport = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\texport function all(): INavigateTypesSupport[] {\n\t\treturn _supports.slice(0);\n\t}\n}\n\nexport function getNavigateToItems(query: string): TPromise<ITypeBearing[]> {\n\n\tconst promises = NavigateTypesSupportRegistry.all().map(support => {\n\t\treturn support.getNavigateToItems(query).then(value => value, onUnexpectedError);\n\t});\n\n\treturn TPromise.join(promises).then(all => {\n\t\tconst result: ITypeBearing[] = [];\n\t\tfor (let bearings of all) {\n\t\t\tif (Array.isArray(bearings)) {\n\t\t\t\tresult.push(...bearings);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t});\n}\n\nCommonEditorRegistry.registerLanguageCommand('_executeWorkspaceSymbolProvider', function (accessor, args: { query: string; }) {\n\tlet {query} = args;\n\tif (typeof query !== 'string') {\n\t\tthrow illegalArgument();\n\t}\n\treturn getNavigateToItems(query);\n});\n"]}