{"version":3,"sources":["vs/workbench/parts/files/browser/views/workingFilesViewer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;IAAA;;;oGAGgG;IAChG,YAAY,CAAC;IA+Bb,IAAM,OAAO,GAAG,sBAAsB,CAAC;IAEvC;QAEC;QAAgB,CAAC;QAEV,sCAAK,GAAZ,UAAa,IAAW,EAAE,OAAY;YACrC,EAAE,CAAC,CAAC,OAAO,YAAY,oCAAgB,CAAC,CAAC,CAAC;gBACzC,MAAM,CAAoB,OAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACxD,CAAC;YAED,MAAM,CAAC,OAAO,CAAC;QAChB,CAAC;QAEM,4CAAW,GAAlB,UAAmB,IAAW,EAAE,OAAY;YAC3C,EAAE,CAAC,CAAC,OAAO,YAAY,qCAAiB,CAAC,CAAC,CAAC;gBAC1C,MAAM,CAAqB,OAAQ,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACjD,CAAC;YAED,MAAM,CAAC,KAAK,CAAC;QACd,CAAC;QAEM,4CAAW,GAAlB,UAAmB,IAAW,EAAE,OAAY;YAC3C,EAAE,CAAC,CAAC,OAAO,YAAY,qCAAiB,CAAC,CAAC,CAAC;gBAC1C,MAAM,CAAC,qBAAQ,CAAC,EAAE,CAAqB,OAAQ,CAAC,UAAU,EAAE,CAAC,CAAC;YAC/D,CAAC;YAED,MAAM,CAAC,qBAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC;QAEM,0CAAS,GAAhB,UAAiB,IAAW,EAAE,OAAY;YACzC,MAAM,CAAC,qBAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;QAC1B,CAAC;QACF,6BAAC;IAAD,CA/BA,AA+BC,IAAA;IA/BY,8BAAsB,yBA+BlC,CAAA;IAED;QAEC;QAAgB,CAAC;QAEV,oCAAO,GAAd,UAAe,IAAW,EAAE,OAAY,EAAE,YAAiB;YAC1D,MAAM,CAAC,qCAAiB,CAAC,OAAO,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QACzD,CAAC;QACF,yBAAC;IAAD,CAPA,AAOC,IAAA;IAPY,0BAAkB,qBAO9B,CAAA;IAED;QAA0C,wCAAe;QAIxD,8BACC,KAAwB,EACxB,cAA0C,EAC1C,YAAmC,EACD,cAAwC;YAE1E,kBAAM;gBACL,cAAc,EAAE,cAAc;gBAC9B,YAAY,EAAE,YAAY;aAC1B,CAAC,CAAC;YAL+B,mBAAc,GAAd,cAAc,CAA0B;QAM3E,CAAC;QAEM,wCAAS,GAAhB,UAAiB,IAAW,EAAE,OAAY;YACzC,MAAM,CAAC,oBAAoB,CAAC,gBAAgB,CAAC;QAC9C,CAAC;QAEM,6CAAc,GAArB,UAAsB,IAAW,EAAE,OAAY,EAAE,SAAsB;YACtE,IAAI,KAAK,GAAqB,OAAO,CAAC;YACtC,IAAI,GAAG,GAAG,WAAC,CAAC,SAAS,CAAC,CAAC,aAAa,EAAE,CAAC;YACvC,IAAI,IAAI,GAAG,WAAC,CAAC,qBAAqB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAElD,IAAI,KAAK,GAAG,WAAC,CAAC,2BAA2B,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC1D,IAAI,qBAAS,CAAC,KAAK,CAAC,cAAc,EAAE,EAAE,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YAE3E,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;gBACjB,WAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC;YAC3D,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,WAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC;YAC9D,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAjCa,qCAAgB,GAAG,EAAE,CAAC;QAMnC;uBAAC,yCAAwB;gCAAA;QA4B3B,2BAAC;IAAD,CApCA,AAoCC,CApCyC,iCAAe,GAoCxD;IApCY,4BAAoB,uBAoChC,CAAA;IAED;QAAA;QAOA,CAAC;QALA,wDAAY,GAAZ,UAAa,IAAW,EAAE,OAAY;YACrC,IAAI,KAAK,GAAqB,OAAO,CAAC;YAEtC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAA6B,EAAE,IAAoB,EAAE,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;QACjH,CAAC;QACF,wCAAC;IAAD,CAPA,AAOC,IAAA;IAPY,yCAAiC,oCAO7C,CAAA;IAED;QAAgD,8CAA2B;QAG1E,oCAAY,KAAwB,EACJ,oBAA2C,EAC1C,qBAA6C,EACnD,eAAiC;YAE3D,iBAAO,CAAC;YAJuB,yBAAoB,GAApB,oBAAoB,CAAuB;YAC1C,0BAAqB,GAArB,qBAAqB,CAAwB;YACnD,oBAAe,GAAf,eAAe,CAAkB;YAI3D,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,CAAC;QAEM,+CAAU,GAAjB,UAAkB,IAAW,EAAE,OAAyB;YACvD,MAAM,CAAC,OAAO,YAAY,oCAAgB,IAAI,gBAAK,CAAC,UAAU,YAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAC/E,CAAC;QAED,4GAA4G;QACrG,+CAAU,GAAjB,UAAkB,IAAW,EAAE,OAAyB;YACvD,IAAI,OAAO,GAAsB,EAAE,CAAC;YAEpC,EAAE,CAAC,CAAC,OAAO,YAAY,oCAAgB,CAAC,CAAC,CAAC;gBACzC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,uCAAyB,EAAE,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;YACxG,CAAC;YAED,MAAM,CAAC,qBAAQ,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;QAC7B,CAAC;QAEM,wDAAmB,GAA1B,UAA2B,IAAW,EAAE,OAAyB;YAChE,MAAM,CAAC,OAAO,YAAY,oCAAgB,IAAI,gBAAK,CAAC,UAAU,YAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAC/E,CAAC;QAEM,wDAAmB,GAA1B,UAA2B,IAAW,EAAE,OAAyB;YAAjE,iBAiEC;YAhEA,MAAM,CAAC,gBAAK,CAAC,mBAAmB,YAAC,IAAI,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,OAAO;gBAC5D,EAAE,CAAC,CAAC,OAAO,YAAY,oCAAgB,CAAC,CAAC,CAAC;oBAEzC,eAAe;oBACf,IAAI,gBAAgB,GAAG,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,8BAAgB,EAAE,IAAI,EAAE,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;oBACjH,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,YAAY;oBAE/C,uBAAuB;oBACvB,IAAI,eAAe,GAAG,CAAC,KAAI,CAAC,eAAe,CAAC,eAAe,EAAE,KAAK,oBAAY,CAAC,GAAG,CAAC,CAAC;oBACpF,EAAE,CAAC,CAAC,CAAC,CAAC,eAAe,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC3D,OAAO,CAAC,IAAI,CAAC,IAAI,qBAAS,EAAE,CAAC,CAAC;wBAE9B,IAAI,UAAU,GAAG,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,4BAAc,EAAE,4BAAc,CAAC,EAAE,EAAE,4BAAc,CAAC,KAAK,CAAC,CAAC;wBACnH,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;wBACzC,UAAU,CAAC,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC;wBACnC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;wBAEzB,IAAI,YAAY,GAAG,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,8BAAgB,EAAE,8BAAgB,CAAC,EAAE,EAAE,8BAAgB,CAAC,KAAK,CAAC,CAAC;wBAC3H,YAAY,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;wBAC3C,YAAY,CAAC,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC;wBACrC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC5B,CAAC;oBAED,2BAA2B;oBAC3B,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;wBACxB,OAAO,CAAC,IAAI,CAAC,IAAI,qBAAS,EAAE,CAAC,CAAC;wBAE9B,EAAE,CAAC,CAAC,KAAI,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;4BACxE,IAAI,kBAAkB,GAAG,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,4BAAc,EAAE,4BAAc,CAAC,EAAE,EAAE,4BAAc,CAAC,KAAK,CAAC,CAAC;4BAC3H,kBAAkB,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;4BACjD,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;wBAClC,CAAC;wBAED,IAAI,YAAY,GAAG,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,8BAAgB,EAAE,8BAAgB,CAAC,EAAE,EAAE,8BAAgB,CAAC,KAAK,CAAC,CAAC;wBAC3H,YAAY,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;wBAC3C,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC5B,CAAC;oBAED,UAAU;oBACV,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;wBACzB,OAAO,CAAC,IAAI,CAAC,IAAI,qBAAS,EAAE,CAAC,CAAC;wBAE9B,cAAc;wBACd,IAAI,gBAAgB,GAAG,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,oCAAsB,EAAE,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;wBAChH,EAAE,CAAC,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;4BACnC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;wBAChC,CAAC;wBAED,qBAAqB;wBACrB,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,4CAA8B,EAAE,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;oBAChH,CAAC;oBAED,QAAQ;oBACR,OAAO,CAAC,IAAI,CAAC,IAAI,qBAAS,EAAE,CAAC,CAAC;oBAC9B,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,uCAAyB,EAAE,KAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;oBACvG,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,wCAA0B,EAAE,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBAE/F,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;wBAC5B,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,0CAA4B,EAAE,KAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;oBAC3G,CAAC;gBACF,CAAC;gBAED,MAAM,CAAC,OAAO,CAAC;YAChB,CAAC,CAAC,CAAC;QACJ,CAAC;QA7FA;uBAAC,qCAAqB;uBACrB,8CAAsB;uBACtB,wBAAgB;sCAFK;QA8FxB,iCAAC;IAAD,CAlGA,AAkGC,CAlG+C,+CAA2B,GAkG1E;IAlGY,kCAA0B,6BAkGtC,CAAA;IAED;QAA6C,2CAAkB;QAG9D,iCAAY,KAAwB,EAAoC,cAAwC;YAC/G,iBAAO,CAAC;YAD+D,mBAAc,GAAd,cAAc,CAA0B;YAG/G,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACpB,CAAC;QAEM,4CAAU,GAAjB,UAAkB,IAAW,EAAE,OAAyB;YACvD,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACpC,CAAC;QAEM,6CAAW,GAAlB,UAAmB,IAAW,EAAE,IAAsB,EAAE,aAA6B;YACpF,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YAC7B,IAAI,MAAM,GAAqB,IAAI,CAAC;YACpC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC5B,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YACrB,CAAC;YAED,8FAA8F;YAC9F,4EAA4E;YAC5E,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,gCAAsB,CAAC,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1E,IAAI,MAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAClD,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,MAAI,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACnH,CAAC;QACF,CAAC;QAEM,4CAAU,GAAjB,UAAkB,IAAW,EAAE,IAAsB,EAAE,MAAwB,EAAE,aAA6B;YAC7G,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,YAAY,oCAAgB,CAAC,CAAC,CAAC,CAAC;gBAC3C,MAAM,CAAC,uBAAgB,CAAC;YACzB,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,YAAY,yCAA+B,CAAC,CAAC,CAAC;gBACrD,IAAI,QAAQ,GAAG,sBAAc,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEjD,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACf,MAAM,CAAC,uBAAgB,CAAC;gBACzB,CAAC;gBAED,MAAM,CAAC,QAAQ,CAAC,WAAW,GAAG,uBAAgB,GAAG,uBAAgB,CAAC;YACnE,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,YAAY,gCAAsB,CAAC,CAAC,CAAC;gBAC5C,MAAM,CAAC,uBAAgB,CAAC;YACzB,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,iCAAuB,CAAC,CAAC,CAAC,CAAC;gBAChD,MAAM,CAAC,uBAAgB,CAAC;YACzB,CAAC;YAED,IAAI,cAAmB,CAAC;YACxB,IAAI,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC;YACrC,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC;YAEpC,EAAE,CAAC,CAAC,WAAW,YAAY,oCAAgB,CAAC,CAAC,CAAC;gBAC7C,cAAc,GAAG,WAAW,CAAC,QAAQ,CAAC;YACvC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,IAAI,MAAM,GAAG,sBAAc,CAAC,WAAW,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACb,MAAM,CAAC,uBAAgB,CAAC;gBACzB,CAAC;gBAED,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC;YAClC,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,cAAc,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gBACxC,MAAM,CAAC,uBAAgB,CAAC;YACzB,CAAC;YAED,MAAM,CAAC,cAAc,CAAC,QAAQ,EAAE,KAAK,cAAc,CAAC,QAAQ,EAAE,GAAG,uBAAgB,GAAG,uBAAgB,CAAC;QACtG,CAAC;QAEM,sCAAI,GAAX,UAAY,IAAW,EAAE,IAAsB,EAAE,MAAwB,EAAE,aAA6B;YACvG,IAAI,cAAgC,CAAC;YAErC,oCAAoC;YACpC,EAAE,CAAC,CAAC,IAAI,YAAY,yCAA+B,CAAC,CAAC,CAAC;gBACrD,IAAI,QAAQ,GAAG,sBAAc,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjD,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACzD,CAAC;YAGD,IAAI,CAAC,CAAC;gBACL,IAAI,MAAM,GAAuB,IAAI,CAAC,OAAO,EAAE,CAAC;gBAChD,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAC3B,cAAc,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBAC5B,CAAC;YACF,CAAC;YAED,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;YAC5C,CAAC;QACF,CAAC;QA1FqC;uBAAC,yCAAwB;mCAAA;QA2FhE,8BAAC;IAAD,CA9FA,AA8FC,CA9F4C,iCAAkB,GA8F9D;IA9FY,+BAAuB,0BA8FnC,CAAA;IAED;QAA4C,0CAAiB;QAI5D,gCAAY,KAAwB,EAAE,QAAoC,EACxC,aAAsC,EACxC,oBAA2C,EAC7C,kBAAuC,EACzC,gBAAmC;YAE9D,kBAAM,EAAE,aAAa,EAAE,4BAAa,CAAC,aAAa,EAAE,CAAC,CAAC;YALrB,kBAAa,GAAb,aAAa,CAAyB;YACxC,yBAAoB,GAApB,oBAAoB,CAAuB;YAC7C,uBAAkB,GAAlB,kBAAkB,CAAqB;YACzC,qBAAgB,GAAhB,gBAAgB,CAAmB;YAI9D,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;YAE/B,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,4BAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACxF,EAAE,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,4BAAiB,CAAC,aAAa,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,uCAAuC;YAC7I,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,4BAAiB,CAAC,aAAa,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,uCAAuC;YAC7I,CAAC;QACF,CAAC;QAED,eAAe,CAAQ,wCAAO,GAAd,UAAe,IAAW,EAAE,OAAY,EAAE,KAAkB;YAE3E,2CAA2C;YAC3C,EAAE,CAAC,CAAC,OAAO,YAAY,oCAAgB,IAAI,KAAK,CAAC,YAAY,IAAI,KAAK,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBACtH,IAAM,aAAW,GAAG,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,uCAAyB,EAAE,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;gBAC7G,aAAW,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;oBACtB,aAAW,CAAC,OAAO,EAAE,CAAC;gBACvB,CAAC,EAAE,MAAM,CAAC,iBAAiB,CAAC,CAAC;gBAE7B,MAAM,CAAC,IAAI,CAAC;YACb,CAAC;YAED,MAAM,CAAC,gBAAK,CAAC,OAAO,YAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;QAC5C,CAAC;QAED,eAAe,CAAQ,4CAAW,GAAlB,UAAmB,IAAW,EAAE,OAAY,EAAE,KAAkB,EAAE,MAAwB;YAAxB,sBAAwB,GAAxB,gBAAwB;YACzG,IAAI,OAAO,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;YACjC,IAAI,aAAa,GAAG,CAAC,MAAM,KAAK,OAAO,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC;YAE/D,+BAA+B;YAC/B,EAAE,CAAC,CAAC,OAAO,YAAY,qCAAiB,CAAC,CAAC,CAAC;gBAC1C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBACzB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;gBAE7B,MAAM,CAAC,KAAK,CAAC;YACd,CAAC;YAED,eAAe;YACf,IAAI,WAAW,GAAG,KAAK,IAAI,KAAK,CAAC,YAAY,IAAI,KAAK,CAAC,YAAY,CAAC,IAAI,KAAK,WAAW,CAAC;YACzF,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAClB,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,8EAA8E;YACvG,CAAC;YACD,KAAK,CAAC,eAAe,EAAE,CAAC;YAExB,gBAAgB;YAChB,IAAI,CAAC,QAAQ,EAAE,CAAC;YAEhB,oBAAoB;YACpB,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACpB,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpC,EAAE,CAAC,CAAC,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC,CAAC,CAAC;oBACnE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;gBAC9B,CAAC;YACF,CAAC;YAGD,IAAI,CAAC,CAAC;gBACL,IAAI,aAAa,GAAG,CAAC,aAAa,CAAC;gBACnC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;gBAEhC,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;oBACnB,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,oDAAoD;gBAC7E,CAAC;gBAED,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC;gBACtC,IAAI,CAAC,UAAU,CAAmB,OAAO,EAAE,aAAa,EAAE,KAAK,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACtG,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEO,4CAAW,GAAnB,UAAoB,IAAW,EAAE,KAAqB;YACrD,IAAI,OAAO,GAAG,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC;YAErC,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC9B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;gBAChC,IAAI,CAAC,UAAU,CAAmB,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;YAC1D,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEO,kDAAiB,GAAzB,UAA0B,IAAW,EAAE,KAAqB;YAC3D,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC9B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,UAAU,CAAmB,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;YACzD,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEM,8CAAa,GAApB,UAAqB,IAAW,EAAE,OAAyB,EAAE,KAAuB;YAApF,iBAuBC;YAtBA,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,OAAO,CAAC,CAAC,CAAC;gBAC5F,MAAM,CAAC,KAAK,CAAC;YACd,CAAC;YAED,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YAExB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAEvB,IAAI,MAAM,GAAG,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,IAAI,EAAE,CAAC;YAClD,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC;gBACvC,SAAS,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM;gBACvB,UAAU,EAAE,cAAM,OAAA,KAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,IAAI,EAAE,OAAO,CAAC,EAAtD,CAAsD;gBACxE,aAAa,EAAE,UAAC,CAAC,IAAiB,OAAA,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAArB,CAAqB;gBACvD,MAAM,EAAE,UAAC,YAAsB;oBAC9B,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAClB,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACjB,CAAC;gBACF,CAAC;aACD,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAEO,8CAAa,GAArB,UAAsB,MAAuB;YAC5C,MAAM,CAAC,iCAAmB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QACvC,CAAC;QAEO,2CAAU,GAAlB,UAAmB,OAAyB,EAAE,aAAsB,EAAE,UAAmB;YACxF,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,yBAAyB,EAAE,EAAE,EAAE,EAAE,0BAA0B,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;gBAEnH,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC;oBAC7B,QAAQ,EAAE,OAAO,CAAC,QAAQ;oBAC1B,OAAO,EAAE;wBACR,aAAa,EAAE,aAAa;qBAC5B;iBACD,EAAE,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,iBAAiB,CAAC,CAAC;YACrD,CAAC;QACF,CAAC;QA5IA;uBAAC,uCAAuB;uBACvB,qCAAqB;uBACrB,iCAAmB;uBACnB,6BAAiB;kCAHM;QA6I1B,6BAAC;IAAD,CAlJA,AAkJC,CAlJ2C,gCAAiB,GAkJ5D;IAlJY,8BAAsB,yBAkJlC,CAAA","file":"vs/workbench/parts/files/browser/views/workingFilesViewer.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport nls = require('vs/nls');\nimport {TPromise} from 'vs/base/common/winjs.base';\nimport platform = require('vs/base/common/platform');\nimport {$} from 'vs/base/browser/builder';\nimport {IDataSource, ITree, ISorter, IElementCallback, IAccessibilityProvider, IDragAndDropData, IDragOverReaction, DRAG_OVER_ACCEPT, DRAG_OVER_REJECT, ContextMenuEvent} from 'vs/base/parts/tree/browser/tree';\nimport {FileLabel} from 'vs/base/browser/ui/filelabel/fileLabel';\nimport {ExternalElementsDragAndDropData, ElementsDragAndDropData, DesktopDragAndDropData} from 'vs/base/parts/tree/browser/treeDnd';\nimport {ClickBehavior, DefaultController, DefaultDragAndDrop} from 'vs/base/parts/tree/browser/treeDefaults';\nimport errors = require('vs/base/common/errors');\nimport mime = require('vs/base/common/mime');\nimport uri from 'vs/base/common/uri';\nimport paths = require('vs/base/common/paths');\nimport {IMouseEvent, DragMouseEvent} from 'vs/base/browser/mouseEvent';\nimport {IKeyboardEvent} from 'vs/base/browser/keyboardEvent';\nimport {Separator} from 'vs/base/browser/ui/actionbar/actionbar';\nimport actions = require('vs/base/common/actions');\nimport {ActionsRenderer} from 'vs/base/parts/tree/browser/actionsRenderer';\nimport {ContributableActionProvider} from 'vs/workbench/browser/actionBarRegistry';\nimport {keybindingForAction, CloseOneWorkingFileAction, CloseOtherWorkingFilesAction, CloseAllWorkingFilesAction, SelectResourceForCompareAction, CompareResourcesAction, SaveFileAsAction, SaveFileAction, RevertFileAction, OpenToSideAction} from 'vs/workbench/parts/files/browser/fileActions';\nimport {asFileResource, ITextFileService, AutoSaveMode} from 'vs/workbench/parts/files/common/files';\nimport {WorkingFileEntry, WorkingFilesModel} from 'vs/workbench/parts/files/common/workingFilesModel';\nimport {IUntitledEditorService} from 'vs/workbench/services/untitled/common/untitledEditorService';\nimport {IWorkbenchEditorService} from 'vs/workbench/services/editor/common/editorService';\nimport {IWorkspaceContextService} from 'vs/workbench/services/workspace/common/contextService';\nimport {IContextMenuService} from 'vs/platform/contextview/browser/contextView';\nimport {IInstantiationService} from 'vs/platform/instantiation/common/instantiation';\nimport {ITelemetryService} from 'vs/platform/telemetry/common/telemetry';\nimport {CommonKeybindings, Keybinding} from 'vs/base/common/keyCodes';\n\nconst ROOT_ID = '__WORKING_FILES_ROOT';\n\nexport class WorkingFilesDataSource implements IDataSource {\n\n\tconstructor() { }\n\n\tpublic getId(tree: ITree, element: any): string {\n\t\tif (element instanceof WorkingFileEntry) {\n\t\t\treturn (<WorkingFileEntry>element).resource.toString();\n\t\t}\n\n\t\treturn ROOT_ID;\n\t}\n\n\tpublic hasChildren(tree: ITree, element: any): boolean {\n\t\tif (element instanceof WorkingFilesModel) {\n\t\t\treturn (<WorkingFilesModel>element).count() > 0;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic getChildren(tree: ITree, element: any): TPromise<any[]> {\n\t\tif (element instanceof WorkingFilesModel) {\n\t\t\treturn TPromise.as((<WorkingFilesModel>element).getEntries());\n\t\t}\n\n\t\treturn TPromise.as([]);\n\t}\n\n\tpublic getParent(tree: ITree, element: any): TPromise<any> {\n\t\treturn TPromise.as(null);\n\t}\n}\n\nexport class WorkingFilesSorter implements ISorter {\n\n\tconstructor() { }\n\n\tpublic compare(tree: ITree, element: any, otherElement: any): number {\n\t\treturn WorkingFilesModel.compare(element, otherElement);\n\t}\n}\n\nexport class WorkingFilesRenderer extends ActionsRenderer {\n\n\tpublic static FILE_ITEM_HEIGHT = 22;\n\n\tconstructor(\n\t\tmodel: WorkingFilesModel,\n\t\tactionProvider: WorkingFilesActionProvider,\n\t\tactionRunner: actions.IActionRunner,\n\t\t@IWorkspaceContextService private contextService: IWorkspaceContextService\n\t) {\n\t\tsuper({\n\t\t\tactionProvider: actionProvider,\n\t\t\tactionRunner: actionRunner\n\t\t});\n\t}\n\n\tpublic getHeight(tree: ITree, element: any): number {\n\t\treturn WorkingFilesRenderer.FILE_ITEM_HEIGHT;\n\t}\n\n\tpublic renderContents(tree: ITree, element: any, container: HTMLElement): IElementCallback {\n\t\tlet entry = <WorkingFileEntry>element;\n\t\tlet $el = $(container).clearChildren();\n\t\tlet item = $('.working-files-item').appendTo($el);\n\n\t\tlet label = $('.working-files-item-label').appendTo(item);\n\t\tnew FileLabel(label.getHTMLElement(), entry.resource, this.contextService);\n\n\t\tif (entry.dirty) {\n\t\t\t$(container.parentElement).addClass('working-file-dirty');\n\t\t} else {\n\t\t\t$(container.parentElement).removeClass('working-file-dirty');\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport class WorkingFilesAccessibilityProvider implements IAccessibilityProvider {\n\n\tgetAriaLabel(tree: ITree, element: any): string {\n\t\tlet entry = <WorkingFileEntry>element;\n\n\t\treturn nls.localize('workingFilesViewerAriaLabel', \"{0}, Working Files\", paths.basename(entry.resource.fsPath));\n\t}\n}\n\nexport class WorkingFilesActionProvider extends ContributableActionProvider {\n\tprivate model: WorkingFilesModel;\n\n\tconstructor(model: WorkingFilesModel,\n\t\t@IInstantiationService private instantiationService: IInstantiationService,\n\t\t@IUntitledEditorService private untitledEditorService: IUntitledEditorService,\n\t\t@ITextFileService private textFileService: ITextFileService\n\t) {\n\t\tsuper();\n\n\t\tthis.model = model;\n\t}\n\n\tpublic hasActions(tree: ITree, element: WorkingFileEntry): boolean {\n\t\treturn element instanceof WorkingFileEntry || super.hasActions(tree, element);\n\t}\n\n\t// we don't call into super here because we put only one primary action to the left (Remove/Dirty Indicator)\n\tpublic getActions(tree: ITree, element: WorkingFileEntry): TPromise<actions.IAction[]> {\n\t\tlet actions: actions.IAction[] = [];\n\n\t\tif (element instanceof WorkingFileEntry) {\n\t\t\tactions.push(this.instantiationService.createInstance(CloseOneWorkingFileAction, this.model, element));\n\t\t}\n\n\t\treturn TPromise.as(actions);\n\t}\n\n\tpublic hasSecondaryActions(tree: ITree, element: WorkingFileEntry): boolean {\n\t\treturn element instanceof WorkingFileEntry || super.hasActions(tree, element);\n\t}\n\n\tpublic getSecondaryActions(tree: ITree, element: WorkingFileEntry): TPromise<actions.IAction[]> {\n\t\treturn super.getSecondaryActions(tree, element).then((actions) => {\n\t\t\tif (element instanceof WorkingFileEntry) {\n\n\t\t\t\t// Open to side\n\t\t\t\tlet openToSideAction = this.instantiationService.createInstance(OpenToSideAction, tree, element.resource, false);\n\t\t\t\tactions.unshift(openToSideAction); // be on top\n\n\t\t\t\t// Files: Save / Revert\n\t\t\t\tlet autoSaveEnabled = (this.textFileService.getAutoSaveMode() !== AutoSaveMode.OFF);\n\t\t\t\tif ((!autoSaveEnabled || element.dirty) && element.isFile) {\n\t\t\t\t\tactions.push(new Separator());\n\n\t\t\t\t\tlet saveAction = this.instantiationService.createInstance(SaveFileAction, SaveFileAction.ID, SaveFileAction.LABEL);\n\t\t\t\t\tsaveAction.setResource(element.resource);\n\t\t\t\t\tsaveAction.enabled = element.dirty;\n\t\t\t\t\tactions.push(saveAction);\n\n\t\t\t\t\tlet revertAction = this.instantiationService.createInstance(RevertFileAction, RevertFileAction.ID, RevertFileAction.LABEL);\n\t\t\t\t\trevertAction.setResource(element.resource);\n\t\t\t\t\trevertAction.enabled = element.dirty;\n\t\t\t\t\tactions.push(revertAction);\n\t\t\t\t}\n\n\t\t\t\t// Untitled: Save / Save As\n\t\t\t\tif (element.isUntitled) {\n\t\t\t\t\tactions.push(new Separator());\n\n\t\t\t\t\tif (this.untitledEditorService.hasAssociatedFilePath(element.resource)) {\n\t\t\t\t\t\tlet saveUntitledAction = this.instantiationService.createInstance(SaveFileAction, SaveFileAction.ID, SaveFileAction.LABEL);\n\t\t\t\t\t\tsaveUntitledAction.setResource(element.resource);\n\t\t\t\t\t\tactions.push(saveUntitledAction);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet saveAsAction = this.instantiationService.createInstance(SaveFileAsAction, SaveFileAsAction.ID, SaveFileAsAction.LABEL);\n\t\t\t\t\tsaveAsAction.setResource(element.resource);\n\t\t\t\t\tactions.push(saveAsAction);\n\t\t\t\t}\n\n\t\t\t\t// Compare\n\t\t\t\tif (!element.isUntitled) {\n\t\t\t\t\tactions.push(new Separator());\n\n\t\t\t\t\t// Run Compare\n\t\t\t\t\tlet runCompareAction = this.instantiationService.createInstance(CompareResourcesAction, element.resource, tree);\n\t\t\t\t\tif (runCompareAction._isEnabled()) {\n\t\t\t\t\t\tactions.push(runCompareAction);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Select for Compare\n\t\t\t\t\tactions.push(this.instantiationService.createInstance(SelectResourceForCompareAction, element.resource, tree));\n\t\t\t\t}\n\n\t\t\t\t// Close\n\t\t\t\tactions.push(new Separator());\n\t\t\t\tactions.push(this.instantiationService.createInstance(CloseOneWorkingFileAction, this.model, element));\n\t\t\t\tactions.push(this.instantiationService.createInstance(CloseAllWorkingFilesAction, this.model));\n\n\t\t\t\tif (this.model.count() > 1) {\n\t\t\t\t\tactions.push(this.instantiationService.createInstance(CloseOtherWorkingFilesAction, this.model, element));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn actions;\n\t\t});\n\t}\n}\n\nexport class WorkingFilesDragAndDrop extends DefaultDragAndDrop {\n\tprivate model: WorkingFilesModel;\n\n\tconstructor(model: WorkingFilesModel, @IWorkspaceContextService private contextService: IWorkspaceContextService) {\n\t\tsuper();\n\n\t\tthis.model = model;\n\t}\n\n\tpublic getDragURI(tree: ITree, element: WorkingFileEntry): string {\n\t\treturn element.resource.toString();\n\t}\n\n\tpublic onDragStart(tree: ITree, data: IDragAndDropData, originalEvent: DragMouseEvent): void {\n\t\tlet sources = data.getData();\n\t\tlet source: WorkingFileEntry = null;\n\t\tif (Array.isArray(sources)) {\n\t\t\tsource = sources[0];\n\t\t}\n\n\t\t// Native only: when a DownloadURL attribute is defined on the data transfer it is possible to\n\t\t// drag a file from the browser to the desktop and have it downloaded there.\n\t\tif (!(data instanceof DesktopDragAndDropData) && source && source.isFile) {\n\t\t\tlet name = paths.basename(source.resource.fsPath);\n\t\t\toriginalEvent.dataTransfer.setData('DownloadURL', [mime.MIME_BINARY, name, source.resource.toString()].join(':'));\n\t\t}\n\t}\n\n\tpublic onDragOver(baum: ITree, data: IDragAndDropData, target: WorkingFileEntry, originalEvent: DragMouseEvent): IDragOverReaction {\n\t\tif (!(target instanceof WorkingFileEntry)) {\n\t\t\treturn DRAG_OVER_REJECT;\n\t\t}\n\n\t\tif (data instanceof ExternalElementsDragAndDropData) {\n\t\t\tlet resource = asFileResource(data.getData()[0]);\n\n\t\t\tif (!resource) {\n\t\t\t\treturn DRAG_OVER_REJECT;\n\t\t\t}\n\n\t\t\treturn resource.isDirectory ? DRAG_OVER_REJECT : DRAG_OVER_ACCEPT;\n\t\t}\n\n\t\tif (data instanceof DesktopDragAndDropData) {\n\t\t\treturn DRAG_OVER_REJECT;\n\t\t}\n\n\t\tif (!(data instanceof ElementsDragAndDropData)) {\n\t\t\treturn DRAG_OVER_REJECT;\n\t\t}\n\n\t\tlet sourceResource: uri;\n\t\tlet targetResource = target.resource;\n\t\tlet draggedData = data.getData()[0];\n\n\t\tif (draggedData instanceof WorkingFileEntry) {\n\t\t\tsourceResource = draggedData.resource;\n\t\t} else {\n\t\t\tlet source = asFileResource(draggedData);\n\t\t\tif (!source) {\n\t\t\t\treturn DRAG_OVER_REJECT;\n\t\t\t}\n\n\t\t\tsourceResource = source.resource;\n\t\t}\n\n\t\tif (!targetResource || !sourceResource) {\n\t\t\treturn DRAG_OVER_REJECT;\n\t\t}\n\n\t\treturn targetResource.toString() === sourceResource.toString() ? DRAG_OVER_REJECT : DRAG_OVER_ACCEPT;\n\t}\n\n\tpublic drop(tree: ITree, data: IDragAndDropData, target: WorkingFileEntry, originalEvent: DragMouseEvent): void {\n\t\tlet draggedElement: WorkingFileEntry;\n\n\t\t// Support drop from explorer viewer\n\t\tif (data instanceof ExternalElementsDragAndDropData) {\n\t\t\tlet resource = asFileResource(data.getData()[0]);\n\t\t\tdraggedElement = this.model.addEntry(resource.resource);\n\t\t}\n\n\t\t// Drop within viewer\n\t\telse {\n\t\t\tlet source: WorkingFileEntry[] = data.getData();\n\t\t\tif (Array.isArray(source)) {\n\t\t\t\tdraggedElement = source[0];\n\t\t\t}\n\t\t}\n\n\t\tif (draggedElement) {\n\t\t\tthis.model.reorder(draggedElement, target);\n\t\t}\n\t}\n}\n\nexport class WorkingFilesController extends DefaultController {\n\tprivate actionProvider: WorkingFilesActionProvider;\n\tprivate model: WorkingFilesModel;\n\n\tconstructor(model: WorkingFilesModel, provider: WorkingFilesActionProvider,\n\t\t@IWorkbenchEditorService private editorService: IWorkbenchEditorService,\n\t\t@IInstantiationService private instantiationService: IInstantiationService,\n\t\t@IContextMenuService private contextMenuService: IContextMenuService,\n\t\t@ITelemetryService private telemetryService: ITelemetryService\n\t) {\n\t\tsuper({ clickBehavior: ClickBehavior.ON_MOUSE_DOWN });\n\n\t\tthis.model = model;\n\t\tthis.actionProvider = provider;\n\n\t\tthis.downKeyBindingDispatcher.set(CommonKeybindings.ENTER, this.onEnterDown.bind(this));\n\t\tif (platform.isMacintosh) {\n\t\t\tthis.upKeyBindingDispatcher.set(CommonKeybindings.WINCTRL_ENTER, this.onModifierEnterUp.bind(this)); // Mac: somehow Cmd+Enter does not work\n\t\t} else {\n\t\t\tthis.upKeyBindingDispatcher.set(CommonKeybindings.CTRLCMD_ENTER, this.onModifierEnterUp.bind(this)); // Mac: somehow Cmd+Enter does not work\n\t\t}\n\t}\n\n\t/* protected */ public onClick(tree: ITree, element: any, event: IMouseEvent): boolean {\n\n\t\t// Close working file on middle mouse click\n\t\tif (element instanceof WorkingFileEntry && event.browserEvent && event.browserEvent.button === 1 /* Middle Button */) {\n\t\t\tconst closeAction = this.instantiationService.createInstance(CloseOneWorkingFileAction, this.model, element);\n\t\t\tcloseAction.run().done(() => {\n\t\t\t\tcloseAction.dispose();\n\t\t\t}, errors.onUnexpectedError);\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn super.onClick(tree, element, event);\n\t}\n\n\t/* protected */ public onLeftClick(tree: ITree, element: any, event: IMouseEvent, origin: string = 'mouse'): boolean {\n\t\tlet payload = { origin: origin };\n\t\tlet isDoubleClick = (origin === 'mouse' && event.detail === 2);\n\n\t\t// Handle outside element click\n\t\tif (element instanceof WorkingFilesModel) {\n\t\t\ttree.clearFocus(payload);\n\t\t\ttree.clearSelection(payload);\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// Cancel Event\n\t\tlet isMouseDown = event && event.browserEvent && event.browserEvent.type === 'mousedown';\n\t\tif (!isMouseDown) {\n\t\t\tevent.preventDefault(); // we cannot preventDefault onMouseDown because this would break DND otherwise\n\t\t}\n\t\tevent.stopPropagation();\n\n\t\t// Set DOM focus\n\t\ttree.DOMFocus();\n\n\t\t// Allow to unselect\n\t\tif (event.shiftKey) {\n\t\t\tlet selection = tree.getSelection();\n\t\t\tif (selection && selection.length > 0 && selection[0] === element) {\n\t\t\t\ttree.clearSelection(payload);\n\t\t\t}\n\t\t}\n\n\t\t// Select, Focus and open files\n\t\telse {\n\t\t\tlet preserveFocus = !isDoubleClick;\n\t\t\ttree.setFocus(element, payload);\n\n\t\t\tif (isDoubleClick) {\n\t\t\t\tevent.preventDefault(); // focus moves to editor, we need to prevent default\n\t\t\t}\n\n\t\t\ttree.setSelection([element], payload);\n\t\t\tthis.openEditor(<WorkingFileEntry>element, preserveFocus, event && (event.ctrlKey || event.metaKey));\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate onEnterDown(tree: ITree, event: IKeyboardEvent): boolean {\n\t\tlet payload = { origin: 'keyboard' };\n\n\t\tlet element = tree.getFocus();\n\t\tif (element) {\n\t\t\ttree.setFocus(element, payload);\n\t\t\tthis.openEditor(<WorkingFileEntry>element, false, false);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate onModifierEnterUp(tree: ITree, event: IKeyboardEvent): boolean {\n\t\tlet element = tree.getFocus();\n\t\tif (element) {\n\t\t\tthis.openEditor(<WorkingFileEntry>element, false, true);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic onContextMenu(tree: ITree, element: WorkingFileEntry, event: ContextMenuEvent): boolean {\n\t\tif (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\n\t\t\treturn false;\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\ttree.setFocus(element);\n\n\t\tlet anchor = { x: event.posx + 1, y: event.posy };\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => anchor,\n\t\t\tgetActions: () => this.actionProvider.getSecondaryActions(tree, element),\n\t\t\tgetKeyBinding: (a): Keybinding => this.getKeyBinding(a),\n\t\t\tonHide: (wasCancelled?: boolean) => {\n\t\t\t\tif (wasCancelled) {\n\t\t\t\t\ttree.DOMFocus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn true;\n\t}\n\n\tprivate getKeyBinding(action: actions.IAction): Keybinding {\n\t\treturn keybindingForAction(action.id);\n\t}\n\n\tprivate openEditor(element: WorkingFileEntry, preserveFocus: boolean, sideBySide: boolean): void {\n\t\tif (element) {\n\t\t\tthis.telemetryService.publicLog('workbenchActionExecuted', { id: 'workbench.files.openFile', from: 'workingSet' });\n\n\t\t\tthis.editorService.openEditor({\n\t\t\t\tresource: element.resource,\n\t\t\t\toptions: {\n\t\t\t\t\tpreserveFocus: preserveFocus\n\t\t\t\t}\n\t\t\t}, sideBySide).done(null, errors.onUnexpectedError);\n\t\t}\n\t}\n}"]}