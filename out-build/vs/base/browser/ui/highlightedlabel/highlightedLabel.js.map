{"version":3,"file":"vs/base/browser/ui/highlightedlabel/highlightedLabel.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/base/browser/ui/highlightedlabel/highlightedLabel.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport {escape} from 'vs/base/common/strings';\nimport {IDisposable} from 'vs/base/common/lifecycle';\nimport * as dom from 'vs/base/browser/dom';\nimport * as objects from 'vs/base/common/objects';\nimport {expand as expandOcticons} from 'vs/base/browser/ui/octiconLabel/octiconLabel';\n\nexport interface IHighlight {\n\tstart: number;\n\tend: number;\n}\n\nexport class HighlightedLabel implements IDisposable {\n\n\tprivate domNode: HTMLElement;\n\tprivate text: string;\n\tprivate highlights: IHighlight[];\n\tprivate didEverRender: boolean;\n\n\tconstructor(container: HTMLElement) {\n\t\tthis.domNode = document.createElement('span');\n\t\tthis.domNode.className = 'monaco-highlighted-label';\n\t\tthis.didEverRender = false;\n\t\tcontainer.appendChild(this.domNode);\n\t}\n\n\tget element(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\tset(text: string, highlights: IHighlight[] = []) {\n\t\tif (!text) {\n\t\t\ttext = '';\n\t\t}\n\t\tif (this.didEverRender && this.text === text && objects.equals(this.highlights, highlights)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!Array.isArray(highlights)) {\n\t\t\thighlights = [];\n\t\t}\n\n\t\tthis.text = text;\n\t\tthis.highlights = highlights;\n\t\tthis.render();\n\t}\n\n\tprivate render() {\n\t\tdom.clearNode(this.domNode);\n\n\t\tlet htmlContent: string[] = [],\n\t\t\thighlight: IHighlight,\n\t\t\tpos = 0;\n\n\t\tfor (let i = 0; i < this.highlights.length; i++) {\n\t\t\thighlight = this.highlights[i];\n\t\t\tif (highlight.end === highlight.start) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (pos < highlight.start) {\n\t\t\t\thtmlContent.push('<span>');\n\t\t\t\thtmlContent.push(expandOcticons(escape(this.text.substring(pos, highlight.start))));\n\t\t\t\thtmlContent.push('</span>');\n\t\t\t\tpos = highlight.end;\n\t\t\t}\n\t\t\thtmlContent.push('<span class=\"highlight\">');\n\t\t\thtmlContent.push(expandOcticons(escape(this.text.substring(highlight.start, highlight.end))));\n\t\t\thtmlContent.push('</span>');\n\t\t\tpos = highlight.end;\n\t\t}\n\n\t\tif (pos < this.text.length) {\n\t\t\thtmlContent.push('<span>');\n\t\t\thtmlContent.push(expandOcticons(escape(this.text.substring(pos))));\n\t\t\thtmlContent.push('</span>');\n\t\t}\n\n\t\tthis.domNode.innerHTML = htmlContent.join('');\n\t\tthis.didEverRender = true;\n\t}\n\n\tdispose() {\n\t\tthis.text = null;\n\t\tthis.highlights = null;\n\t}\n}\n"]}