{"version":3,"file":"mouseEvent.js","sourceRoot":"","sources":["../../../../src/vs/base/browser/mouseEvent.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as platform from 'vs/base/common/platform';\nimport * as browser from 'vs/base/browser/browser';\nimport {IframeUtils} from 'vs/base/browser/iframe';\n\nexport interface IMouseEvent {\n\tbrowserEvent:MouseEvent;\n\tleftButton:boolean;\n\tmiddleButton:boolean;\n\trightButton:boolean;\n\ttarget:HTMLElement;\n\tdetail:number;\n\tposx:number;\n\tposy:number;\n\tctrlKey:boolean;\n\tshiftKey:boolean;\n\taltKey:boolean;\n\tmetaKey:boolean;\n\ttimestamp:number;\n\n\tpreventDefault(): void;\n\tstopPropagation(): void;\n}\n\nexport class StandardMouseEvent implements IMouseEvent {\n\n\tpublic browserEvent:MouseEvent;\n\n\tpublic leftButton:boolean;\n\tpublic middleButton:boolean;\n\tpublic rightButton:boolean;\n\tpublic target:HTMLElement;\n\tpublic detail:number;\n\tpublic posx:number;\n\tpublic posy:number;\n\tpublic ctrlKey:boolean;\n\tpublic shiftKey:boolean;\n\tpublic altKey:boolean;\n\tpublic metaKey:boolean;\n\tpublic timestamp:number;\n\n\tconstructor(e:MouseEvent) {\n\t\tthis.timestamp = Date.now();\n\t\tthis.browserEvent = e;\n\t\tthis.leftButton = e.button === 0;\n\t\tthis.middleButton = e.button === 1;\n\t\tthis.rightButton = e.button === 2;\n\n\t\tthis.target = e.target || (<any>e).targetNode || e.srcElement;\n\n\t\tthis.detail = e.detail || 1;\n\t\tif (e.type === 'dblclick') {\n\t\t\tthis.detail = 2;\n\t\t}\n\t\tthis.posx = 0;\n\t\tthis.posy = 0;\n\t\tthis.ctrlKey = e.ctrlKey;\n\t\tthis.shiftKey = e.shiftKey;\n\t\tthis.altKey = e.altKey;\n\t\tthis.metaKey = e.metaKey;\n\n\t\tlet readClientCoords = () => {\n\t\t\tif (e.clientX || e.clientY) {\n\t\t\t\tthis.posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\t\t\tthis.posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tlet readPageCoords = () => {\n\t\t\tif (e.pageX || e.pageY) {\n\t\t\t\tthis.posx = e.pageX;\n\t\t\t\tthis.posy = e.pageY;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tlet test1 = readPageCoords, test2 = readClientCoords;\n\t\tif (browser.isIE10) {\n\t\t\t// The if A elseif B logic here is inversed in IE10 due to an IE10 issue\n\t\t\ttest1 = readClientCoords;\n\t\t\ttest2 = readPageCoords;\n\t\t}\n\n\t\tif (!test1()) {\n\t\t\ttest2();\n\t\t}\n\n\t\t// Find the position of the iframe this code is executing in relative to the iframe where the event was captured.\n\t\tlet iframeOffsets = IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self, e.view);\n\t\tthis.posx -= iframeOffsets.left;\n\t\tthis.posy -= iframeOffsets.top;\n\t}\n\n\tpublic preventDefault(): void {\n\t\tif (this.browserEvent.preventDefault) {\n\t\t\tthis.browserEvent.preventDefault();\n\t\t}\n\t}\n\n\tpublic stopPropagation(): void {\n\t\tif (this.browserEvent.stopPropagation) {\n\t\t\tthis.browserEvent.stopPropagation();\n\t\t}\n\t}\n}\n\nexport interface IDataTransfer {\n\tdropEffect:string;\n\teffectAllowed:string;\n\ttypes:any[];\n\tfiles:any[];\n\n\tsetData(type:string, data:string):void;\n\tsetDragImage(image:any, x:number, y:number):void;\n\n\tgetData(type:string):string;\n\tclearData(types?:string[]):void;\n}\n\nexport class DragMouseEvent extends StandardMouseEvent {\n\n\tpublic dataTransfer:IDataTransfer;\n\n\tconstructor(e:MouseEvent) {\n\t\tsuper(e);\n\t\tthis.dataTransfer = (<any>e).dataTransfer;\n\t}\n\n}\n\nexport class DropMouseEvent extends DragMouseEvent {\n\n\tconstructor(e:MouseEvent) {\n\t\tsuper(e);\n\t}\n\n}\n\ninterface IWebKitMouseWheelEvent {\n\twheelDeltaY:number;\n\twheelDeltaX:number;\n}\n\ninterface IGeckoMouseWheelEvent {\n\tHORIZONTAL_AXIS:number;\n\tVERTICAL_AXIS:number;\n\taxis:number;\n\tdetail:number;\n}\n\nexport class StandardMouseWheelEvent {\n\n\tpublic browserEvent:MouseWheelEvent;\n\tpublic deltaY:number;\n\tpublic deltaX:number;\n\tpublic target:Node;\n\n\tconstructor(e:MouseWheelEvent, deltaX:number = 0, deltaY:number = 0) {\n\n\t\tthis.browserEvent = e || null;\n\t\tthis.target = e ? (e.target || (<any>e).targetNode || e.srcElement) : null;\n\n\t\tthis.deltaY = deltaY;\n\t\tthis.deltaX = deltaX;\n\n\t\tif (e) {\n\t\t\tlet e1 = <IWebKitMouseWheelEvent><any>e;\n\t\t\tlet e2 = <IGeckoMouseWheelEvent><any>e;\n\n\t\t\t// vertical delta scroll\n\t\t\tif (typeof e1.wheelDeltaY !== 'undefined') {\n\t\t\t\tthis.deltaY = e1.wheelDeltaY / 120;\n\t\t\t} else if (typeof e2.VERTICAL_AXIS !== 'undefined' && e2.axis === e2.VERTICAL_AXIS) {\n\t\t\t\tthis.deltaY = -e2.detail / 3;\n\t\t\t}\n\n\t\t\t// horizontal delta scroll\n\t\t\tif (typeof e1.wheelDeltaX !== 'undefined') {\n\t\t\t\tif (browser.isSafari && platform.isWindows) {\n\t\t\t\t\tthis.deltaX = - (e1.wheelDeltaX / 120);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deltaX = e1.wheelDeltaX / 120;\n\t\t\t\t}\n\t\t\t} else if (typeof e2.HORIZONTAL_AXIS !== 'undefined' && e2.axis === e2.HORIZONTAL_AXIS) {\n\t\t\t\tthis.deltaX = -e.detail / 3;\n\t\t\t}\n\n\t\t\t// Assume a vertical scroll if nothing else worked\n\t\t\tif (this.deltaY === 0 && this.deltaX === 0 && e.wheelDelta) {\n\t\t\t\tthis.deltaY = e.wheelDelta / 120;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic preventDefault(): void {\n\t\tif (this.browserEvent) {\n\t\t\tif (this.browserEvent.preventDefault) {\n\t\t\t\tthis.browserEvent.preventDefault();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic stopPropagation(): void {\n\t\tif (this.browserEvent) {\n\t\t\tif (this.browserEvent.stopPropagation) {\n\t\t\t\tthis.browserEvent.stopPropagation();\n\t\t\t}\n\t\t}\n\t}\n}\n"]}