{"version":3,"file":"vs/base/test/common/async.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/base/test/common/async.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as assert from 'assert';\nimport { Promise, TPromise } from 'vs/base/common/winjs.base';\nimport Async = require('vs/base/common/async');\n\nsuite('Async', () => {\n\ttest('Throttler - non async', function(done) {\n\t\tvar count = 0;\n\t\tvar factory = () => {\n\t\t\treturn TPromise.as(++count);\n\t\t};\n\n\t\tvar throttler = new Async.Throttler();\n\n\t\tPromise.join([\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 1); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 2); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 3); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 4); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 5); })\n\t\t]).done(() => done());\n\t});\n\n\ttest('Throttler', function(done) {\n\t\tvar count = 0;\n\t\tvar factory = () => {\n\t\t\treturn TPromise.timeout(0).then(() => {\n\t\t\t\treturn ++count;\n\t\t\t});\n\t\t};\n\n\t\tvar throttler = new Async.Throttler();\n\n\t\tPromise.join([\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 1); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 2); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 2); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 2); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 2); })\n\t\t]).done(() => {\n\t\t\tPromise.join([\n\t\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 3); }),\n\t\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 4); }),\n\t\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 4); }),\n\t\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 4); }),\n\t\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 4); })\n\t\t\t]).done(() => done());\n\t\t});\n\t});\n\n\ttest('Throttler - cancel should not cancel other promises', function(done) {\n\t\tvar count = 0;\n\t\tvar factory = () => {\n\t\t\treturn TPromise.timeout(0).then(() => {\n\t\t\t\treturn ++count;\n\t\t\t});\n\t\t};\n\n\t\tvar throttler = new Async.Throttler();\n\t\tvar p1: Promise;\n\n\t\tPromise.join([\n\t\t\tp1 = throttler.queue(factory).then((result) => { assert(false, 'should not be here, 1'); }, () => { assert(true, 'yes, it was cancelled'); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 1); }, () => { assert(false, 'should not be here, 2'); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 1); }, () => { assert(false, 'should not be here, 3'); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 1); }, () => { assert(false, 'should not be here, 4'); })\n\t\t]).done(() => done());\n\n\t\tp1.cancel();\n\t});\n\n\ttest('Throttler - cancel the first queued promise should not cancel other promises', function(done) {\n\t\tvar count = 0;\n\t\tvar factory = () => {\n\t\t\treturn TPromise.timeout(0).then(() => {\n\t\t\t\treturn ++count;\n\t\t\t});\n\t\t};\n\n\t\tvar throttler = new Async.Throttler();\n\t\tvar p2: Promise;\n\n\t\tPromise.join([\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 1); }, () => { assert(false, 'should not be here, 1'); }),\n\t\t\tp2 = throttler.queue(factory).then((result) => { assert(false, 'should not be here, 2'); }, () => { assert(true, 'yes, it was cancelled'); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 2); }, () => { assert(false, 'should not be here, 3'); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 2); }, () => { assert(false, 'should not be here, 4'); })\n\t\t]).done(() => done());\n\n\t\tp2.cancel();\n\t});\n\n\ttest('Throttler - cancel in the middle should not cancel other promises', function(done) {\n\t\tvar count = 0;\n\t\tvar factory = () => {\n\t\t\treturn TPromise.timeout(0).then(() => {\n\t\t\t\treturn ++count;\n\t\t\t});\n\t\t};\n\n\t\tvar throttler = new Async.Throttler();\n\t\tvar p3: Promise;\n\n\t\tPromise.join([\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 1); }, () => { assert(false, 'should not be here, 1'); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 2); }, () => { assert(false, 'should not be here, 2'); }),\n\t\t\tp3 = throttler.queue(factory).then((result) => { assert(false, 'should not be here, 3'); }, () => { assert(true, 'yes, it was cancelled'); }),\n\t\t\tthrottler.queue(factory).then((result) => { assert.equal(result, 2); }, () => { assert(false, 'should not be here, 4'); })\n\t\t]).done(() => done());\n\n\t\tp3.cancel();\n\t});\n\n\ttest('Throttler - last factory should be the one getting called', function(done) {\n\t\tvar factoryFactory = (n: number) => () => {\n\t\t\treturn TPromise.timeout(0).then(() => n);\n\t\t};\n\n\t\tvar throttler = new Async.Throttler();\n\n\t\tvar promises: Promise[] = [];\n\n\t\tpromises.push(throttler.queue(factoryFactory(1)).then((n) => { assert.equal(n, 1); }));\n\t\tpromises.push(throttler.queue(factoryFactory(2)).then((n) => { assert.equal(n, 3); }));\n\t\tpromises.push(throttler.queue(factoryFactory(3)).then((n) => { assert.equal(n, 3); }));\n\n\t\tPromise.join(promises).done(() => done());\n\t});\n\n\ttest('Throttler - progress should work', function(done) {\n\t\tvar order = 0;\n\t\tvar factory = () => new Promise((c, e, p) => {\n\t\t\tTPromise.timeout(0).done(() => {\n\t\t\t\tp(order++);\n\t\t\t\tc(true);\n\t\t\t});\n\t\t});\n\n\t\tvar throttler = new Async.Throttler();\n\t\tvar promises: Promise[] = [];\n\t\tvar progresses: any[][] = [[], [], []];\n\n\t\tpromises.push(throttler.queue(factory).then(null, null, (p) => progresses[0].push(p)));\n\t\tpromises.push(throttler.queue(factory).then(null, null, (p) => progresses[1].push(p)));\n\t\tpromises.push(throttler.queue(factory).then(null, null, (p) => progresses[2].push(p)));\n\n\t\tPromise.join(promises).done(() => {\n\t\t\tassert.deepEqual(progresses[0], [0]);\n\t\t\tassert.deepEqual(progresses[1], [0]);\n\t\t\tassert.deepEqual(progresses[2], [0]);\n\t\t\tdone();\n\t\t});\n\t});\n\n\ttest('Delayer', function(done) {\n\t\tvar count = 0;\n\t\tvar factory = () => {\n\t\t\treturn TPromise.as(++count);\n\t\t};\n\n\t\tvar delayer = new Async.Delayer(0);\n\t\tvar promises: Promise[] = [];\n\n\t\tassert(!delayer.isTriggered());\n\n\t\tpromises.push(delayer.trigger(factory).then((result) => { assert.equal(result, 1); assert(!delayer.isTriggered()); }));\n\t\tassert(delayer.isTriggered());\n\n\t\tpromises.push(delayer.trigger(factory).then((result) => { assert.equal(result, 1); assert(!delayer.isTriggered()); }));\n\t\tassert(delayer.isTriggered());\n\n\t\tpromises.push(delayer.trigger(factory).then((result) => { assert.equal(result, 1); assert(!delayer.isTriggered()); }));\n\t\tassert(delayer.isTriggered());\n\n\t\tPromise.join(promises).done(() => {\n\t\t\tassert(!delayer.isTriggered());\n\t\t\tdone();\n\t\t});\n\t});\n\n\ttest('Delayer - simple cancel', function(done) {\n\t\tvar count = 0;\n\t\tvar factory = () => {\n\t\t\treturn TPromise.as(++count);\n\t\t};\n\n\t\tvar delayer = new Async.Delayer(0);\n\n\t\tassert(!delayer.isTriggered());\n\n\t\tdelayer.trigger(factory).then(() => {\n\t\t\tassert(false);\n\t\t}, () => {\n\t\t\tassert(true, 'yes, it was cancelled');\n\t\t}).done(() => done());\n\n\t\tassert(delayer.isTriggered());\n\t\tdelayer.cancel();\n\t\tassert(!delayer.isTriggered());\n\t});\n\n\ttest('Delayer - cancel should cancel all calls to trigger', function(done) {\n\t\tvar count = 0;\n\t\tvar factory = () => {\n\t\t\treturn TPromise.as(++count);\n\t\t};\n\n\t\tvar delayer = new Async.Delayer(0);\n\t\tvar promises: Promise[] = [];\n\n\t\tassert(!delayer.isTriggered());\n\n\t\tpromises.push(delayer.trigger(factory).then(null, () => { assert(true, 'yes, it was cancelled'); }));\n\t\tassert(delayer.isTriggered());\n\n\t\tpromises.push(delayer.trigger(factory).then(null, () => { assert(true, 'yes, it was cancelled'); }));\n\t\tassert(delayer.isTriggered());\n\n\t\tpromises.push(delayer.trigger(factory).then(null, () => { assert(true, 'yes, it was cancelled'); }));\n\t\tassert(delayer.isTriggered());\n\n\t\tdelayer.cancel();\n\n\t\tPromise.join(promises).done(() => {\n\t\t\tassert(!delayer.isTriggered());\n\t\t\tdone();\n\t\t});\n\t});\n\n\ttest('Delayer - trigger, cancel, then trigger again', function(done) {\n\t\tvar count = 0;\n\t\tvar factory = () => {\n\t\t\treturn TPromise.as(++count);\n\t\t};\n\n\t\tvar delayer = new Async.Delayer(0);\n\t\tvar promises: Promise[] = [];\n\n\t\tassert(!delayer.isTriggered());\n\n\t\tdelayer.trigger(factory).then((result) => {\n\t\t\tassert.equal(result, 1);\n\t\t\tassert(!delayer.isTriggered());\n\n\t\t\tpromises.push(delayer.trigger(factory).then(null, () => { assert(true, 'yes, it was cancelled'); }));\n\t\t\tassert(delayer.isTriggered());\n\n\t\t\tpromises.push(delayer.trigger(factory).then(null, () => { assert(true, 'yes, it was cancelled'); }));\n\t\t\tassert(delayer.isTriggered());\n\n\t\t\tdelayer.cancel();\n\n\t\t\tPromise.join(promises).then(() => {\n\n\t\t\t\tpromises = [];\n\n\t\t\t\tassert(!delayer.isTriggered());\n\n\t\t\t\tpromises.push(delayer.trigger(factory).then(() => { assert.equal(result, 1); assert(!delayer.isTriggered()); }));\n\t\t\t\tassert(delayer.isTriggered());\n\n\t\t\t\tpromises.push(delayer.trigger(factory).then(() => { assert.equal(result, 1); assert(!delayer.isTriggered()); }));\n\t\t\t\tassert(delayer.isTriggered());\n\n\t\t\t\tPromise.join(promises).then(() => {\n\t\t\t\t\tassert(!delayer.isTriggered());\n\n\t\t\t\t\tdone();\n\t\t\t\t});\n\n\t\t\t\tassert(delayer.isTriggered());\n\t\t\t});\n\n\t\t\tassert(delayer.isTriggered());\n\t\t});\n\n\t\tassert(delayer.isTriggered());\n\t});\n\n\ttest('Delayer - last task should be the one getting called', function(done) {\n\t\tvar factoryFactory = (n: number) => () => {\n\t\t\treturn TPromise.as(n);\n\t\t};\n\n\t\tvar delayer = new Async.Delayer(0);\n\t\tvar promises: Promise[] = [];\n\n\t\tassert(!delayer.isTriggered());\n\n\t\tpromises.push(delayer.trigger(factoryFactory(1)).then((n) => { assert.equal(n, 3); }));\n\t\tpromises.push(delayer.trigger(factoryFactory(2)).then((n) => { assert.equal(n, 3); }));\n\t\tpromises.push(delayer.trigger(factoryFactory(3)).then((n) => { assert.equal(n, 3); }));\n\n\t\tPromise.join(promises).then(() => {\n\t\t\tassert(!delayer.isTriggered());\n\t\t\tdone();\n\t\t});\n\n\t\tassert(delayer.isTriggered());\n\t});\n\n\ttest('Delayer - progress should work', function(done) {\n\t\tvar order = 0;\n\t\tvar factory = () => new Promise((c, e, p) => {\n\t\t\tTPromise.timeout(0).done(() => {\n\t\t\t\tp(order++);\n\t\t\t\tc(true);\n\t\t\t});\n\t\t});\n\n\t\tvar delayer = new Async.Delayer(0);\n\t\tvar promises: Promise[] = [];\n\t\tvar progresses: any[][] = [[], [], []];\n\n\t\tpromises.push(delayer.trigger(factory).then(null, null, (p) => progresses[0].push(p)));\n\t\tpromises.push(delayer.trigger(factory).then(null, null, (p) => progresses[1].push(p)));\n\t\tpromises.push(delayer.trigger(factory).then(null, null, (p) => progresses[2].push(p)));\n\n\t\tPromise.join(promises).done(() => {\n\t\t\tassert.deepEqual(progresses[0], [0]);\n\t\t\tassert.deepEqual(progresses[1], [0]);\n\t\t\tassert.deepEqual(progresses[2], [0]);\n\t\t\tdone();\n\t\t});\n\t});\n\n\ttest('ThrottledDelayer - progress should work', function(done) {\n\t\tvar order = 0;\n\t\tvar factory = () => new Promise((c, e, p) => {\n\t\t\tTPromise.timeout(0).done(() => {\n\t\t\t\tp(order++);\n\t\t\t\tc(true);\n\t\t\t});\n\t\t});\n\n\t\tvar delayer = new Async.ThrottledDelayer(0);\n\t\tvar promises: Promise[] = [];\n\t\tvar progresses: any[][] = [[], [], []];\n\n\t\tpromises.push(delayer.trigger(factory).then(null, null, (p) => progresses[0].push(p)));\n\t\tpromises.push(delayer.trigger(factory).then(null, null, (p) => progresses[1].push(p)));\n\t\tpromises.push(delayer.trigger(factory).then(null, null, (p) => progresses[2].push(p)));\n\n\t\tPromise.join(promises).done(() => {\n\t\t\tassert.deepEqual(progresses[0], [0]);\n\t\t\tassert.deepEqual(progresses[1], [0]);\n\t\t\tassert.deepEqual(progresses[2], [0]);\n\t\t\tdone();\n\t\t});\n\t});\n\n\ttest('Sequence', function(done) {\n\t\tvar factoryFactory = (n: number) => () => {\n\t\t\treturn TPromise.as(n);\n\t\t};\n\n\t\tAsync.sequence([\n\t\t\tfactoryFactory(1),\n\t\t\tfactoryFactory(2),\n\t\t\tfactoryFactory(3),\n\t\t\tfactoryFactory(4),\n\t\t\tfactoryFactory(5),\n\t\t]).then((result)=>{\n\t\t\tassert.equal(5, result.length);\n\t\t\tassert.equal(1, result[0]);\n\t\t\tassert.equal(2, result[1]);\n\t\t\tassert.equal(3, result[2]);\n\t\t\tassert.equal(4, result[3]);\n\t\t\tassert.equal(5, result[4]);\n\t\t\tdone();\n\t\t});\n\t});\n\n\ttest('Limiter - sync', function(done) {\n\t\tvar factoryFactory = (n: number) => () => {\n\t\t\treturn TPromise.as(n);\n\t\t};\n\n\t\tvar limiter = new Async.Limiter(1);\n\n\t\tvar promises:Promise[] = [];\n\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].forEach(n => promises.push(limiter.queue(factoryFactory(n))));\n\n\t\tPromise.join(promises).then((res) => {\n\t\t\tassert.equal(10, res.length);\n\n\t\t\tlimiter = new Async.Limiter(100);\n\n\t\t\tpromises = [];\n\t\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].forEach(n => promises.push(limiter.queue(factoryFactory(n))));\n\n\t\t\treturn Promise.join(promises).then((res) => {\n\t\t\t\tassert.equal(10, res.length);\n\t\t\t});\n\t\t}).done(() => done());\n\t});\n\n\ttest('Limiter - async', function(done) {\n\t\tvar factoryFactory = (n: number) => () => {\n\t\t\treturn TPromise.timeout(0).then(() => n);\n\t\t};\n\n\t\tvar limiter = new Async.Limiter(1);\n\t\tvar promises:Promise[] = [];\n\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].forEach(n => promises.push(limiter.queue(factoryFactory(n))));\n\n\t\tPromise.join(promises).then((res) => {\n\t\t\tassert.equal(10, res.length);\n\n\t\t\tlimiter = new Async.Limiter(100);\n\n\t\t\tpromises = [];\n\t\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].forEach(n => promises.push(limiter.queue(factoryFactory(n))));\n\n\t\t\tPromise.join(promises).then((res) => {\n\t\t\t\tassert.equal(10, res.length);\n\t\t\t});\n\t\t}).done(() => done());\n\t});\n\n\ttest('Limiter - assert degree of paralellism', function(done) {\n\t\tvar activePromises = 0;\n\t\tvar factoryFactory = (n: number) => () => {\n\t\t\tactivePromises++;\n\t\t\tassert(activePromises < 6);\n\t\t\treturn TPromise.timeout(0).then(() => { activePromises--; return n; });\n\t\t};\n\n\t\tvar limiter = new Async.Limiter(5);\n\n\t\tvar promises:Promise[] = [];\n\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9].forEach(n => promises.push(limiter.queue(factoryFactory(n))));\n\n\t\tPromise.join(promises).then((res) => {\n\t\t\tassert.equal(10, res.length);\n\t\t\tassert.deepEqual([0, 1, 2, 3, 4, 5, 6, 7, 8, 9], res);\n\t\t\tdone();\n\t\t});\n\t});\n});\n"]}