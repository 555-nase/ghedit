{"version":3,"file":"vs/base/test/browser/mockDom.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/base/test/browser/mockDom.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\ninterface IEventMap {\n\t[name: string]: EventListener[];\n}\n\nexport class MockEventTarget implements EventTarget {\n\n\tprivate eventMap:IEventMap;\n\n\tconstructor() {\n\t\tthis.eventMap = {};\n\t}\n\n\tremoveEventListener(type: string, listener: EventListener, useCapture?: boolean): void {\n\t\tif(type in this.eventMap) {\n\t\t\tvar a = this.eventMap[type];\n\t\t\ta.splice(a.indexOf(listener), 1);\n\t\t}\n\t}\n\n\taddEventListener(type: string, listener: EventListener, useCapture?: boolean): void {\n\t\tif(type in this.eventMap) {\n\t\t\tthis.eventMap[type].push(listener);\n\t\t}\n\t\telse {\n\t\t\tthis.eventMap[type] = [listener];\n\t\t}\n\t}\n\n\tdispatchEvent(evt: Event): boolean {\n\t\tvar listeners = this.eventMap[evt.type];\n\t\tif (listeners) {\n\t\t\tlisteners.forEach((listener) => {\n\t\t\t\tlistener(evt);\n\t\t\t});\n\t\t}\n\t\treturn evt.defaultPrevented;\n\t}\n}\n\nexport class MockNode extends MockEventTarget implements Node {\n\t// Added to make compiler happy. No real mocking\n\tclassList: DOMTokenList;\n\tbaseURI: string;\n\n\tparentElement: HTMLElement;\n\tnodeType: number;\n\tpreviousSibling: Node;\n\tlocalName: string;\n\tnamespaceURI: string;\n\tparentNode: Node;\n\tnextSibling: Node;\n\tnodeValue: string;\n\n\tpublic _childNodes: Node[];\n\tnodeName: string;\n\townerDocument: Document;\n\t_attributes: Attr[];\n\n\tprefix: string;\n\n\n\tconstructor(name:string) {\n\t\tsuper();\n\t\tthis.nodeName = name;\n\t\tthis._childNodes = [];\n\t\tthis._attributes = [];\n\t}\n\n\tpublic get attributes(): NamedNodeMap {\n\t\treturn <any> this._attributes;\n\t}\n\n\tpublic get lastChild(): Node {\n\t\treturn this._childNodes[this._childNodes.length - 1];\n\t}\n\tpublic get firstChild(): Node {\n\t\treturn this._childNodes[0];\n\t}\n\n\tpublic get childNodes(): NodeList {\n\t\tvar a = <any>this._childNodes;\n\t\tif(!a.item) {\n\t\t\ta.item = (function(index:number) {\n\t\t\t\treturn this[index];\n\t\t\t}).bind(a);\n\t\t}\n\t\treturn a;\n\t}\n\n\tpublic get textContent(): string {\n\n\t\treturn this._childNodes.filter((node) => {\n\t\t\treturn node.nodeType === this.TEXT_NODE;\n\t\t}).map((node) => {\n\t\t\treturn (<Text>node).wholeText;\n\t\t}).join('');\n\t}\n\n\tpublic set textContent(value:string) {\n\t\tthis._childNodes = [];\n\t\tthis.appendChild(this.ownerDocument.createTextNode(value));\n\t}\n\n\tpublic removeChild(oldChild: Node): Node {\n\t\tvar i = this._childNodes.indexOf(oldChild);\n\t\tif(i >= 0) {\n\t\t\tvar removed = this._childNodes.splice(i, 1);\n\t\t\treturn removed[0];\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic contains(node: Node): boolean {\n\t\treturn this._childNodes.indexOf(node) !== -1;\n\t}\n\n\tappendChild(newChild: Node): Node {\n\t\tthis._childNodes.push(newChild);\n\t\treturn newChild;\n\t}\n\n\tisSupported(feature: string, version: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tisEqualNode(arg: Node): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\tlookupPrefix(namespaceURI: string): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tisDefaultNamespace(namespaceURI: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcompareDocumentPosition(other: Node): number {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tnormalize(): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tisSameNode(other: Node): boolean {\n\t\treturn this === other;\n\t}\n\thasAttributes(): boolean {\n\t\treturn this.attributes.length > 0;\n\t}\n\tlookupNamespaceURI(prefix: string): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tcloneNode(deep?: boolean): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n\thasChildNodes(): boolean {\n\t\treturn this.childNodes.length > 0;\n\t}\n\treplaceChild(newChild: Node, oldChild: Node): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tinsertBefore(newChild: Node, refChild?: Node): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tENTITY_REFERENCE_NODE: number = Node.ENTITY_REFERENCE_NODE;\n\tATTRIBUTE_NODE: number = Node.ATTRIBUTE_NODE;\n\tDOCUMENT_FRAGMENT_NODE: number = Node.DOCUMENT_FRAGMENT_NODE;\n\tTEXT_NODE: number = Node.TEXT_NODE;\n\tELEMENT_NODE: number = Node.ELEMENT_NODE;\n\tCOMMENT_NODE: number = Node.COMMENT_NODE;\n\tDOCUMENT_POSITION_DISCONNECTED: number = Node.DOCUMENT_POSITION_DISCONNECTED;\n\tDOCUMENT_POSITION_CONTAINED_BY: number = Node.DOCUMENT_POSITION_CONTAINED_BY;\n\tDOCUMENT_POSITION_CONTAINS: number = Node.DOCUMENT_POSITION_CONTAINS;\n\tDOCUMENT_TYPE_NODE: number = Node.DOCUMENT_TYPE_NODE;\n\tDOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC: number = Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC;\n\tDOCUMENT_NODE: number = Node.DOCUMENT_NODE;\n\tENTITY_NODE: number = Node.ENTITY_NODE;\n\tPROCESSING_INSTRUCTION_NODE: number = Node.PROCESSING_INSTRUCTION_NODE;\n\tCDATA_SECTION_NODE: number = Node.CDATA_SECTION_NODE;\n\tNOTATION_NODE: number = Node.NOTATION_NODE;\n\tDOCUMENT_POSITION_FOLLOWING: number = Node.DOCUMENT_POSITION_FOLLOWING;\n\tDOCUMENT_POSITION_PRECEDING: number = Node.DOCUMENT_POSITION_PRECEDING;\n}\n\nexport class MockAttribute extends MockNode implements Attr {\n\n\townerElement: Element;\n\tvalue: string;\n\tname: string;\n\t// MSAttrExtensions\n\texpando: boolean;\n\n\tconstructor(name:string) {\n\t\tsuper(name);\n\t\tthis.name = name;\n\t\tthis.expando = false;\n\t}\n\n\tpublic get specified(): boolean {\n\t\treturn !!this.value;\n\t}\n}\n\nexport interface ClientRect {\n\tleft: number;\n\twidth: number;\n\tright: number;\n\ttop: number;\n\tbottom: number;\n\theight: number;\n}\n\nexport class MockElement extends MockNode implements Element {\n\t// Added to make compiler happy. No real mocking\n\tclassList: DOMTokenList;\n\tid: string;\n\tclassName: string;\n\n\tscrollTop: number;\n\tclientLeft: number;\n\tscrollLeft: number;\n\ttagName: string;\n\tclientWidth: number;\n\tscrollWidth: number;\n\tclientHeight: number;\n\tclientTop: number;\n\tscrollHeight: number;\n\n\tconstructor(tagName: string) {\n\t\tsuper(tagName);\n\t\tthis.tagName = tagName;\n\t}\n\n\tgetAttribute(name?: string): string {\n\t\tvar filter = this._attributes.filter((attr) => {\n\t\t\treturn attr.name === name;\n\t\t});\n\n\t\treturn filter.length ? filter[0].value : '';\n\t}\n\n\tget innerHTML(): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\tset innerHTML(value: string) {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\tgetElementsByTagNameNS(namespaceURI: string, localName: string): NodeListOf<Element> {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetElementsByClassName(classNames: string): NodeListOf<Element> {\n\t\tthrow new Error('Not implemented!');\n\t}\n\thasAttributeNS(namespaceURI: string, localName: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetBoundingClientRect(): ClientRect {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetAttributeNS(namespaceURI: string, localName: string): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetAttributeNodeNS(namespaceURI: string, localName: string): Attr {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetAttributeNodeNS(newAttr: Attr): Attr {\n\t\tthrow new Error('Not implemented!');\n\t}\n\thasAttribute(name: string): boolean {\n\t\tvar filter = this._attributes.filter((attr) => {\n\t\t\treturn attr.name === name;\n\t\t});\n\n\t\treturn filter.length > 0;\n\t}\n\tremoveAttribute(name?: string): void {\n\t\tthis._attributes = this._attributes.filter((attr) => {\n\t\t\treturn attr.name !== name;\n\t\t});\n\t}\n\tsetAttributeNS(namespaceURI: string, qualifiedName: string, value: string): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetAttributeNode(name: string): Attr {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetElementsByTagName(name: string): NodeListOf<Element> {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetAttributeNode(newAttr: Attr): Attr {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tgetClientRects(): ClientRectList {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tremoveAttributeNode(oldAttr: Attr): Attr {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsetAttribute(name?: string, value?: string): void {\n\t\tif(this.hasAttribute(name)) {\n\t\t\tthis.removeAttribute(name);\n\t\t}\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.ownerElement = this;\n\t\tattr.value = value;\n\t\tthis._attributes.push(attr);\n\t}\n\tremoveAttributeNS(namespaceURI: string, localName: string): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\tmatches(selector: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\t// interface NodeSelector\n\tquerySelectorAll(selectors: string): NodeListOf<Element> {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tquerySelector(selectors: string): Element {\n\t\tthrow new Error('Not implemented!');\n\t}\n\n\t// interface ElementTraversal\n\tpublic get childElementCount(): number {\n\t\treturn this._childNodes.filter((node) => {\n\t\t\treturn node.nodeType === this.ELEMENT_NODE;\n\t\t}).length;\n\t}\n\tpreviousElementSibling: Element;\n\tpublic get lastElementChild(): Element {\n\t\tvar a = this._childNodes.filter((node) => {\n\t\t\treturn node.nodeType === this.ELEMENT_NODE;\n\t\t});\n\t\treturn <any>a[a.length - 1];\n\t}\n\tnextElementSibling: Element;\n\tpublic get firstElementChild(): Element {\n\t\tvar a = this._childNodes.filter((node) => {\n\t\t\treturn node.nodeType === this.ELEMENT_NODE;\n\t\t});\n\t\treturn <any>a[0];\n\t}\n\n\t// interface MSElementExtensions\n\tmsMatchesSelector(selectors: string): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tfireEvent(eventName: string, eventObj?: any): boolean {\n\t\tthrow new Error('Not implemented!');\n\t}\n\t// other interface msElementExtensions\n\tmsZoomTo(args: any) {}\n\tmsRequestFullscreen() {}\n\tmsGetUntransformedBounds():ClientRect {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tmsRegionOverflow: string;\n\n\trequestFullscreen(): void { throw new Error('Not implemented!'); }\n\trequestPointerLock(): void { throw new Error('Not implemented!'); }\n\n\twebkitMatchesSelector(selectors: string): boolean { throw new Error('Not implemented!'); }\n\twebkitRequestFullScreen(): void { throw new Error('Not implemented!'); }\n\twebkitRequestFullscreen(): void { throw new Error('Not implemented!'); }\n\n\tremove(): void { throw new Error('Not implemented!'); }\n\n\tonariarequest: (ev: any) => any;\n\toncommand: (ev: any) => any;\n\t// Pointer events new in IE 11\n\tonlostpointercapture: (ev: any) => any;\n\tongotpointercapture: (ev: any) => any;\n\tsetPointerCapture: (ev: any) => any;\n\treleasePointerCapture: (ev: any) => any;\n\tonpointerenter: (ev: any) => any;\n\tonpointerout: (ev: any) => any;\n\tonpointerdown: (ev: any) => any;\n\tonpointerup: (ev: any) => any;\n\tonpointercancel: (ev: any) => any;\n\tonpointerover: (ev: any) => any;\n\tonpointermove: (ev: any) => any;\n\tonpointerleave: (ev: any) => any;\n\n\tonwheel: (ev: any) => any;\n\n\tontouchcancel: (ev: any) => any;\n\tontouchend: (ev: any) => any;\n\tontouchmove: (ev: any) => any;\n\tontouchstart: (ev: any) => any;\n\n\tonmspointerenter: (ev:any) => any;\n\tonmspointerleave: (ev:any) => any;\n\tonmspointerdown: (ev: any) => any;\n\tonmsgotpointercapture: (ev: any) => any;\n\tonmsgesturedoubletap: (ev: any) => any;\n\tonmspointerhover: (ev: any) => any;\n\tonmsgesturehold: (ev: any) => any;\n\tonmspointermove: (ev: any) => any;\n\tonmsgesturechange: (ev: any) => any;\n\tonmsgesturestart: (ev: any) => any;\n\tonmspointercancel: (ev: any) => any;\n\tonmsgestureend: (ev: any) => any;\n\tonmsgesturetap: (ev: any) => any;\n\tonmspointerout: (ev: any) => any;\n\tonmsinertiastart: (ev: any) => any;\n\tonmslostpointercapture: (ev: any) => any;\n\tonmspointerover: (ev: any) => any;\n\tmsContentZoomFactor: number;\n\tonmspointerup: (ev: any) => any;\n\n\tonwebkitfullscreenchange: (ev: Event) => any;\n\tonwebkitfullscreenerror: (ev: Event) => any;\n\n\tmsGetRegionContent(): MSRangeCollection {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tmsReleasePointerCapture(pointerId: number): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tmsSetPointerCapture(pointerId: number): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n}\n\nexport class MockCharacterData extends MockNode implements CharacterData {\n\tlength: number;\n\tdata: string;\n\n\tconstructor(text:string) {\n\t\tsuper(text);\n\t\tthis.nodeType = this.TEXT_NODE;\n\t\tthis.length = text.length;\n\t\tthis.data = text;\n\t}\n\n\tdeleteData(offset: number, count: number): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n\treplaceData(offset: number, count: number, arg: string): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tappendData(arg: string): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tinsertData(offset: number, arg: string): void {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tsubstringData(offset: number, count: number): string {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tremove(): void { throw new Error('Not implemented!'); }\n}\n\nexport class MockText extends MockCharacterData implements Text {\n\twholeText: string;\n\n\tconstructor(text:string) {\n\t\tsuper(text);\n\t\tthis.wholeText = text;\n\t}\n\n\tsplitText(offset: number): Text {\n\t\tthrow new Error('Not implemented!');\n\t}\n\treplaceWholeText(content: string): Text {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tswapNode(otherNode: Node): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n\tremoveNode(deep?: boolean): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n\treplaceNode(replacement: Node): Node {\n\t\tthrow new Error('Not implemented!');\n\t}\n}\n\nexport class MockHTMLElement extends MockElement /* implements HTMLElement */ {\n\n\tpublic style: CSSStyleDeclaration;\n\n\tconstructor(tagName: string) {\n\t\tsuper(tagName);\n\t\tthis.style = <any> {};\n\t\tthis.nodeType = this.ELEMENT_NODE;\n\t}\n\n\tpublic get className(): string {\n\t\treturn this.getAttribute('class');\n\t}\n\n\tpublic set className(value:string) {\n\t\tthis.setAttribute('class', value);\n\t}\n\n\tpublic get id():string {\n\t\treturn this.getAttribute('id');\n\t}\n\n\tpublic set id(value:string) {\n\t\tthis.setAttribute('id', value);\n\t}\n\n\tpublic get children(): HTMLCollection {\n\t\tvar a = <any> this._childNodes.filter((node) => {\n\t\t\treturn node.nodeType === this.ELEMENT_NODE;\n\t\t});\n\t\tif(!a.item) {\n\t\t\ta.item = (function(index:number) {\n\t\t\t\treturn this[index];\n\t\t\t}).bind(a);\n\t\t}\n\t\treturn a;\n\t}\n\n\tget outerHTML(): string {\n\t\tvar stringer = new DOMStringer(this);\n\t\treturn stringer.toString(true);\n\t}\n\n\tget innerHTML(): string {\n\t\tvar stringer = new DOMStringer(this);\n\t\treturn stringer.toString();\n\t}\n\n\tset innerHTML(value:string) {\n\t\tvar parser = new DOMParser(this.ownerDocument);\n\t\tvar nodes = parser.parse(value);\n\t\tnodes.forEach((node) => {\n\t\t\tthis.appendChild(node);\n\t\t});\n\t}\n}\n\nexport class MockDocument extends MockEventTarget /*implements Document*/ {\n\tpublic createElement(tagName: string): HTMLElement {\n\t\tvar e = new MockHTMLElement(tagName);\n\t\te.ownerDocument = <any> this;\n\t\treturn <any> e;\n\t}\n\tpublic createTextNode(data: string): Text {\n\t\tvar n = new MockText(data);\n\t\tn.ownerDocument = <any> this;\n\t\treturn n;\n\t}\n\tpublic createAttribute(name: string): Attr {\n\t\tvar a = new MockAttribute(name);\n\t\ta.ownerDocument = <any> this;\n\t\treturn a;\n\t}\n}\n\nexport class MockWindow /*implements Window*/ {\n\n}\n\ninterface IParserState {\n\tname: string;\n\tconsumeCharacter(stream:StringStream):IParserState;\n\tonTransition(parser:DOMParser, nextState:string):void;\n\n}\n\nclass ErrorState implements IParserState {\n\tpublic name: string;\n\tpublic message:string;\n\n\tconstructor(message:string) {\n\t\tthis.name = 'error';\n\t\tthis.message = message;\n\t}\n\n\tconsumeCharacter(stream:StringStream):IParserState {\n\t\treturn this;\n\t}\n\n\tonTransition(parser:DOMParser, nextState:string):void {\n\n\t}\n}\n\nclass TextParser implements IParserState {\n\n\tpublic name: string;\n\tprivate textContent: string;\n\n\tconstructor() {\n\t\tthis.name = 'text';\n\t\tthis.textContent = '';\n\t}\n\n\tconsumeCharacter(stream:StringStream):IParserState {\n\t\tvar char = stream.next();\n\t\tswitch(char) {\n\t\t\tcase '<':\n\t\t\t\treturn new TagParser();\n\t\t\tcase '>':\n\t\t\t\treturn new ErrorState('Unexpected >');\n\t\t\tdefault:\n\t\t\t\tthis.textContent += char;\n\t\t\t\treturn this;\n\t\t}\n\t}\n\n\tonTransition(parser:DOMParser, nextState:string):void {\n\t\tif(this.textContent) {\n\t\t\tvar node = parser.document.createTextNode(this.textContent);\n\t\t\tif(parser.currentNode) {\n\t\t\t\tparser.currentNode.appendChild(node);\n\t\t\t} else {\n\t\t\t\tparser.root.push(node);\n\t\t\t}\n\t\t}\n\t}\n}\n\ninterface IMap {\n\t[name: string]:string;\n}\n\nclass TagParser implements IParserState {\n\n\tpublic name: string;\n\tprivate isClosing:boolean;\n\tprivate tagName:string;\n\tpublic attributes: IMap;\n\n\tconstructor() {\n\t\tthis.name = 'tag';\n\t\tthis.tagName = '';\n\t\tthis.isClosing = false;\n\t\tthis.attributes = {};\n\t}\n\n\tconsumeCharacter(stream:StringStream):IParserState {\n\t\tvar char = stream.next();\n\t\tswitch(char) {\n\t\t\tcase '/':\n\t\t\t\tthis.isClosing = true;\n\t\t\t\treturn this;\n\t\t\tcase '>':\n\t\t\t\tif(this.tagName) {\n\t\t\t\t\treturn new TextParser();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn new ErrorState('No tag name specified');\n\t\t\t\t}\n\t\t\tcase ' ':\n\t\t\t\tif(this.tagName) {\n\t\t\t\t\tif(this.isClosing) {\n\t\t\t\t\t\treturn new ErrorState('Closing tags cannot have attributes');\n\t\t\t\t\t}\n\t\t\t\t\treturn new AttributeParser(this);\n\t\t\t\t} else {\n\t\t\t\t\treturn new ErrorState('Tag name must be first.');\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\tthis.tagName += char;\n\t\t\t\treturn this;\n\t\t}\n\t}\n\n\tonTransition(parser:DOMParser, nextState:string):void {\n\t\tif(this.tagName && nextState !== 'attribute') {\n\t\t\tif(this.isClosing) {\n\t\t\t\tif(parser.openElements[parser.openElements.length - 1].tagName !== this.tagName) {\n\t\t\t\t\tthrow new Error('Mismatched closing tag:' + this.tagName);\n\t\t\t\t} else {\n\t\t\t\t\tparser.openElements.pop();\n\t\t\t\t\tif(parser.openElements.length) {\n\t\t\t\t\t\tparser.currentNode = parser.openElements[parser.openElements.length - 1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparser.currentNode = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar node = parser.document.createElement(this.tagName);\n\t\t\t\tObject.keys(this.attributes).forEach((key) => {\n\t\t\t\t\tnode.setAttribute(key, this.attributes[key]);\n\t\t\t\t});\n\t\t\t\tif(parser.currentNode) {\n\t\t\t\t\tparser.currentNode.appendChild(node);\n\t\t\t\t} else {\n\t\t\t\t\tparser.root.push(node);\n\t\t\t\t}\n\t\t\t\tparser.openElements.push(node);\n\t\t\t\tparser.currentNode = node;\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass AttributeParser implements IParserState {\n\tpublic name: string;\n\tprivate tag: TagParser;\n\tprivate attributeName:string;\n\tpublic attributeValue:string;\n\tprivate inValue:boolean;\n\n\tconstructor(tag: TagParser) {\n\t\tthis.name = 'attribute';\n\t\tthis.tag = tag;\n\t\tthis.inValue = false;\n\t\tthis.attributeName = '';\n\t}\n\n\tconsumeCharacter(stream:StringStream):IParserState {\n\t\tvar char = stream.next();\n\t\tswitch(char) {\n\t\t\tcase ' ':\n\t\t\t\tif(this.inValue) {\n\t\t\t\t\treturn this.tag;\n\t\t\t\t} else {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\tcase '=':\n\t\t\t\tthis.inValue = true;\n\t\t\t\treturn new AttributeValueParser(this);\n\t\t\tcase '>':\n\t\t\t\tstream.back();\n\t\t\t\treturn this.tag;\n\t\t\tdefault:\n\t\t\t\tif(this.inValue === false) {\n\t\t\t\t\tthis.attributeName += char;\n\t\t\t\t}\n\t\t\t\treturn this;\n\n\t\t}\n\t}\n\n\tonTransition(parser:DOMParser, nextState:string):void {\n\t\tif(nextState !== 'attributeValue') {\n\t\t\tthis.tag.attributes[this.attributeName] = this.attributeValue;\n\t\t}\n\t}\n}\n\nclass AttributeValueParser implements IParserState {\n\tpublic name: string;\n\tprivate attribute: AttributeParser;\n\tprivate value:string;\n\tprivate quote:boolean;\n\n\tconstructor(attribute:AttributeParser) {\n\t\tthis.name = 'attributeValue';\n\t\tthis.attribute = attribute;\n\t\tthis.value = '';\n\t\tthis.quote = false;\n\t}\n\n\tconsumeCharacter(stream:StringStream):IParserState {\n\t\tvar char = stream.next();\n\t\tswitch(char) {\n\t\t\tcase '\"':\n\t\t\t\tif(this.quote === false) {\n\t\t\t\t\tthis.quote = true;\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn this.attribute;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\tif(this.quote === false) {\n\t\t\t\t\treturn new ErrorState('Expected \" character');\n\t\t\t\t} else {\n\t\t\t\t\tthis.value += char;\n\t\t\t\t}\n\t\t\t\treturn this;\n\n\t\t}\n\t}\n\n\tonTransition(parser:DOMParser, nextState:string):void {\n\t\tthis.attribute.attributeValue = this.value;\n\t}\n}\n\nclass StringStream {\n\tprivate text: string;\n\tprivate index = 0;\n\n\tconstructor(text:string) {\n\t\tthis.text = text;\n\t}\n\n\tpublic more():boolean {\n\t\treturn this.index < this.text.length;\n\t}\n\n\tpublic next():string {\n\n\t\tif(this.index >= this.text.length) {\n\t\t\tthrow new Error('Past end of string!');\n\t\t}\n\n\t\treturn this.text[this.index++];\n\t}\n\n\tpublic back() {\n\t\tthis.index--;\n\t}\n}\n\nclass DOMParser {\n\tpublic activeState: IParserState;\n\tpublic currentNode: Node;\n\tpublic openElements: Element[];\n\tpublic root:Node[];\n\tpublic document:Document;\n\n\tconstructor(document:Document) {\n\t\tthis.document = document;\n\t\tthis.root = [];\n\t\tthis.openElements = [];\n\t\tthis.currentNode = null;\n\t\tthis.activeState = new TextParser();\n\t}\n\n\tpublic parse(text:string):Node[] {\n\n\t\tvar stream = new StringStream(text);\n\t\twhile(stream.more()) {\n\t\t\tvar nextState = this.activeState.consumeCharacter(stream);\n\t\t\tif(nextState !== this.activeState) {\n\t\t\t\tthis.activeState.onTransition(this, nextState.name);\n\t\t\t\tthis.activeState = nextState;\n\t\t\t}\n\t\t}\n\n\t\tif(this.activeState.name === 'error') {\n\t\t\tthrow new Error((<ErrorState> this.activeState).message);\n\t\t}\n\t\tif(this.openElements.length !== 0) {\n\t\t\tthrow new Error('Elements not closed: ' + this.openElements.map((element) => {\n\t\t\t\treturn element.tagName;\n\t\t\t}).join());\n\t\t}\n\t\treturn this.root;\n\t}\n}\n\nclass DOMStringer {\n\n\tprivate root:Node;\n\n\tconstructor(root:Node) {\n\t\tthis.root = root;\n\t}\n\n\n\n\tprivate print(node:Node):string {\n\t\tvar result = '';\n\t\tswitch(node.nodeType) {\n\t\t\tcase node.ELEMENT_NODE:\n\t\t\t\tresult += this.printElement(<any>node);\n\t\t\t\tbreak;\n\t\t\tcase node.TEXT_NODE:\n\t\t\t\tresult += this.printText(<any>node);\n\t\t\t\tbreak;\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate printChildren(node:Node):string {\n\t\tvar result = '';\n\t\tif(node.hasChildNodes()) {\n\t\t\tfor(var i = 0; i < node.childNodes.length; i++) {\n\t\t\t\tresult += this.print(node.childNodes.item(i));\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate printElement(element:Element):string {\n\t\tvar result = ['<'];\n\t\tresult.push(element.tagName);\n\t\tif(element.hasAttributes()) {\n\t\t\tvar attributes:Attr[] = <any>element.attributes;\n\t\t\tresult.push(attributes.reduce((prev:string, current:Attr) => {\n\t\t\t\tvar attr = [prev, current.name];\n\t\t\t\tif(current.value) {\n\t\t\t\t\tattr.push('=\"', current.value, '\"');\n\t\t\t\t}\n\t\t\t\treturn attr.join('');\n\t\t\t}, ' '));\n\t\t}\n\t\tresult.push('>');\n\t\tresult.push(this.printChildren(element));\n\t\tresult.push('</');\n\t\tresult.push(element.tagName);\n\t\tresult.push('>');\n\t\treturn result.join('');\n\t}\n\n\tprivate printText(text:Text):string {\n\t\treturn text.wholeText;\n\t}\n\n\tpublic toString(includeRoot?:boolean):string {\n\t\tif(includeRoot) {\n\t\t\treturn this.print(this.root);\n\t\t} else {\n\t\t\treturn this.printChildren(this.root);\n\t\t}\n\t}\n}"]}