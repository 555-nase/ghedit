{"version":3,"file":"vs/base/test/browser/dom.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/base/test/browser/dom.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as assert from 'assert';\nimport dom = require('vs/base/browser/dom');\n\nsuite('dom', () => {\n\ttest('hasClass', () => {\n\n\t\tvar element = document.createElement('div');\n\t\telement.className = 'foobar boo far';\n\n\t\tassert(dom.hasClass(element, 'foobar'));\n\t\tassert(dom.hasClass(element, 'boo'));\n\t\tassert(dom.hasClass(element, 'far'));\n\t\tassert(!dom.hasClass(element, 'bar'));\n\t\tassert(!dom.hasClass(element, 'foo'));\n\t\tassert(!dom.hasClass(element, ''));\n\t});\n\n\ttest('removeClass', () => {\n\n\t\tvar element = document.createElement('div');\n\t\telement.className = 'foobar boo far';\n\n\t\tdom.removeClass(element, 'boo');\n\t\tassert(dom.hasClass(element, 'far'));\n\t\tassert(!dom.hasClass(element, 'boo'));\n\t\tassert(dom.hasClass(element, 'foobar'));\n\t\tassert.equal(element.className, 'foobar far');\n\n\t\telement = document.createElement('div');\n\t\telement.className = 'foobar boo far';\n\n\t\tdom.removeClass(element, 'far');\n\t\tassert(!dom.hasClass(element, 'far'));\n\t\tassert(dom.hasClass(element, 'boo'));\n\t\tassert(dom.hasClass(element, 'foobar'));\n\t\tassert.equal(element.className, 'foobar boo');\n\n\t\tdom.removeClass(element, 'boo');\n\t\tassert(!dom.hasClass(element, 'far'));\n\t\tassert(!dom.hasClass(element, 'boo'));\n\t\tassert(dom.hasClass(element, 'foobar'));\n\t\tassert.equal(element.className, 'foobar');\n\n\t\tdom.removeClass(element, 'foobar');\n\t\tassert(!dom.hasClass(element, 'far'));\n\t\tassert(!dom.hasClass(element, 'boo'));\n\t\tassert(!dom.hasClass(element, 'foobar'));\n\t\tassert.equal(element.className, '');\n\t});\n\n\ttest('removeClass should consider hyphens', function () {\n\t\tvar element = document.createElement('div');\n\n\t\tdom.addClass(element, 'foo-bar bar');\n\t\tassert(dom.hasClass(element, 'foo-bar'));\n\t\tassert(dom.hasClass(element, 'bar'));\n\n\t\tdom.removeClass(element, 'bar');\n\t\tassert(dom.hasClass(element, 'foo-bar'));\n\t\tassert(!dom.hasClass(element, 'bar'));\n\n\t\tdom.removeClass(element, 'foo-bar');\n\t\tassert(!dom.hasClass(element, 'foo-bar'));\n\t\tassert(!dom.hasClass(element, 'bar'));\n\t});\n\n\t//test('[perf] hasClass * 100000', () => {\n\t//\n\t//\tfor (var i = 0; i < 100000; i++) {\n\t//\t\tvar element = document.createElement('div');\n\t//\t\telement.className = 'foobar boo far';\n\t//\n\t//\t\tassert(dom.hasClass(element, 'far'));\n\t//\t\tassert(dom.hasClass(element, 'boo'));\n\t//\t\tassert(dom.hasClass(element, 'foobar'));\n\t//\t}\n\t//});\n\n\ttest('safeStringify', function() {\n\t\tvar obj1 = {\n\t\t\tfriend: null\n\t\t};\n\n\t\tvar obj2 = {\n\t\t\tfriend: null\n\t\t};\n\n\t\tobj1.friend = obj2;\n\t\tobj2.friend = obj1;\n\n\t\tvar arr:any = [1];\n\t\tarr.push(arr);\n\n\t\tvar circular = {\n\t\t\ta: 42,\n\t\t\tb: null,\n\t\t\tc: [\n\t\t\t\tobj1, obj2\n\t\t\t],\n\t\t\td: null\n\t\t};\n\n\t\tarr.push(circular);\n\t\tcircular.b = circular;\n\t\tcircular.d = arr;\n\n\t\tvar result = dom.safeStringifyDOMAware(circular);\n\n\t\tassert.deepEqual(JSON.parse(result), {\n\t\t\ta: 42,\n\t\t\tb: '[Circular]',\n\t\t\tc: [\n\t\t\t\t{friend: {\n\t\t\t\t\tfriend: '[Circular]'\n\t\t\t\t}},\n\t\t\t\t'[Circular]'\n\t\t\t],\n\t\t\td: [1, '[Circular]', '[Circular]']\n\t\t});\n\t});\n\n\ttest('safeStringify2', function() {\n\t\tvar obj:any = {\n\t\t\ta: null,\n\t\t\tb: document.createElement('div'),\n\t\t\tc: null,\n\t\t\td: 'string',\n\t\t\te: 'string',\n\t\t\tf: 42,\n\t\t\tg: 42\n\t\t};\n\n\t\tvar result = dom.safeStringifyDOMAware(obj);\n\n\t\tassert.deepEqual(JSON.parse(result), {\n\t\t\ta: null,\n\t\t\tb: '[Element]',\n\t\t\tc: null,\n\t\t\td: 'string',\n\t\t\te: 'string',\n\t\t\tf: 42,\n\t\t\tg: 42\n\t\t});\n\t});\n\n});"]}