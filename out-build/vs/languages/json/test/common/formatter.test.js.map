{"version":3,"file":"vs/languages/json/test/common/formatter.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/languages/json/test/common/formatter.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport EditorCommon = require('vs/editor/common/editorCommon');\nimport {Range} from 'vs/editor/common/core/range';\nimport {Model} from 'vs/editor/common/model/model';\nimport ModesTestUtils = require('vs/editor/test/common/modesTestUtils');\nimport Formatter = require('vs/languages/json/common/features/jsonFormatter');\nimport MirrorModel = require('vs/editor/common/model/mirrorModel');\nimport assert = require('assert');\n\nsuite('JSON - formatter', () => {\n\n\tfunction format(unformatted: string, expected: string, insertSpaces = true) {\n\t\tvar range : EditorCommon.IRange = null;\n\n\t\tvar mirrorModel = MirrorModel.createTestMirrorModelFromString(unformatted);\n\n\t\tvar rangeStart = unformatted.indexOf('|');\n\t\tvar rangeEnd = unformatted.lastIndexOf('|');\n\t\tif (rangeStart !== -1 && rangeEnd !== -1) {\n\t\t\tunformatted = unformatted.substring(0, rangeStart) + unformatted.substring(rangeStart + 1, rangeEnd) + unformatted.substring(rangeEnd + 1);\n\n\t\t\tvar startPos = mirrorModel.getPositionFromOffset(rangeStart);\n\t\t\tvar endPos = mirrorModel.getPositionFromOffset(rangeEnd);\n\t\t\trange = { startLineNumber: startPos.lineNumber, startColumn: startPos.column, endLineNumber: endPos.lineNumber, endColumn: endPos.column };\n\t\t\tmirrorModel = MirrorModel.createTestMirrorModelFromString(unformatted);\n\t\t}\n\n\t\tvar operations = Formatter.format(mirrorModel, range, { tabSize: 2, insertSpaces: insertSpaces });\n\n\t\tvar model = new Model(unformatted, Model.DEFAULT_CREATION_OPTIONS, null);\n\t\tmodel.pushEditOperations([], operations.map(o => {\n\t\t\treturn {\n\t\t\t\trange: Range.lift(o.range),\n\t\t\t\ttext: o.text,\n\t\t\t\tidentifier: null,\n\t\t\t\tforceMoveMarkers: false\n\t\t\t};\n\t\t}), () => []);\n\t\tvar newContent = model.getValue(EditorCommon.EndOfLinePreference.LF);\n\t\tassert.equal(newContent, expected);\n\t\tmodel.dispose();\n\t}\n\n\ttest('object - single property', () => {\n\t\tvar content = [\n\t\t\t'{\"x\" : 1}'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": 1',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('object - multiple properties', () => {\n\t\tvar content = [\n\t\t\t'{\"x\" : 1,  \"y\" : \"foo\", \"z\"  : true}'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": 1,',\n\t\t\t'  \"y\": \"foo\",',\n\t\t\t'  \"z\": true',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('object - no properties ', () => {\n\t\tvar content = [\n\t\t\t'{\"x\" : {    },  \"y\" : {}}'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": {},',\n\t\t\t'  \"y\": {}',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('object - nesting', () => {\n\t\tvar content = [\n\t\t\t'{\"x\" : {  \"y\" : { \"z\"  : { }}, \"a\": true}}'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": {',\n\t\t\t'    \"y\": {',\n\t\t\t'      \"z\": {}',\n\t\t\t'    },',\n\t\t\t'    \"a\": true',\n\t\t\t'  }',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - single items', () => {\n\t\tvar content = [\n\t\t\t'[\"[]\"]'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'[',\n\t\t\t'  \"[]\"',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - multiple items', () => {\n\t\tvar content = [\n\t\t\t'[true,null,1.2]'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'[',\n\t\t\t'  true,',\n\t\t\t'  null,',\n\t\t\t'  1.2',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - no items', () => {\n\t\tvar content = [\n\t\t\t'[      ]'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'[]'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - nesting', () => {\n\t\tvar content = [\n\t\t\t'[ [], [ [ {} ], \"a\" ]  ]'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'[',\n\t\t\t'  [],',\n\t\t\t'  [',\n\t\t\t'    [',\n\t\t\t'      {}',\n\t\t\t'    ],',\n\t\t\t'    \"a\"',\n\t\t\t'  ]',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('syntax errors', () => {\n\t\tvar content = [\n\t\t\t'[ null 1.2 ]'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'[',\n\t\t\t'  null 1.2',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('empty lines', () => {\n\t\tvar content = [\n\t\t\t'{',\n\t\t\t'\"a\": true,',\n\t\t\t'',\n\t\t\t'\"b\": true',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'\\t\"a\": true,',\n\t\t\t'\\t\"b\": true',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected, false);\n\t});\n\ttest('single line comment', () => {\n\t\tvar content = [\n\t\t\t'[ ',\n\t\t\t'//comment',\n\t\t\t'\"foo\", \"bar\"',\n\t\t\t'] '\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'[',\n\t\t\t'  //comment',\n\t\t\t'  \"foo\",',\n\t\t\t'  \"bar\"',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('block line comment', () => {\n\t\tvar content = [\n\t\t\t'[{',\n\t\t\t'        /*comment*/     ',\n\t\t\t'\"foo\" : true',\n\t\t\t'}] '\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'[',\n\t\t\t'  {',\n\t\t\t'    /*comment*/',\n\t\t\t'    \"foo\": true',\n\t\t\t'  }',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('single line comment on same line', () => {\n\t\tvar content = [\n\t\t\t' {  ',\n\t\t\t'        \"a\": {}// comment    ',\n\t\t\t' } '\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": {} // comment    ',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('block comment on same line', () => {\n\t\tvar content = [\n\t\t\t'{      \"a\": {}, /*comment*/    ',\n\t\t\t'        /*comment*/ \"b\": {},    ',\n\t\t\t'        \"c\": {/*comment*/}    } ',\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": {}, /*comment*/',\n\t\t\t'  /*comment*/ \"b\": {},',\n\t\t\t'  \"c\": { /*comment*/}',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('block comment on same line advanced', () => {\n\t\tvar content = [\n\t\t\t' {       \"d\": [',\n\t\t\t'             null',\n\t\t\t'        ] /*comment*/',\n\t\t\t'        ,\"e\": /*comment*/ [null] }',\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"d\": [',\n\t\t\t'    null',\n\t\t\t'  ] /*comment*/,',\n\t\t\t'  \"e\": /*comment*/ [',\n\t\t\t'    null',\n\t\t\t'  ]',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('multiple block comments on same line', () => {\n\t\tvar content = [\n\t\t\t'{      \"a\": {} /*comment*/, /*comment*/   ',\n\t\t\t'        /*comment*/ \"b\": {}  /*comment*/  } '\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": {} /*comment*/, /*comment*/',\n\t\t\t'  /*comment*/ \"b\": {} /*comment*/',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('range', () => {\n\t\tvar content = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'|\"b\": [null, null]|',\n\t\t\t'} '\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'\"b\": [',\n\t\t\t'  null,',\n\t\t\t'  null',\n\t\t\t']',\n\t\t\t'} ',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('range with existing indent', () => {\n\t\tvar content = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'   |\"b\": [null],',\n\t\t\t'\"c\": {}',\n\t\t\t'} |'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'  \"b\": [',\n\t\t\t'    null',\n\t\t\t'  ],',\n\t\t\t'  \"c\": {}',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('range with existing indent - tabs', () => {\n\t\tvar content = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'|  \"b\": [null],   ',\n\t\t\t'\"c\": {}',\n\t\t\t'} |    '\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'\\t\"b\": [',\n\t\t\t'\\t\\tnull',\n\t\t\t'\\t],',\n\t\t\t'\\t\"c\": {}',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected, false);\n\t});\n\n\n\ttest('block comment none-line breaking symbols', () => {\n\t\tvar content = [\n\t\t\t'{ \"a\": [ 1',\n\t\t\t'/* comment */',\n\t\t\t', 2',\n\t\t\t'/* comment */',\n\t\t\t']',\n\t\t\t'/* comment */',\n\t\t\t',',\n\t\t\t' \"b\": true',\n\t\t\t'/* comment */',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": [',\n\t\t\t'    1',\n\t\t\t'    /* comment */',\n\t\t\t'    ,',\n\t\t\t'    2',\n\t\t\t'    /* comment */',\n\t\t\t'  ]',\n\t\t\t'  /* comment */',\n\t\t\t'  ,',\n\t\t\t'  \"b\": true',\n\t\t\t'  /* comment */',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('line comment after none-line breaking symbols', () => {\n\t\tvar content = [\n\t\t\t'{ \"a\":',\n\t\t\t'// comment',\n\t\t\t'null,',\n\t\t\t' \"b\"',\n\t\t\t'// comment',\n\t\t\t': null',\n\t\t\t'// comment',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tvar expected = [\n\t\t\t'{',\n\t\t\t'  \"a\":',\n\t\t\t'  // comment',\n\t\t\t'  null,',\n\t\t\t'  \"b\"',\n\t\t\t'  // comment',\n\t\t\t'  : null',\n\t\t\t'  // comment',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n});"]}