{"version":3,"file":"vs/languages/json/test/common/json.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/languages/json/test/common/json.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport jsonMode = require('vs/languages/json/common/json');\nimport EditorCommon = require('vs/editor/common/editorCommon');\nimport Modes = require('vs/editor/common/modes');\nimport modesUtil = require('vs/editor/test/common/modesUtil');\nimport tokenization = require('vs/languages/json/common/features/tokenization');\nimport jsonTokenTypes = require('vs/languages/json/common/features/jsonTokenTypes');\nimport {NULL_THREAD_SERVICE} from 'vs/platform/test/common/nullThreadService';\nimport {createInstantiationService} from 'vs/platform/instantiation/common/instantiationService';\n\nsuite('JSON - tokenization', () => {\n\n\tvar tokenizationSupport: Modes.ITokenizationSupport;\n\tvar assertOnEnter: modesUtil.IOnEnterAsserter;\n\n\t(function() {\n\n\t\tlet threadService = NULL_THREAD_SERVICE;\n\t\tlet inst = createInstantiationService({\n\t\t\tthreadService: threadService\n\t\t});\n\t\tthreadService.setInstantiationService(inst);\n\n\t\tlet mode = new jsonMode.JSONMode(\n\t\t\t{ id: 'json' },\n\t\t\tinst,\n\t\t\tthreadService\n\t\t)\n\n\t\ttokenizationSupport = mode.tokenizationSupport;\n\t\tassertOnEnter = modesUtil.createOnEnterAsserter(mode.getId(), mode.richEditSupport);\n\n\t})();\n\n\ttest('', () => {\n\t\tmodesUtil.executeTests(tokenizationSupport,[\n\t\t\t// tokens and brackets\n\t\t\t[{\n\t\t\tline: '{',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_DELIM_OBJECT }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: '[',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_DELIM_ARRAY }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: '}',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_DELIM_OBJECT }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: ']',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_DELIM_ARRAY }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: ':',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_DELIM_COLON }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: ',',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_DELIM_COMMA }\n\t\t\t]}],\n\n\t\t\t// literals and keyword\n\t\t\t[{\n\t\t\tline: '-0.123e+9203',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_VALUE_NUMBER }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: 'true',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_VALUE_BOOLEAN }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: 'false',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_VALUE_BOOLEAN }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: 'null',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_VALUE_NULL }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: '\"foo\"',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_PROPERTY_NAME }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: '\"foo',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_PROPERTY_NAME }\n\t\t\t]}],\n\n\t\t\t// comments and whitespace\n\t\t\t[{\n\t\t\tline: '//null',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_COMMENT_LINE }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: '/*null*/',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_COMMENT_BLOCK }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: '/*null',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_COMMENT_BLOCK }\n\t\t\t]}],\n\n\t\t\t[{\n\t\t\tline: '\\t \\r\\n',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex: 0, type: '' },\n\t\t\t\t{ startIndex: 2, type: '' }\n\t\t\t]}],\n\n\t\t\t// sequences\n\t\t\t[{\n\t\t\tline: '{ \"foo\": null }',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_DELIM_OBJECT },\n\t\t\t\t{ startIndex:1, type: '' },\n\t\t\t\t{ startIndex:2, type: jsonTokenTypes.TOKEN_PROPERTY_NAME },\n\t\t\t\t{ startIndex:7, type: jsonTokenTypes.TOKEN_DELIM_COLON },\n\t\t\t\t{ startIndex:8, type: '' },\n\t\t\t\t{ startIndex:9, type: jsonTokenTypes.TOKEN_VALUE_NULL },\n\t\t\t\t{ startIndex:13, type: '' },\n\t\t\t\t{ startIndex:14, type: jsonTokenTypes.TOKEN_DELIM_OBJECT }\n\t\t\t]}],\n\n\t\t\t// JSON sample\n\t\t\t[{\n\t\t\tline: '{ \"foo\": \"bar\" }',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_DELIM_OBJECT },\n\t\t\t\t{ startIndex:1, type: '' },\n\t\t\t\t{ startIndex:2, type: jsonTokenTypes.TOKEN_PROPERTY_NAME },\n\t\t\t\t{ startIndex:7, type: jsonTokenTypes.TOKEN_DELIM_COLON },\n\t\t\t\t{ startIndex:8, type: '' },\n\t\t\t\t{ startIndex:9, type: jsonTokenTypes.TOKEN_VALUE_STRING },\n\t\t\t\t{ startIndex:14, type: '' },\n\t\t\t\t{ startIndex:15, type: jsonTokenTypes.TOKEN_DELIM_OBJECT }\n\t\t\t]}],\n\n\t\t\t// Arrays, keywords, and numbers\n\t\t\t[{\n\t\t\tline: '[-1.5e+4, true, false, null]',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: jsonTokenTypes.TOKEN_DELIM_ARRAY },\n\t\t\t\t{ startIndex:1, type: jsonTokenTypes.TOKEN_VALUE_NUMBER },\n\t\t\t\t{ startIndex:8, type: jsonTokenTypes.TOKEN_DELIM_COMMA },\n\t\t\t\t{ startIndex:9, type: '' },\n\t\t\t\t{ startIndex:10, type: jsonTokenTypes.TOKEN_VALUE_BOOLEAN },\n\t\t\t\t{ startIndex:14, type: jsonTokenTypes.TOKEN_DELIM_COMMA },\n\t\t\t\t{ startIndex:15, type: '' },\n\t\t\t\t{ startIndex:16, type: jsonTokenTypes.TOKEN_VALUE_BOOLEAN },\n\t\t\t\t{ startIndex:21, type: jsonTokenTypes.TOKEN_DELIM_COMMA },\n\t\t\t\t{ startIndex:22, type: '' },\n\t\t\t\t{ startIndex:23, type: jsonTokenTypes.TOKEN_VALUE_NULL },\n\t\t\t\t{ startIndex:27, type: jsonTokenTypes.TOKEN_DELIM_ARRAY }\n\t\t\t]}]\n\t\t]);\n\t});\n\n\ttest('onEnter', function() {\n\t\tassertOnEnter.indents('', '\"value\": {', '');\n\t\tassertOnEnter.nothing('', '\"value\":(', '');\n\t\tassertOnEnter.indents('', '\"value\":[', '');\n\t\tassertOnEnter.indentsOutdents('', '\"value\":{', '}');\n\t});\n});\n"]}