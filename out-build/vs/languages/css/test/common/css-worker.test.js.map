{"version":3,"file":"vs/languages/css/test/common/css-worker.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/languages/css/test/common/css-worker.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport assert = require('assert');\nimport mm = require('vs/editor/common/model/mirrorModel');\nimport cssWorker = require('vs/languages/css/common/cssWorker');\nimport URI from 'vs/base/common/uri';\nimport ResourceService = require('vs/editor/common/services/resourceServiceImpl');\nimport MarkerService = require('vs/platform/markers/common/markerService');\nimport Modes = require('vs/editor/common/modes');\nimport WinJS = require('vs/base/common/winjs.base');\nimport cssErrors = require('vs/languages/css/common/parser/cssErrors');\nimport servicesUtil2 = require('vs/editor/test/common/servicesTestUtils');\nimport modesUtil = require('vs/editor/test/common/modesTestUtils');\nimport {NULL_THREAD_SERVICE} from 'vs/platform/test/common/nullThreadService';\nimport {IMarker} from 'vs/platform/markers/common/markers';\n\nexport function mockMirrorModel(content:string, url:URI = null) : mm.MirrorModel {\n\treturn mm.createTestMirrorModelFromString(content, modesUtil.createMockMode('mock.mode.id', /(#?-?\\d*\\.\\d\\w*%?)|([@#.:!]?[\\w-?]+%?)|[@#.!]/g), url);\n}\n\nsuite('Validation - CSS', () => {\n\n\ttest('Test Error Mapping', function():void {\n\n\t\tvar source = '    #navigation a;';\n\t\tvar message = cssErrors.ParseError.LeftCurlyExpected.message;\n\t\tvar url = URI.parse('inmemory://localhost/vs/editor/common/model/mirrorModel/1');\n\t\tvar mirrorModel:any= mockMirrorModel(source, url);\n\n\t\tvar markerService = new MarkerService.MainProcessMarkerService(NULL_THREAD_SERVICE);\n\t\tvar resourceService = new ResourceService.ResourceService();\n\t\tresourceService.insert(url, mirrorModel);\n\n\t\tlet services = servicesUtil2.createMockEditorWorkerServices({\n\t\t\tresourceService: resourceService,\n\t\t\tmarkerService: markerService\n\t\t});\n\t\tvar worker = new cssWorker.CSSWorker('mock.mode.id', services.resourceService, services.markerService);\n\t\tworker.doValidate([url]);\n\n\t\tvar markers = markerService.read({ resource: url });\n\t\tvar marker = markers[0];\n\t\tassert.equal(marker.startColumn, 18);\n\t\tassert.equal(marker.endColumn, 19);\n\t\tassert.equal(marker.message, message);\n\t});\n\n\tvar mockCSSWorkerEnv = function (url: URI, content: string): { worker: cssWorker.CSSWorker; model: mm.MirrorModel; markers: IMarker[]; } {\n\t\tvar resourceService = new ResourceService.ResourceService();\n\t\tvar model = mockMirrorModel(content, url);\n\t\tresourceService.insert(url, model);\n\n\t\tvar markerService = new MarkerService.MainProcessMarkerService(NULL_THREAD_SERVICE);\n\n\t\tlet services = servicesUtil2.createMockEditorWorkerServices({\n\t\t\tresourceService: resourceService,\n\t\t\tmarkerService: markerService\n\t\t});\n\n\t\tvar worker = new cssWorker.CSSWorker('mock.mode.id', services.resourceService, services.markerService);\n\t\tworker.doValidate([url]);\n\n\t\tvar markers = markerService.read({ resource: url });\n\t\treturn { worker: worker, model: model, markers: markers };\n\t};\n\n\tvar testSuggestionsFor = function(value:string, stringBefore:string):WinJS.TPromise<Modes.ISuggestResult> {\n\t\tvar url = URI.parse('test://1');\n\t\tvar env = mockCSSWorkerEnv(url, value);\n\n\t\tvar idx = stringBefore ? value.indexOf(stringBefore) + stringBefore.length : 0;\n\t\tvar position = env.model.getPositionFromOffset(idx);\n\t\treturn env.worker.suggest(url, position).then(result => result[0]);\n\t};\n\n\tvar testValueSetFor = function(value:string, selection:string, selectionLength: number, up: boolean):WinJS.TPromise<Modes.IInplaceReplaceSupportResult> {\n\t\tvar url = URI.parse('test://1');\n\t\tvar env = mockCSSWorkerEnv(url, value);\n\n\t\tvar pos = env.model.getPositionFromOffset(value.indexOf(selection));\n\t\tvar range = { startLineNumber: pos.lineNumber, startColumn: pos.column, endLineNumber: pos.lineNumber, endColumn: pos.column + selectionLength };\n\n\t\treturn env.worker.navigateValueSet(url, range, up);\n\t};\n\n\tvar testOccurrences = function (value: string, tokenBefore: string): WinJS.TPromise<{ occurrences: Modes.IOccurence[]; model: mm.MirrorModel; }> {\n\t\tvar url = URI.parse('test://1');\n\t\tvar env = mockCSSWorkerEnv(url, value);\n\n\t\tvar pos = env.model.getPositionFromOffset(value.indexOf(tokenBefore) + tokenBefore.length);\n\n\t\treturn env.worker.findOccurrences(url, pos).then((occurrences) => { return { occurrences: occurrences, model: env.model}; });\n\t};\n\n\tvar testQuickFixes = function (value: string, tokenBefore: string): WinJS.TPromise<{ fixes: Modes.IQuickFix[]; model: mm.MirrorModel; }> {\n\t\tvar url = URI.parse('test://1');\n\t\tvar env = mockCSSWorkerEnv(url, value);\n\n\t\tvar pos = env.model.getPositionFromOffset(value.indexOf(tokenBefore) + tokenBefore.length);\n\n\t\tvar markers = env.markers.filter((m) => m.startColumn === pos.column && m.startLineNumber === pos.lineNumber);\n\t\tassert.equal(1, markers.length, 'No marker at pos: ' + JSON.stringify({ pos: pos, markers: env.markers }));\n\n\t\treturn env.worker.getQuickFixes(url, markers[0]).then((fixes) => { return { fixes: fixes, model: env.model}; });\n\t};\n\n\tvar assertSuggestion= function(completion:Modes.ISuggestResult, label:string, type?:string) {\n\t\tvar proposalsFound = completion.suggestions.filter(function(suggestion: Modes.ISuggestion) {\n\t\t\treturn suggestion.label === label && (!type || suggestion.type === type);\n\t\t});\n\t\tif (proposalsFound.length != 1) {\n\t\t\tassert.fail(\"Suggestion not found: \" + label + \", has \" + completion.suggestions.map(s => s.label).join(', '));\n\t\t}\n\t};\n\n\tvar assertReplaceResult= function(result:Modes.IInplaceReplaceSupportResult, expected:string) {\n\t\tassert.equal(result.value, expected);\n\t};\n\n\tvar assertOccurrences= function(occurrences: Modes.IOccurence[], model: mm.MirrorModel , expectedNumber:number, expectedContent:string) {\n\t\tassert.equal(occurrences.length, expectedNumber);\n\t\toccurrences.forEach((occurrence) => {\n\t\t\tassert.equal(model.getValueInRange(occurrence.range), expectedContent);\n\t\t});\n\t};\n\n\tvar assertQuickFix= function(fixes: Modes.IQuickFix[], model: mm.MirrorModel, expectedContent:string[]) {\n\t\tvar labels = fixes.map(f => f.command.title);\n\n\t\tfor (var index = 0; index < expectedContent.length; index++) {\n\t\t\tassert.ok(labels.indexOf(expectedContent[index]) !== -1, 'Quick fix not found: ' + expectedContent[index]);\n\t\t}\n\t};\n\n\ttest('Intellisense', function(testDone): any {\n\t\tWinJS.Promise.join([\n\t\t\ttestSuggestionsFor(' ', null).then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, '@import');\n\t\t\t\tassertSuggestion(completion, '@keyframes');\n\t\t\t\tassertSuggestion(completion, 'div');\n\t\t\t}),\n\n\t\t\ttestSuggestionsFor(' body {', null).then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, '@import');\n\t\t\t\tassertSuggestion(completion, '@keyframes');\n\t\t\t\tassertSuggestion(completion, 'html');\n\t\t\t}),\n\n\t\t\ttestSuggestionsFor('body {', '{').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, 'display');\n\t\t\t\tassertSuggestion(completion, 'background');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { ver', 'ver').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'ver');\n\t\t\t\tassertSuggestion(completion, 'vertical-align');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align', 'vertical-ali').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'vertical-ali');\n\t\t\t\tassertSuggestion(completion, 'vertical-align');\n\t\t\t}),\n\n\t\t\ttestSuggestionsFor('body { vertical-align', 'vertical-align').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'vertical-align');\n\t\t\t\tassertSuggestion(completion, 'vertical-align');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: bottom;}', 'vertical-align').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'vertical-align');\n\t\t\t\tassertSuggestion(completion, 'vertical-align');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: bottom;}', 'vertical-align:').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, 'bottom');\n\t\t\t\tassertSuggestion(completion, '0cm');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: bottom;}', 'vertical-align: ').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, 'bottom');\n\t\t\t\tassertSuggestion(completion, '0cm');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: bott', 'bott').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'bott');\n\t\t\t\tassertSuggestion(completion, 'bottom');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: bottom }', 'bott').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'bott');\n\t\t\t\tassertSuggestion(completion, 'bottom');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: bottom }', 'bottom').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'bottom');\n\t\t\t\tassertSuggestion(completion, 'bottom');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: bottom; }', 'bottom').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'bottom');\n\t\t\t\tassertSuggestion(completion, 'bottom');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: bottom; }', 'bottom;').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassert.equal(completion.suggestions.length, 0);\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: bottom; }', 'bottom; ').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, 'display');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: 9 }', '9').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '9');\n\t\t\t\tassertSuggestion(completion, '9cm');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: 1.2 }', '1.2').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '1.2');\n\t\t\t\tassertSuggestion(completion, '1.2em');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: 10 }', '1').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '1');\n\t\t\t\tassertSuggestion(completion, '1cm');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { vertical-align: 10c }', '10c').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '10c');\n\t\t\t\tassertSuggestion(completion, '10cm');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { notexisting: ;}', 'notexisting: ').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassert.equal(completion.suggestions.length, 0); // no matches\n\t\t\t}),\n\t\t\ttestSuggestionsFor('@import url(\"something.css\");', '@').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '@');\n\t\t\t\tassert.equal(completion.suggestions.length, 0); // to be improved\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { border-right: ', 'right: ').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, 'cyan');\n\t\t\t\tassertSuggestion(completion, 'dotted');\n\t\t\t\tassertSuggestion(completion, '0em');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { border-right: cyan dotted 2em ', 'cyan').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'cyan');\n\t\t\t\tassertSuggestion(completion, 'cyan');\n\t\t\t\tassertSuggestion(completion, 'darkcyan');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { border-right: dotted 2em ', '2em ').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, 'cyan');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('body { trans ', 'trans').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'trans');\n\t\t\t\tassertSuggestion(completion, 'transition');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('.foo { background-color: #123456; } .bar { background-color: }', '.bar { background-color:').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, '#123456', 'customcolor');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('.foo { unknown: foo; } .bar { unknown: }', '.bar { unknown:').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, '');\n\t\t\t\tassertSuggestion(completion, 'foo', 'value');\n\t\t\t}),\n\t\t\ttestSuggestionsFor('.foo { background-color: r', 'background-color: r').then(function(completion: Modes.ISuggestResult): void {\n\t\t\t\tassert.equal(completion.currentWord, 'r');\n\t\t\t\tassertSuggestion(completion, 'rgb', 'function');\n\t\t\t\tassertSuggestion(completion, 'rgba', 'function');\n\t\t\t\tassertSuggestion(completion, 'red', 'customcolor');\n\t\t\t})\n\t\t]).done(() => testDone(), (errors: any[]) => {\n\t\t\ttestDone(errors.reduce((e1, e2) => e1 || e2));\n\t\t});\n\t});\n\n\ttest('Value sets', function(testDone): any {\n\t\tWinJS.Promise.join([\n\t\t\ttestValueSetFor('body { display: inline }', 'inline', 6, false).then(function(result:Modes.IInplaceReplaceSupportResult):void  {\n\t\t\t\tassertReplaceResult(result, 'flex');\n\t\t\t}),\n\t\t\ttestValueSetFor('body { display: flex }', 'flex', 7, true).then(function(result:Modes.IInplaceReplaceSupportResult):void  {\n\t\t\t\tassertReplaceResult(result, 'inline');\n\t\t\t}),\n\t\t\ttestValueSetFor('body { display: inline }', 'inline', 0, false).then(function(result:Modes.IInplaceReplaceSupportResult):void  {\n\t\t\t\tassertReplaceResult(result, 'flex');\n\t\t\t}),\n\t\t\ttestValueSetFor('body { display: inline }', 'line', 0, false).then(function(result:Modes.IInplaceReplaceSupportResult):void  {\n\t\t\t\tassertReplaceResult(result, 'flex');\n\t\t\t}),\n\t\t\ttestValueSetFor('body { display: inline }', 'display', 0, false).then(function(result:Modes.IInplaceReplaceSupportResult):void  {\n\t\t\t\tassert.ok(!result);\n\t\t\t})\n\t\t]).done(() => testDone(), (errors:any[]) => {\n\t\t\ttestDone(errors.reduce((e1, e2) => e1 || e2));\n\t\t});\n\t});\n\n\ttest('Occurrences', function(testDone): any {\n\t\tWinJS.Promise.join([\n\t\t\ttestOccurrences('body { /*here*/display: inline } #foo { display: inline }', '/*here*/').then((result) =>  {\n\t\t\t\tassertOccurrences(result.occurrences, result.model, 2, 'display');\n\t\t\t}),\n\n\t\t\ttestOccurrences('body { display: /*here*/inline } #foo { display: inline }', '/*here*/').then((result) =>  {\n\t\t\t\tassertOccurrences(result.occurrences, result.model, 2, 'inline');\n\t\t\t}),\n\n\t\t\ttestOccurrences('/*here*/body { display: inline } #foo { display: inline }', '/*here*/').then((result) =>  {\n\t\t\t\tassertOccurrences(result.occurrences, result.model, 1, 'body');\n\t\t\t}),\n\n\t\t\ttestOccurrences('/* comment */body { display: inline } ', 'comment').then((result) =>  {\n\t\t\t\tassertOccurrences(result.occurrences, result.model, 0, '');\n\t\t\t})\n\t\t]).done(() => testDone(), (errors:any[]) => {\n\t\t\ttestDone(errors.reduce((e1, e2) => e1 || e2));\n\t\t});\n\t});\n\n\ttest('Quick Fixes', function(testDone): any {\n\t\tWinJS.Promise.join([\n\t\t\ttestQuickFixes('body { /*here*/displai: inline }', '/*here*/').then((result) =>  {\n\t\t\t\tassertQuickFix(result.fixes, result.model, [ 'Rename to \\'display\\'']);\n\t\t\t}),\n\n\t\t\ttestQuickFixes('body { /*here*/background-colar: red }', '/*here*/').then((result) =>  {\n\t\t\t\tassertQuickFix(result.fixes, result.model, ['Rename to \\'background-color\\'', 'Rename to \\'background-clip\\'', 'Rename to \\'background-image\\'' ]);\n\t\t\t})\n\t\t]).done(() => testDone(), (errors:any[]) => {\n\t\t\ttestDone(errors.reduce((e1, e2) => e1 || e2));\n\t\t});\n\t});\n});\n"]}