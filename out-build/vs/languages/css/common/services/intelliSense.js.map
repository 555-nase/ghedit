{"version":3,"sources":["vs/languages/css/common/services/intelliSense.ts"],"names":[],"mappings":";IAAA;;;oGAGgG;IAChG,YAAY,CAAC;IAWb;QAkBC,yBAAY,cAA6B;YAA7B,8BAA6B,GAA7B,qBAA6B;YACxC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACtC,CAAC;QAGO,0CAAgB,GAAxB;YACC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;gBACzB,IAAI,CAAC,aAAa,GAAG,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC9D,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;QAC3B,CAAC;QAGM,kDAAwB,GAA/B,UAAgC,eAAwC,EAAE,KAAgC,EAAE,QAAY,EAAE,QAA+B;YACxJ,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;YACpD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;YAC7D,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,UAAU,GAAG,eAAe,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAE1D,IAAI,MAAM,GAAyB,EAAE,CAAC;YACtC,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAE/D,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC/C,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACvB,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACpC,IAAI,CAAC,oCAAoC,CAAC,MAAM,CAAC,CAAC;gBACnD,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;oBAC7C,IAAI,CAAC,2BAA2B,CAAoB,IAAI,EAAE,MAAM,CAAC,CAAC;gBACnE,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;oBACjD,IAAI,aAAa,GAAmB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oBAC5E,IAAI,CAAC,yBAAyB,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;gBACvD,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC/C,IAAI,CAAC,6BAA6B,CAAsB,IAAI,EAAE,MAAM,CAAC,CAAC;gBACvE,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBACtD,IAAI,CAAC,oCAAoC,CAA6B,IAAI,EAAE,MAAM,CAAC,CAAC;gBACrF,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;oBAC1C,IAAI,CAAC,wBAAwB,CAAiB,IAAI,EAAE,MAAM,CAAC,CAAC;gBAC7D,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC;oBAChD,IAAI,CAAC,8BAA8B,CAAuB,IAAI,EAAE,MAAM,CAAC,CAAC;gBACzE,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBACnD,IAAI,CAAC,kCAAkC,CAA0B,IAAI,EAAE,MAAM,CAAC,CAAC;gBAChF,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBACtD,IAAI,CAAC,oCAAoC,CAA6B,IAAI,EAAE,MAAM,CAAC,CAAC;gBACrF,CAAC;gBACD,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACvB,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC;gBAC9F,CAAC;YACF,CAAC;YACD,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC,CAAC;YACzC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACvB,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;YAC/D,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAChF,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAClC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACvB,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;gBAC/D,CAAC;gBACD,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,UAAC,IAAI;oBACtD,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;gBAC/D,CAAC,CAAC,CAAC;YACJ,CAAC;YAED,oCAAoC;YACpC,MAAM,CAAC;gBACN,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,WAAW,EAAE,MAAM;aACnB,CAAC;QACH,CAAC;QAEM,8DAAoC,GAA3C,UAA4C,MAA0B;YACrE,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QAC1C,CAAC;QAEO,8CAAoB,GAA5B,UAA6B,MAA0B;YACtD,IAAI,UAAU,GAAG,aAAa,CAAC,aAAa,EAAE,CAAC;YAE/C,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC;gBAC5B,EAAE,CAAC,CAAC,UAAU,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACpC,IAAI,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;oBAC5B,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC;wBACnC,MAAM,CAAC,IAAI,CAAC;4BACX,KAAK,EAAE,KAAK,CAAC,IAAI;4BACjB,kBAAkB,EAAE,aAAa,CAAC,mBAAmB,CAAC,KAAK,CAAC;4BAC5D,WAAW,EAAE,KAAK,CAAC,IAAI,GAAG,IAAI;4BAC9B,IAAI,EAAE,UAAU;yBAChB,CAAC,CAAC;oBACJ,CAAC;gBACF,CAAC;YACF,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,2DAAiC,GAAxC,UAAyC,IAAuB,EAAE,MAA0B;YAC3F,IAAI,YAAY,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC9C,IAAI,KAAK,GAAG,aAAa,CAAC,aAAa,EAAE,CAAC,YAAY,CAAC,CAAC;YAExD,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACX,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBACtC,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBACzC,IAAI,CAAC,uBAAuB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC5C,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBACrC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBACpC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBACtC,IAAI,CAAC,0BAA0B,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC/C,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC3C,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC1C,IAAI,CAAC,0BAA0B,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC/C,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;YACtC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,IAAI,cAAc,GAAG,IAAI,GAAG,EAAE,CAAC;gBAC/B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,eAAe,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC,CAAC;gBAC1E,cAAc,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,UAAC,aAAa;oBACjD,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,aAAa;wBACpB,WAAW,EAAE,aAAa;wBAC1B,IAAI,EAAE,OAAO;qBACb,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC;YACJ,CAAC;YACD,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;YAClC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAC9B,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,+CAAqB,GAA5B,UAA6B,KAA0B,EAAE,MAA0B;YAClF,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;gBAClB,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,UAAC,KAAK;oBAC1B,EAAE,CAAC,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBACxC,MAAM,CAAC,IAAI,CAAC;4BACX,KAAK,EAAE,KAAK,CAAC,IAAI;4BACjB,kBAAkB,EAAE,aAAa,CAAC,mBAAmB,CAAC,KAAK,CAAC;4BAC5D,WAAW,EAAE,KAAK,CAAC,IAAI;4BACvB,IAAI,EAAE,OAAO;yBACb,CAAC,CAAC;oBACJ,CAAC;gBACF,CAAC,CAAC,CAAC;YACJ,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,oDAA0B,GAAjC,UAAkC,KAA0B,EAAE,MAA0B;YACvF,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,aAAa,CAAC,eAAe,CAAC,CAAC,CAAC;gBACpD,MAAM,CAAC,IAAI,CAAC;oBACX,KAAK,EAAE,QAAQ;oBACf,kBAAkB,EAAE,aAAa,CAAC,eAAe,CAAC,QAAQ,CAAC;oBAC3D,WAAW,EAAE,QAAQ;oBACrB,IAAI,EAAE,OAAO;iBACb,CAAC,CAAC;YACJ,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,wDAA8B,GAArC,UAAsC,IAAyB,EAAE,MAA0B;YAC1F,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;YACnC,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,8CAAoB,GAA3B,UAA4B,MAA0B;YACrD,IAAI,OAAO,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACrG,OAAO,CAAC,OAAO,CAAC,UAAC,MAAM;gBACtB,MAAM,CAAC,IAAI,CAAC;oBACX,KAAK,EAAE,MAAM,CAAC,IAAI;oBAClB,WAAW,EAAE,MAAM,CAAC,IAAI;oBACxB,IAAI,EAAE,UAAU;iBAChB,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,0CAAgB,GAAvB,UAAwB,KAA2B,EAAE,MAA2B;YAC/E,IAAI,WAAW,GAAG,GAAG,CAAC;YACtB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;gBACtD,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACd,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC3B,CAAC;YACF,CAAC;YACD,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAC,WAAW;gBACtC,IAAI,KAAK,GAAE,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gBAC5C,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACX,KAAK,CAAC,OAAO,CAAC,UAAS,IAAW;wBACjC,MAAM,CAAC,IAAI,CAAC;4BACX,KAAK,EAAE,WAAW,GAAG,IAAI;4BACzB,WAAW,EAAE,WAAW,GAAG,IAAI;4BAC/B,IAAI,EAAE,MAAM;yBACZ,CAAC,CAAC;oBACJ,CAAC,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAES,2CAAiB,GAA3B,UAA4B,KAA0B,EAAE,MAA0B;YACjF,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChD,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;oBACxC,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,KAAK;wBACZ,kBAAkB,EAAE,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC;wBAC/C,WAAW,EAAE,KAAK;wBAClB,IAAI,EAAE,aAAa;qBACnB,CAAC,CAAC;gBACJ,CAAC;gBACD,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,aAAa,CAAC,aAAa,CAAC,CAAC,CAAC;oBAC/C,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,KAAK;wBACZ,kBAAkB,EAAE,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC;wBACtD,WAAW,EAAE,KAAK;wBAClB,IAAI,EAAE,OAAO;qBACb,CAAC,CAAC;gBACJ,CAAC;gBACD,IAAI,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;gBAC5B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,mBAAmB,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC7D,WAAW,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,UAAC,KAAK;oBACtC,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,KAAK;wBACZ,WAAW,EAAE,KAAK;wBAClB,IAAI,EAAE,aAAa;qBACnB,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC;gBACH,eAAe,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,CAAC;oBACxC,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBAC5C,SAAS,EAAE,CAAC,CAAC,IAAI;wBACjB,kBAAkB,EAAE,CAAC,CAAC,IAAI;wBAC1B,WAAW,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,QAAQ,CAAC;wBACvD,IAAI,EAAE,UAAU;qBAChB,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC;YACJ,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAES,8CAAoB,GAA9B,UAA+B,KAA0B,EAAE,MAA0B;YACpF,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnD,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,aAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBACrD,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,QAAQ;wBACf,kBAAkB,EAAE,aAAa,CAAC,gBAAgB,CAAC,QAAQ,CAAC;wBAC5D,WAAW,EAAE,QAAQ;wBACrB,IAAI,EAAE,OAAO;qBACb,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAES,iDAAuB,GAAjC,UAAkC,KAA0B,EAAE,MAA0B;YACvF,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjD,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,aAAa,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBACtD,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,MAAM;wBACb,kBAAkB,EAAE,aAAa,CAAC,mBAAmB,CAAC,MAAM,CAAC;wBAC7D,WAAW,EAAE,MAAM;wBACnB,IAAI,EAAE,OAAO;qBACb,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAES,0CAAgB,GAA1B,UAA2B,KAA0B,EAAE,MAA0B;YAChF,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrD,GAAG,CAAC,CAAC,IAAI,SAAS,IAAI,aAAa,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBACvD,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,SAAS;wBAChB,kBAAkB,EAAE,aAAa,CAAC,iBAAiB,CAAC,SAAS,CAAC;wBAC9D,WAAW,EAAE,SAAS;wBACtB,IAAI,EAAE,OAAO;qBACb,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC;YACD,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrD,aAAa,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAC,SAAS;oBACjD,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,SAAS;wBAChB,WAAW,EAAE,SAAS;wBACtB,IAAI,EAAE,OAAO;qBACb,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC;YACJ,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAES,yCAAe,GAAzB,UAA0B,KAA0B,EAAE,MAA0B;YAC/E,IAAI,WAAW,GAAG,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;YAC7D,EAAE,CAAC,CAAC,WAAW,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxB,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,aAAa,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBACnD,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,GAAG;wBACV,kBAAkB,EAAE,aAAa,CAAC,mBAAmB,CAAC,GAAG,CAAC;wBAC1D,WAAW,EAAE,GAAG;wBAChB,IAAI,EAAE,OAAO;qBACb,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC;YACD,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,WAAW,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACpE,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,aAAa,CAAC,WAAW,CAAC,CAAC,CAAC;oBAC3C,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,GAAG;wBACV,kBAAkB,EAAE,aAAa,CAAC,WAAW,CAAC,GAAG,CAAC;wBAClD,WAAW,EAAE,GAAG;wBAChB,IAAI,EAAE,OAAO;qBACb,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAES,2CAAiB,GAA3B,UAA4B,KAA0B,EAAE,MAA0B;YACjF,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChD,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC;oBAChD,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,KAAK;wBACZ,kBAAkB,EAAE,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC;wBACvD,WAAW,EAAE,KAAK;wBAClB,IAAI,EAAE,UAAU;qBAChB,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAES,oDAA0B,GAApC,UAAqC,KAA0B,EAAE,MAA0B;YAC1F,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1D,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,aAAa,CAAC,yBAAyB,CAAC,CAAC,CAAC;oBAC5D,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,MAAM;wBACb,kBAAkB,EAAE,aAAa,CAAC,yBAAyB,CAAC,MAAM,CAAC;wBACnE,WAAW,EAAE,MAAM;wBACnB,IAAI,EAAE,UAAU;qBAChB,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAES,gDAAsB,GAAhC,UAAiC,KAA0B,EAAE,MAA0B;YACtF,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChD,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,aAAa,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBACrD,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,KAAK;wBACZ,kBAAkB,EAAE,aAAa,CAAC,mBAAmB,CAAC,KAAK,CAAC;wBAC5D,WAAW,EAAE,KAAK;wBAClB,IAAI,EAAE,UAAU;qBAChB,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,qDAA2B,GAAlC,UAAmC,MAA0B;YAC5D,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACnE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACX,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC;YAC9C,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;gBACnC,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAiB,IAAI,EAAE,MAAM,CAAC,CAAC;YACpE,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,kDAAwB,GAA/B,UAAgC,MAA0B;YACzD,aAAa,CAAC,eAAe,EAAE,CAAC,OAAO,CAAC,UAAS,KAAK;gBACrD,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC9B,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,KAAK,CAAC,IAAI;wBACjB,WAAW,EAAE,KAAK,CAAC,IAAI;wBACvB,kBAAkB,EAAE,aAAa,CAAC,mBAAmB,CAAC,KAAK,CAAC;wBAC5D,IAAI,EAAE,SAAS;qBACf,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,yBAAyB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAC7C,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,kDAAwB,GAA/B,UAAgC,OAAsB,EAAE,MAA2B;YAClF,IAAI,YAAY,GAAG,OAAO,CAAC,eAAe,EAAE,CAAC;YAE7C,IAAI,OAAO,GAAG,YAAY,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,YAAY,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC;YACrH,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACb,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC;YAC9C,CAAC;YACD,IAAI,aAAa,GAAG,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,IAAI,YAAY,CAAC,MAAM,CAAC;YACxE,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBACnB,MAAM,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YACxD,CAAC;YACD,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAE3C,MAAM,CAAC,IAAI,CAAC,6BAA6B,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,MAAM,CAAC,CAAC;QAC9E,CAAC;QAEM,mDAAyB,GAAhC,UAAiC,OAAsB,EAAE,MAA0B;YAClF,aAAa,CAAC,gBAAgB,EAAE,CAAC,OAAO,CAAC,UAAC,KAAK;gBAC9C,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC;oBACnC,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,KAAK,CAAC,IAAI;wBACjB,WAAW,EAAE,KAAK,CAAC,IAAI;wBACvB,kBAAkB,EAAE,aAAa,CAAC,mBAAmB,CAAC,KAAK,CAAC;wBAC5D,IAAI,EAAE,UAAU;qBAChB,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC,CAAC,CAAC;YACH,aAAa,CAAC,iBAAiB,EAAE,CAAC,OAAO,CAAC,UAAC,KAAK;gBAC/C,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC;oBACnC,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,KAAK,CAAC,IAAI;wBACjB,WAAW,EAAE,KAAK,CAAC,IAAI;wBACvB,kBAAkB,EAAE,aAAa,CAAC,mBAAmB,CAAC,KAAK,CAAC;wBAC5D,IAAI,EAAE,UAAU;qBAChB,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC,CAAC,CAAC;YACH,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,KAAK;gBACrC,MAAM,CAAC,IAAI,CAAC;oBACX,KAAK,EAAE,KAAK;oBACZ,WAAW,EAAE,KAAK;oBAClB,IAAI,EAAE,SAAS;iBACf,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,UAAC,KAAK;gBACvC,MAAM,CAAC,IAAI,CAAC;oBACX,KAAK,EAAE,KAAK;oBACZ,WAAW,EAAE,KAAK;oBAClB,IAAI,EAAE,SAAS;iBACf,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;YAEH,IAAI,OAAO,GAAgC,EAAE,CAAC;YAC9C,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;YACjC,IAAI,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC;YACrD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAA,CAAC;gBACvB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,cAAc,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC9D,IAAI,QAAQ,GAAG,YAAY,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;oBAChD,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACtD,OAAO,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;wBACzB,MAAM,CAAC,IAAI,CAAC;4BACX,KAAK,EAAE,QAAQ;4BACf,WAAW,EAAE,QAAQ;4BACrB,IAAI,EAAE,SAAS;yBACf,CAAC,CAAC;oBACJ,CAAC;oBACD,MAAM,CAAC,KAAK,CAAC;gBACd,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC;YACb,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACnC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,EAAE,CAAC,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC9E,EAAE,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC,YAAY,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC9E,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBACnC,CAAC;YACF,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,uDAA6B,GAApC,UAAqC,YAAgC,EAAE,MAA2B;YACjG,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACnB,MAAM,CAAC,MAAM,CAAC;YACf,CAAC;YACD,IAAI,IAAI,GAAG,YAAY,CAAC,0BAA0B,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAChE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACX,MAAM,CAAC,IAAI,CAAC,oCAAoC,CAAC,MAAM,CAAC,CAAC;YAC1D,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;gBACvC,IAAI,WAAW,GAAuB,IAAI,CAAC;gBAC3C,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,WAAW,CAAC,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBACtL,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,WAAW,CAAC,iBAAiB,GAAG,CAAC,CAAC,CAAC,CAAC;wBACvD,MAAM,CAAC,MAAM,CAAC,CAAC,mIAAmI;oBACnJ,CAAC;oBAED,oBAAoB;oBACpB,MAAM,CAAC,IAAI,CAAC,oCAAoC,CAAC,MAAM,CAAC,CAAC;gBAC1D,CAAC;gBACD,iBAAiB;gBACjB,MAAM,CAAC,IAAI,CAAC,iCAAiC,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;YACpE,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAGM,8DAAoC,GAA3C,UAA4C,WAAsC,EAAE,MAA0B;YAC7G,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC;gBAC7C,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;YACnC,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,qDAA2B,GAAlC,UAAmC,UAA4B,EAAE,MAA0B;YAC1F,IAAI,WAAW,GAAuB,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YACxF,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;gBAC9B,MAAM,CAAC,MAAM,CAAC;YACf,CAAC;YAED,IAAI,IAAI,GAAG,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAC3D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACX,MAAM,CAAC,IAAI,CAAC,iCAAiC,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;YACpE,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,YAAY,IAAI,IAAI,YAAY,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC5E,MAAM,CAAC,IAAI,CAAC,iCAAiC,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;YACpE,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,4DAAkC,GAAzC,UAA0C,GAA2B,EAAE,MAA2B;YACjG,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,8DAAoC,GAA3C,UAA4C,IAA+B,EAAE,MAA2B;YACvG,IAAI,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1C,EAAE,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;gBAClH,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAC/B,CAAC;YACD,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QAEM,0CAAgB,GAAvB,UAAwB,MAA2B;YAClD,IAAI,YAAY,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC1G,YAAY,CAAC,OAAO,CAAC,UAAC,cAAc;gBACnC,EAAE,CAAC,CAAC,cAAc,CAAC,IAAI,YAAY,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBAC9D,IAAI,YAAY,GAA+B,cAAc,CAAC,IAAI,CAAC;oBACnE,IAAI,MAAM,GAAG,YAAY,CAAC,aAAa,EAAE,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,UAAC,CAAC;wBAC7D,MAAM,CAAC,CAAC,CAAC,YAAY,KAAK,CAAC,iBAAiB,CAAC,GAA8B,CAAE,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC;oBACvG,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC,IAAI,CAAC;wBACX,KAAK,EAAE,cAAc,CAAC,IAAI;wBAC1B,SAAS,EAAE,cAAc,CAAC,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG;wBAC9D,WAAW,EAAE,cAAc,CAAC,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,UAAC,CAAC,IAAK,OAAA,IAAI,GAAG,CAAC,GAAG,IAAI,EAAf,CAAe,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG;wBAC5F,IAAI,EAAE,UAAU;qBAChB,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC,CAAC,CAAC;YACH,MAAM,CAAC,MAAM,CAAC;QACf,CAAC;QA5iBc,8BAAc,GAAG;YAC/B,EAAE,IAAI,EAAE,0BAA0B,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAiB,EAAE,IAAmD,CAAC,EAAE;YAChI,EAAE,IAAI,EAAE,mCAAmC,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAkB,EAAE,IAA0D,CAAC,EAAE;YACjJ,EAAE,IAAI,EAAE,oCAAoC,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAiB,EAAE,IAA6D,CAAC,EAAE;YACpJ,EAAE,IAAI,EAAE,6CAA6C,EAAE,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAkB,EAAE,IAAoE,CAAC,EAAE;SACrK,CAAC;QAyiBH,sBAAC;IAAD,CAhjBA,AAgjBC,IAAA;IAhjBY,uBAAe,kBAgjB3B,CAAA;IAED;QAAA;YACS,YAAO,GAA8B,EAAE,CAAC;QAOjD,CAAC;QANO,iBAAG,GAAV,UAAW,KAAa;YACvB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAC5B,CAAC;QACM,wBAAU,GAAjB;YACC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAClC,CAAC;QACF,UAAC;IAAD,CARA,AAQC,IAAA;IAGD;QAEC,gCAAmB,OAAW;YAAX,YAAO,GAAP,OAAO,CAAI;YAC7B,gBAAgB;QACjB,CAAC;QAEM,0CAAS,GAAhB,UAAiB,IAAe;YAC/B,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,UAAU,IAAI,IAAI,YAAY,KAAK,CAAC,YAAY,IAAI,IAAI,YAAY,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC;gBACnH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;YAClC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QACF,6BAAC;IAAD,CAZA,AAYC,IAAA;IAED;QAGC,yBAAmB,YAAoB,EAAS,OAAW;YAAxC,iBAAY,GAAZ,YAAY,CAAQ;YAAS,YAAO,GAAP,OAAO,CAAI;YAC1D,gBAAgB;QACjB,CAAC;QAEO,yCAAe,GAAvB,UAAwB,IAAwB;YAC/C,IAAI,YAAY,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC9C,MAAM,CAAC,IAAI,CAAC,YAAY,KAAK,YAAY,CAAC;QAC3C,CAAC;QAEM,mCAAS,GAAhB,UAAiB,IAAe;YAC/B,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;gBACvC,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAqB,IAAI,CAAC,CAAC,CAAC,CAAC;oBACpD,IAAI,KAAK,GAAwB,IAAK,CAAC,QAAQ,EAAE,CAAC;oBAClD,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;wBACX,KAAK,CAAC,MAAM,CAAC,IAAI,sBAAsB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBACxD,CAAC;gBACF,CAAC;YACF,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QACF,sBAAC;IAAD,CAvBA,AAuBC,IAAA;IAED;QAEC,6BAAmB,OAAW;YAAX,YAAO,GAAP,OAAO,CAAI;YAC7B,gBAAgB;QACjB,CAAC;QAEM,uCAAS,GAAhB,UAAiB,IAAe;YAC/B,EAAE,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC,aAAa,IAAI,CAAC,IAAI,YAAY,KAAK,CAAC,QAAQ,IAAI,aAAa,CAAC,kBAAkB,CAAkB,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;YAClC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QACF,0BAAC;IAAD,CAZA,AAYC,IAAA;IAED,mBAAmB,GAAQ;QAC1B,MAAM,CAAC,OAAO,GAAG,KAAK,WAAW,CAAC;IACnC,CAAC","file":"vs/languages/css/common/services/intelliSense.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport nodes = require('vs/languages/css/common/parser/cssNodes');\nimport cssSymbols = require('vs/languages/css/common/parser/cssSymbols');\nimport languageFacts = require('vs/languages/css/common/services/languageFacts');\nimport service = require('vs/languages/css/common/services/cssLanguageService');\nimport URI from 'vs/base/common/uri';\nimport EditorCommon = require('vs/editor/common/editorCommon');\nimport Modes = require('vs/editor/common/modes');\nimport nls = require('vs/nls');\n\nexport class CSSIntellisense {\n\n\tprivate static colorFunctions = [\n\t\t{ func: 'rgb($red, $green, $blue)', desc: nls.localize('css.builtin.rgb', 'Creates a Color from red, green, and blue values.') },\n\t\t{ func: 'rgba($red, $green, $blue, $alpha)', desc: nls.localize('css.builtin.rgba', 'Creates a Color from red, green, blue, and alpha values.') },\n\t\t{ func: 'hsl($hue, $saturation, $lightness)', desc: nls.localize('css.builtin.hsl', 'Creates a Color from hue, saturation, and lightness values.') },\n\t\t{ func: 'hsla($hue, $saturation, $lightness, $alpha)', desc: nls.localize('css.builtin.hsla', 'Creates a Color from hue, saturation, lightness, and alpha values.') }\n\t];\n\n\tvariablePrefix: string;\n\tposition: EditorCommon.IPosition;\n\toffset: number;\n\tcurrentWord: string;\n\tmodel: EditorCommon.IMirrorModel;\n\tstyleSheet: nodes.Stylesheet;\n\tsymbolContext: cssSymbols.Symbols;\n\tisIncomplete: boolean;\n\n\tconstructor(variablePrefix: string = null) {\n\t\tthis.variablePrefix = variablePrefix;\n\t}\n\n\n\tprivate getSymbolContext() : cssSymbols.Symbols {\n\t\tif (!this.symbolContext) {\n\t\t\tthis.symbolContext = new cssSymbols.Symbols(this.styleSheet);\n\t\t}\n\t\treturn this.symbolContext;\n\t}\n\n\n\tpublic getCompletionsAtPosition(languageService:service.ILanguageService, model: EditorCommon.IMirrorModel, resource:URI, position:EditorCommon.IPosition):Modes.ISuggestResult {\n\t\tthis.offset = model.getOffsetFromPosition(position);\n\t\tthis.position = position;\n\t\tthis.currentWord = model.getWordUntilPosition(position).word;\n\t\tthis.model = model;\n\t\tthis.styleSheet = languageService.getStylesheet(resource);\n\n\t\tvar result : Modes.ISuggestion[] = [];\n\t\tvar nodepath = nodes.getNodePath(this.styleSheet, this.offset);\n\n\t\tthis.isIncomplete = false;\n\t\tfor (var i = nodepath.length - 1; i >= 0; i--) {\n\t\t\tvar node = nodepath[i];\n\t\t\tif (node instanceof nodes.Property) {\n\t\t\t\tthis.getCompletionsForDeclarationProperty(result);\n\t\t\t} else if (node instanceof nodes.Expression) {\n\t\t\t\tthis.getCompletionsForExpression(<nodes.Expression> node, result);\n\t\t\t} else if (node instanceof nodes.SimpleSelector) {\n\t\t\t\tvar parentRuleSet = <nodes.RuleSet> node.findParent(nodes.NodeType.Ruleset);\n\t\t\t\tthis.getCompletionsForSelector(parentRuleSet, result);\n\t\t\t} else if (node instanceof nodes.Declarations) {\n\t\t\t\tthis.getCompletionsForDeclarations(<nodes.Declarations> node, result);\n\t\t\t} else if (node instanceof nodes.VariableDeclaration) {\n\t\t\t\tthis.getCompletionsForVariableDeclaration(<nodes.VariableDeclaration> node, result);\n\t\t\t} else if (node instanceof nodes.RuleSet) {\n\t\t\t\tthis.getCompletionsForRuleSet(<nodes.RuleSet> node, result);\n\t\t\t} else if (node instanceof nodes.Interpolation) {\n\t\t\t\tthis.getCompletionsForInterpolation(<nodes.Interpolation> node, result);\n\t\t\t} else if (node instanceof nodes.FunctionArgument) {\n\t\t\t\tthis.getCompletionsForFunctionArguments(<nodes.FunctionArgument> node, result);\n\t\t\t} else if (node instanceof nodes.FunctionDeclaration) {\n\t\t\t\tthis.getCompletionsForFunctionDeclaration(<nodes.FunctionDeclaration> node, result);\n\t\t\t}\n\t\t\tif (result.length > 0) {\n\t\t\t\treturn { currentWord: this.currentWord, suggestions: result, incomplete: this.isIncomplete };\n\t\t\t}\n\t\t}\n\t\tthis.getCompletionsForStylesheet(result);\n\t\tif (result.length > 0) {\n\t\t\treturn { currentWord: this.currentWord, suggestions: result };\n\t\t}\n\n\t\tif (this.variablePrefix && this.currentWord.indexOf(this.variablePrefix) === 0) {\n\t\t\tthis.getVariableProposals(result);\n\t\t\tif (result.length > 0) {\n\t\t\t\treturn { currentWord: this.currentWord, suggestions: result };\n\t\t\t}\n\t\t\tmodel.getAllUniqueWords(this.currentWord).forEach((word) => {\n\t\t\t\tresult.push({ type: 'text', label: word, codeSnippet: word });\n\t\t\t});\n\t\t}\n\n\t\t// no match, don't show text matches\n\t\treturn {\n\t\t\tcurrentWord: this.currentWord,\n\t\t\tsuggestions: result\n\t\t};\n\t}\n\n\tpublic getCompletionsForDeclarationProperty(result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\treturn this.getPropertyProposals(result);\n\t}\n\n\tprivate getPropertyProposals(result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tvar properties = languageFacts.getProperties();\n\n\t\tfor (var key in properties) {\n\t\t\tif (properties.hasOwnProperty(key)) {\n\t\t\t\tvar entry = properties[key];\n\t\t\t\tif (entry.browsers.onCodeComplete) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tlabel: entry.name,\n\t\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(entry),\n\t\t\t\t\t\tcodeSnippet: entry.name + ': ',\n\t\t\t\t\t\ttype: 'property'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getCompletionsForDeclarationValue(node: nodes.Declaration, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tvar propertyName = node.getFullPropertyName();\n\t\tvar entry = languageFacts.getProperties()[propertyName];\n\n\t\tif (entry) {\n\t\t\tthis.getColorProposals(entry, result);\n\t\t\tthis.getPositionProposals(entry, result);\n\t\t\tthis.getRepeatStyleProposals(entry, result);\n\t\t\tthis.getLineProposals(entry, result);\n\t\t\tthis.getBoxProposals(entry, result);\n\t\t\tthis.getImageProposals(entry, result);\n\t\t\tthis.getTimingFunctionProposals(entry, result);\n\t\t\tthis.getBasicShapeProposals(entry, result);\n\t\t\tthis.getValueEnumProposals(entry, result);\n\t\t\tthis.getCSSWideKeywordProposals(entry, result);\n\t\t\tthis.getUnitProposals(entry, result);\n\t\t} else {\n\t\t\tvar existingValues = new Set();\n\t\t\tthis.styleSheet.accept(new ValuesCollector(propertyName, existingValues));\n\t\t\texistingValues.getEntries().forEach((existingValue) => {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: existingValue,\n\t\t\t\t\tcodeSnippet: existingValue,\n\t\t\t\t\ttype: 'value'\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tthis.getVariableProposals(result);\n\t\tthis.getTermProposals(result);\n\t\treturn result;\n\t}\n\n\tpublic getValueEnumProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[]{\n\t\tif (entry.values) {\n\t\t\tentry.values.forEach((value) => {\n\t\t\t\tif (languageFacts.isCommonValue(value)) { // only show if supported by more than one browser\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tlabel: value.name,\n\t\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(value),\n\t\t\t\t\t\tcodeSnippet: value.name,\n\t\t\t\t\t\ttype: 'value'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getCSSWideKeywordProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tfor (var keywords in languageFacts.cssWideKeywords) {\n\t\t\tresult.push({\n\t\t\t\tlabel: keywords,\n\t\t\t\tdocumentationLabel: languageFacts.cssWideKeywords[keywords],\n\t\t\t\tcodeSnippet: keywords,\n\t\t\t\ttype: 'value'\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getCompletionsForInterpolation(node: nodes.Interpolation, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tif (this.offset >= node.offset + 2) {\n\t\t\tthis.getVariableProposals(result);\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getVariableProposals(result:Modes.ISuggestion[]):Modes.ISuggestion[]{\n\t\tvar symbols = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Variable);\n\t\tsymbols.forEach((symbol) => {\n\t\t\tresult.push({\n\t\t\t\tlabel: symbol.name,\n\t\t\t\tcodeSnippet: symbol.name,\n\t\t\t\ttype: 'variable'\n\t\t\t});\n\t\t});\n\t\treturn result;\n\t}\n\n\tpublic getUnitProposals(entry: languageFacts.IEntry, result: Modes.ISuggestion[]): Modes.ISuggestion[]{\n\t\tvar currentWord = '0';\n\t\tif (this.currentWord.length > 0) {\n\t\t\tvar numMatch = this.currentWord.match(/-?\\d[\\.\\d+]*/);\n\t\t\tif (numMatch) {\n\t\t\t\tcurrentWord = numMatch[0];\n\t\t\t}\n\t\t}\n\t\tentry.restrictions.forEach((restriction) => {\n\t\t\tvar units= languageFacts.units[restriction];\n\t\t\tif (units) {\n\t\t\t\tunits.forEach(function(unit:string) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tlabel: currentWord + unit,\n\t\t\t\t\t\tcodeSnippet: currentWord + unit,\n\t\t\t\t\t\ttype: 'unit'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis.isIncomplete = true;\n\t\treturn result;\n\t}\n\n\tprotected getColorProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tif (entry.restrictions.indexOf('color') !== -1) {\n\t\t\tfor (var color in languageFacts.colors) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: color,\n\t\t\t\t\tdocumentationLabel: languageFacts.colors[color],\n\t\t\t\t\tcodeSnippet: color,\n\t\t\t\t\ttype: 'customcolor'\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var color in languageFacts.colorKeywords) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: color,\n\t\t\t\t\tdocumentationLabel: languageFacts.colorKeywords[color],\n\t\t\t\t\tcodeSnippet: color,\n\t\t\t\t\ttype: 'value'\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar colorValues = new Set();\n\t\t\tthis.styleSheet.accept(new ColorValueCollector(colorValues));\n\t\t\tcolorValues.getEntries().forEach((color) => {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: color,\n\t\t\t\t\tcodeSnippet: color,\n\t\t\t\t\ttype: 'customcolor'\n\t\t\t\t});\n\t\t\t});\n\t\t\tCSSIntellisense.colorFunctions.forEach((p) => {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: p.func.substr(0, p.func.indexOf('(')),\n\t\t\t\t\ttypeLabel: p.func,\n\t\t\t\t\tdocumentationLabel: p.desc,\n\t\t\t\t\tcodeSnippet: p.func.replace(/\\[?\\$(\\w+)\\]?/g, '{{$1}}'),\n\t\t\t\t\ttype: 'function'\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n\tprotected getPositionProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tif (entry.restrictions.indexOf('position') !== -1) {\n\t\t\tfor (var position in languageFacts.positionKeywords) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: position,\n\t\t\t\t\tdocumentationLabel: languageFacts.positionKeywords[position],\n\t\t\t\t\tcodeSnippet: position,\n\t\t\t\t\ttype: 'value'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprotected getRepeatStyleProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tif (entry.restrictions.indexOf('repeat') !== -1) {\n\t\t\tfor (var repeat in languageFacts.repeatStyleKeywords) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: repeat,\n\t\t\t\t\tdocumentationLabel: languageFacts.repeatStyleKeywords[repeat],\n\t\t\t\t\tcodeSnippet: repeat,\n\t\t\t\t\ttype: 'value'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprotected getLineProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tif (entry.restrictions.indexOf('line-style') !== -1) {\n\t\t\tfor (var lineStyle in languageFacts.lineStyleKeywords) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: lineStyle,\n\t\t\t\t\tdocumentationLabel: languageFacts.lineStyleKeywords[lineStyle],\n\t\t\t\t\tcodeSnippet: lineStyle,\n\t\t\t\t\ttype: 'value'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (entry.restrictions.indexOf('line-width') !== -1) {\n\t\t\tlanguageFacts.lineWidthKeywords.forEach((lineWidth) => {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: lineWidth,\n\t\t\t\t\tcodeSnippet: lineWidth,\n\t\t\t\t\ttype: 'value'\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n\tprotected getBoxProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tvar geometryBox = entry.restrictions.indexOf('geometry-box');\n\t\tif (geometryBox !== -1) {\n\t\t\tfor (var box in languageFacts.geometryBoxKeywords) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: box,\n\t\t\t\t\tdocumentationLabel: languageFacts.geometryBoxKeywords[box],\n\t\t\t\t\tcodeSnippet: box,\n\t\t\t\t\ttype: 'value'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (entry.restrictions.indexOf('box') !== -1 || geometryBox !== -1) {\n\t\t\tfor (var box in languageFacts.boxKeywords) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: box,\n\t\t\t\t\tdocumentationLabel: languageFacts.boxKeywords[box],\n\t\t\t\t\tcodeSnippet: box,\n\t\t\t\t\ttype: 'value'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprotected getImageProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tif (entry.restrictions.indexOf('image') !== -1) {\n\t\t\tfor (var image in languageFacts.imageFunctions) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: image,\n\t\t\t\t\tdocumentationLabel: languageFacts.imageFunctions[image],\n\t\t\t\t\tcodeSnippet: image,\n\t\t\t\t\ttype: 'function'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprotected getTimingFunctionProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tif (entry.restrictions.indexOf('timing-function') !== -1) {\n\t\t\tfor (var timing in languageFacts.transitionTimingFunctions) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: timing,\n\t\t\t\t\tdocumentationLabel: languageFacts.transitionTimingFunctions[timing],\n\t\t\t\t\tcodeSnippet: timing,\n\t\t\t\t\ttype: 'function'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprotected getBasicShapeProposals(entry:languageFacts.IEntry, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tif (entry.restrictions.indexOf('shape') !== -1) {\n\t\t\tfor (var shape in languageFacts.basicShapeFunctions) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: shape,\n\t\t\t\t\tdocumentationLabel: languageFacts.basicShapeFunctions[shape],\n\t\t\t\t\tcodeSnippet: shape,\n\t\t\t\t\ttype: 'function'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getCompletionsForStylesheet(result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tvar node = this.styleSheet.findFirstChildBeforeOffset(this.offset);\n\t\tif (!node) {\n\t\t\treturn this.getCompletionForTopLevel(result);\n\t\t}\n\t\tif (node instanceof nodes.RuleSet) {\n\t\t\treturn this.getCompletionsForRuleSet(<nodes.RuleSet> node, result);\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getCompletionForTopLevel(result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tlanguageFacts.getAtDirectives().forEach(function(entry) {\n\t\t\tif (entry.browsers.count > 0) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: entry.name,\n\t\t\t\t\tcodeSnippet: entry.name,\n\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(entry),\n\t\t\t\t\ttype: 'keyword'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis.getCompletionsForSelector(null, result);\n\t\treturn result;\n\t}\n\n\tpublic getCompletionsForRuleSet(ruleSet: nodes.RuleSet, result: Modes.ISuggestion[]): Modes.ISuggestion[]{\n\t\tvar declarations = ruleSet.getDeclarations();\n\n\t\tvar isAfter = declarations && declarations.endsWith('}') && this.offset >= declarations.offset + declarations.length;\n\t\tif (isAfter) {\n\t\t\treturn this.getCompletionForTopLevel(result);\n\t\t}\n\t\tvar isInSelectors = !declarations || this.offset <= declarations.offset;\n\t\tif (isInSelectors) {\n\t\t\treturn this.getCompletionsForSelector(ruleSet, result);\n\t\t}\n\t\truleSet.findParent(nodes.NodeType.Ruleset);\n\n\t\treturn this.getCompletionsForDeclarations(ruleSet.getDeclarations(), result);\n\t}\n\n\tpublic getCompletionsForSelector(ruleSet: nodes.RuleSet, result:Modes.ISuggestion[]): Modes.ISuggestion[] {\n\t\tlanguageFacts.getPseudoClasses().forEach((entry) => {\n\t\t\tif (entry.browsers.onCodeComplete) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: entry.name,\n\t\t\t\t\tcodeSnippet: entry.name,\n\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(entry),\n\t\t\t\t\ttype: 'function'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tlanguageFacts.getPseudoElements().forEach((entry) => {\n\t\t\tif (entry.browsers.onCodeComplete) {\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: entry.name,\n\t\t\t\t\tcodeSnippet: entry.name,\n\t\t\t\t\tdocumentationLabel: languageFacts.getEntryDescription(entry),\n\t\t\t\t\ttype: 'function'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tlanguageFacts.html5Tags.forEach((entry) => {\n\t\t\tresult.push({\n\t\t\t\tlabel: entry,\n\t\t\t\tcodeSnippet: entry,\n\t\t\t\ttype: 'keyword'\n\t\t\t});\n\t\t});\n\t\tlanguageFacts.svgElements.forEach((entry) => {\n\t\t\tresult.push({\n\t\t\t\tlabel: entry,\n\t\t\t\tcodeSnippet: entry,\n\t\t\t\ttype: 'keyword'\n\t\t\t});\n\t\t});\n\n\t\tvar visited: { [name: string]: boolean } = {};\n\t\tvisited[this.currentWord] = true;\n\t\tvar textProvider = this.styleSheet.getTextProvider();\n\t\tthis.styleSheet.accept(n => {\n\t\t\tif (n.type === nodes.NodeType.SimpleSelector && n.length > 0) {\n\t\t\t\tvar selector = textProvider(n.offset, n.length);\n\t\t\t\tif (selector.charAt(0) === '.' && !visited[selector]) {\n\t\t\t\t\tvisited[selector] = true;\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tlabel: selector,\n\t\t\t\t\t\tcodeSnippet: selector,\n\t\t\t\t\t\ttype: 'keyword'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tif (ruleSet && ruleSet.isNested()) {\n\t\t\tvar selector = ruleSet.getSelectors().findFirstChildBeforeOffset(this.offset);\n\t\t\tif (selector && ruleSet.getSelectors().getChildren().indexOf(selector) === 0) {\n\t\t\t\tthis.getPropertyProposals(result);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getCompletionsForDeclarations(declarations: nodes.Declarations, result: Modes.ISuggestion[]): Modes.ISuggestion[]{\n\t\tif (!declarations) { // incomplete nodes\n\t\t\treturn result;\n\t\t}\n\t\tvar node = declarations.findFirstChildBeforeOffset(this.offset);\n\t\tif (!node) {\n\t\t\treturn this.getCompletionsForDeclarationProperty(result);\n\t\t}\n\t\tif (node instanceof nodes.Declaration) {\n\t\t\tvar declaration = <nodes.Declaration> node;\n\t\t\tif ((!isDefined(declaration.colonPosition) || this.offset <= declaration.colonPosition) || (isDefined(declaration.semicolonPosition) && declaration.semicolonPosition < this.offset)) {\n\t\t\t\tif (this.offset === declaration.semicolonPosition + 1) {\n\t\t\t\t\treturn result; // don't show new properties right after semicolon (see Bug 15421:[intellisense] [css] Be less aggressive when manually typing CSS)\n\t\t\t\t}\n\n\t\t\t\t// complete property\n\t\t\t\treturn this.getCompletionsForDeclarationProperty(result);\n\t\t\t}\n\t\t\t// complete value\n\t\t\treturn this.getCompletionsForDeclarationValue(declaration, result);\n\t\t}\n\t\treturn result;\n\t}\n\n\n\tpublic getCompletionsForVariableDeclaration(declaration: nodes.VariableDeclaration, result:Modes.ISuggestion[]):Modes.ISuggestion[] {\n\t\tif (this.offset > declaration.colonPosition) {\n\t\t\tthis.getVariableProposals(result);\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getCompletionsForExpression(expression: nodes.Expression, result:Modes.ISuggestion[]):Modes.ISuggestion[]{\n\t\tvar declaration = <nodes.Declaration> expression.findParent(nodes.NodeType.Declaration);\n\t\tif (!declaration) {\n\t\t\tthis.getTermProposals(result);\n\t\t\treturn result;\n\t\t}\n\n\t\tvar node = expression.findChildAtOffset(this.offset, true);\n\t\tif (!node) {\n\t\t\treturn this.getCompletionsForDeclarationValue(declaration, result);\n\t\t}\n\t\tif (node instanceof nodes.NumericValue || node instanceof nodes.Identifier) {\n\t\t\treturn this.getCompletionsForDeclarationValue(declaration, result);\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getCompletionsForFunctionArguments(arg: nodes.FunctionArgument, result: Modes.ISuggestion[]): Modes.ISuggestion[] {\n\t\treturn result;\n\t}\n\n\tpublic getCompletionsForFunctionDeclaration(decl: nodes.FunctionDeclaration, result: Modes.ISuggestion[]): Modes.ISuggestion[]{\n\t\tvar declarations = decl.getDeclarations();\n\t\tif (declarations && this.offset > declarations.offset && this.offset < declarations.offset + declarations.length) {\n\t\t\tthis.getTermProposals(result);\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getTermProposals(result: Modes.ISuggestion[]): Modes.ISuggestion[]{\n\t\tvar allFunctions = this.getSymbolContext().findSymbolsAtOffset(this.offset, nodes.ReferenceType.Function);\n\t\tallFunctions.forEach((functionSymbol) => {\n\t\t\tif (functionSymbol.node instanceof nodes.FunctionDeclaration) {\n\t\t\t\tvar functionDecl = <nodes.FunctionDeclaration> functionSymbol.node;\n\t\t\t\tvar params = functionDecl.getParameters().getChildren().map((c) => {\n\t\t\t\t\treturn (c instanceof nodes.FunctionParameter) ? (<nodes.FunctionParameter> c).getName() : c.getText();\n\t\t\t\t});\n\t\t\t\tresult.push({\n\t\t\t\t\tlabel: functionSymbol.name,\n\t\t\t\t\ttypeLabel: functionSymbol.name + '(' + params.join(', ') + ')',\n\t\t\t\t\tcodeSnippet: functionSymbol.name + '(' + params.map((p) => '{{' + p + '}}').join(', ') + ')',\n\t\t\t\t\ttype: 'function'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\n}\n\nclass Set {\n\tprivate entries: { [key:string]: boolean } = {};\n\tpublic add(entry: string) : void {\n\t\tthis.entries[entry] = true;\n\t}\n\tpublic getEntries() : string[] {\n\t\treturn Object.keys(this.entries);\n\t}\n}\n\n\nclass InternalValueCollector implements nodes.IVisitor {\n\n\tconstructor(public entries:Set) {\n\t\t// nothing to do\n\t}\n\n\tpublic visitNode(node:nodes.Node):boolean {\n\t\tif (node instanceof nodes.Identifier || node instanceof nodes.NumericValue || node instanceof nodes.HexColorValue) {\n\t\t\tthis.entries.add(node.getText());\n\t\t}\n\t\treturn true;\n\t}\n}\n\nclass ValuesCollector implements nodes.IVisitor {\n\n\n\tconstructor(public propertyName: string, public entries:Set) {\n\t\t// nothing to do\n\t}\n\n\tprivate matchesProperty(decl : nodes.Declaration) : boolean {\n\t\tvar propertyName = decl.getFullPropertyName();\n\t\treturn this.propertyName === propertyName;\n\t}\n\n\tpublic visitNode(node:nodes.Node):boolean {\n\t\tif (node instanceof nodes.Declaration) {\n\t\t\tif (this.matchesProperty(<nodes.Declaration> node)) {\n\t\t\t\tvar value = (<nodes.Declaration> node).getValue();\n\t\t\t\tif (value) {\n\t\t\t\t\tvalue.accept(new InternalValueCollector(this.entries));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\nclass ColorValueCollector implements nodes.IVisitor {\n\n\tconstructor(public entries:Set) {\n\t\t// nothing to do\n\t}\n\n\tpublic visitNode(node:nodes.Node): boolean {\n\t\tif (node instanceof nodes.HexColorValue || (node instanceof nodes.Function && languageFacts.isColorConstructor(<nodes.Function> node))) {\n\t\t\tthis.entries.add(node.getText());\n\t\t}\n\t\treturn true;\n\t}\n}\n\nfunction isDefined(obj: any) : boolean {\n\treturn typeof obj !== 'undefined';\n}\n"]}