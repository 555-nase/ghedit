{"version":3,"file":"vs/languages/html/test/common/html.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/languages/html/test/common/html.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport assert = require('assert');\nimport EditorCommon = require('vs/editor/common/editorCommon');\nimport Modes = require('vs/editor/common/modes');\nimport modesUtil = require('vs/editor/test/common/modesUtil');\nimport {Model} from 'vs/editor/common/model/model';\nimport {getTag, DELIM_END, DELIM_START, DELIM_ASSIGN, ATTRIB_NAME, ATTRIB_VALUE, COMMENT, DELIM_COMMENT, DELIM_DOCTYPE, DOCTYPE} from 'vs/languages/html/common/htmlTokenTypes';\nimport {getRawEnterActionAtPosition} from 'vs/editor/common/modes/supports/onEnter';\nimport {TextModelWithTokens} from 'vs/editor/common/model/textModelWithTokens';\nimport {TextModel} from 'vs/editor/common/model/textModel';\nimport {Range} from 'vs/editor/common/core/range';\nimport {MockModeService} from 'vs/editor/test/common/mocks/mockModeService';\nimport {NULL_THREAD_SERVICE} from 'vs/platform/test/common/nullThreadService';\nimport {createInstantiationService} from 'vs/platform/instantiation/common/instantiationService';\nimport {HTMLMode} from 'vs/languages/html/common/html';\nimport htmlWorker = require('vs/languages/html/common/htmlWorker');\nimport {MockTokenizingMode} from 'vs/editor/test/common/mocks/mockMode';\nimport {RichEditSupport} from 'vs/editor/common/modes/supports/richEditSupport';\n\nclass MockJSMode extends MockTokenizingMode {\n\n\tpublic richEditSupport: Modes.IRichEditSupport;\n\n\tconstructor() {\n\t\tsuper('js', 'mock-js');\n\n\t\tthis.richEditSupport = new RichEditSupport(this.getId(), null, {\n\t\t\tbrackets: [\n\t\t\t\t['(', ')'],\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']']\n\t\t\t],\n\n\t\t\tonEnterRules: [\n\t\t\t\t{\n\t\t\t\t\t// e.g. /** | */\n\t\t\t\t\tbeforeText: /^\\s*\\/\\*\\*(?!\\/)([^\\*]|\\*(?!\\/))*$/,\n\t\t\t\t\tafterText: /^\\s*\\*\\/$/,\n\t\t\t\t\taction: { indentAction: Modes.IndentAction.IndentOutdent, appendText: ' * ' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// e.g. /** ...|\n\t\t\t\t\tbeforeText: /^\\s*\\/\\*\\*(?!\\/)([^\\*]|\\*(?!\\/))*$/,\n\t\t\t\t\taction: { indentAction: Modes.IndentAction.None, appendText: ' * ' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// e.g.  * ...|\n\t\t\t\t\tbeforeText: /^(\\t|(\\ \\ ))*\\ \\*(\\ ([^\\*]|\\*(?!\\/))*)?$/,\n\t\t\t\t\taction: { indentAction: Modes.IndentAction.None, appendText: '* ' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// e.g.  */|\n\t\t\t\t\tbeforeText: /^(\\t|(\\ \\ ))*\\ \\*\\/\\s*$/,\n\t\t\t\t\taction: { indentAction: Modes.IndentAction.None, removeText: 1 }\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n}\n\nclass HTMLMockModeService extends MockModeService {\n\tisRegisteredMode(mimetypeOrModeId: string): boolean {\n\t\tif (mimetypeOrModeId === 'text/javascript') {\n\t\t\treturn true;\n\t\t}\n\t\tif (mimetypeOrModeId === 'text/plain') {\n\t\t\treturn false;\n\t\t}\n\t\tthrow new Error('Not implemented');\n\t}\n\n\tgetMode(commaSeparatedMimetypesOrCommaSeparatedIds: string): Modes.IMode {\n\t\tif (commaSeparatedMimetypesOrCommaSeparatedIds === 'text/javascript') {\n\t\t\treturn new MockJSMode();\n\t\t}\n\t\tif (commaSeparatedMimetypesOrCommaSeparatedIds === 'text/plain') {\n\t\t\treturn null;\n\t\t}\n\t\tthrow new Error('Not implemented');\n\t}\n}\n\nsuite('Colorizing - HTML', () => {\n\n\tlet tokenizationSupport: Modes.ITokenizationSupport;\n\tlet _mode: Modes.IMode;\n\n\t(function() {\n\t\tlet threadService = NULL_THREAD_SERVICE;\n\t\tlet modeService = new HTMLMockModeService();\n\t\tlet inst = createInstantiationService({\n\t\t\tthreadService: threadService,\n\t\t\tmodeService: modeService\n\t\t});\n\t\tthreadService.setInstantiationService(inst);\n\n\t\t_mode = new HTMLMode<htmlWorker.HTMLWorker>(\n\t\t\t{ id: 'html' },\n\t\t\tinst,\n\t\t\tmodeService,\n\t\t\tthreadService\n\t\t);\n\n\t\ttokenizationSupport = _mode.tokenizationSupport;\n\t})();\n\n\ttest('Open Start Tag #1', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Open Start Tag #2', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<input',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('input') }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Open Start Tag with Invalid Tag', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '< abc',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: '' }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Open Start Tag #3', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '< abc>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: '' }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Open Start Tag #4', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, \t[{\n\t\t\tline: 'i <len;',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: '' },\n\t\t\t\t{ startIndex:2, type: DELIM_START },\n\t\t\t\t{ startIndex:3, type: getTag('len') },\n\t\t\t\t{ startIndex:6, type: '' }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Open Start Tag #5', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Open End Tag', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '</a',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_END },\n\t\t\t\t{ startIndex:2, type: getTag('a') }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Complete Start Tag', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Complete Start Tag with Whitespace', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc >',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('bug 9809 - Complete Start Tag with Namespaceprefix', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<foo:bar>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('foo-bar') },\n\t\t\t\t{ startIndex:8, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Complete End Tag', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '</abc>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_END },\n\t\t\t\t{ startIndex:2, type: getTag('abc') },\n\t\t\t\t{ startIndex:5, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Complete End Tag with Whitespace', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '</abc  >',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_END },\n\t\t\t\t{ startIndex:2, type: getTag('abc') },\n\t\t\t\t{ startIndex:5, type: '' },\n\t\t\t\t{ startIndex:7, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Empty Tag', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc />',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Embedded Content #1', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<script type=\"text/javascript\">var i= 10;</script>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('script') },\n\t\t\t\t{ startIndex:7, type: '' },\n\t\t\t\t{ startIndex:8, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:12, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:13, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:30, type: DELIM_START },\n\t\t\t\t{ startIndex:31, type: 'mock-js' },\n\t\t\t\t{ startIndex:41, type: DELIM_END },\n\t\t\t\t{ startIndex:43, type: getTag('script') },\n\t\t\t\t{ startIndex:49, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Embedded Content #2', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<script type=\"text/javascript\">',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('script') },\n\t\t\t\t{ startIndex:7, type: '' },\n\t\t\t\t{ startIndex:8, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:12, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:13, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:30, type: DELIM_START }\n\t\t\t]}, {\n\t\t\tline: 'var i= 10;',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: 'mock-js' },\n\t\t\t]}, {\n\t\t\tline: '</script>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_END },\n\t\t\t\t{ startIndex:2, type: getTag('script') },\n\t\t\t\t{ startIndex:8, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Embedded Content #3', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<script type=\"text/javascript\">var i= 10;',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('script') },\n\t\t\t\t{ startIndex:7, type: '' },\n\t\t\t\t{ startIndex:8, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:12, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:13, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:30, type: DELIM_START },\n\t\t\t\t{ startIndex:31, type: 'mock-js' },\n\t\t\t]}, {\n\t\t\tline: '</script>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_END },\n\t\t\t\t{ startIndex:2, type: getTag('script') },\n\t\t\t\t{ startIndex:8, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Embedded Content #4', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<script type=\"text/javascript\">',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('script') },\n\t\t\t\t{ startIndex:7, type: '' },\n\t\t\t\t{ startIndex:8, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:12, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:13, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:30, type: DELIM_START }\n\t\t\t]}, {\n\t\t\tline: 'var i= 10;</script>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: 'mock-js' },\n\t\t\t\t{ startIndex:10, type: DELIM_END },\n\t\t\t\t{ startIndex:12, type: getTag('script') },\n\t\t\t\t{ startIndex:18, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Embedded Content #5', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<script type=\"text/plain\">a\\n<a</script>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('script') },\n\t\t\t\t{ startIndex:7, type: '' },\n\t\t\t\t{ startIndex:8, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:12, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:13, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:25, type: DELIM_START },\n\t\t\t\t{ startIndex:26, type: '' },\n\t\t\t\t{ startIndex:30, type: DELIM_END },\n\t\t\t\t{ startIndex:32, type: getTag('script') },\n\t\t\t\t{ startIndex:38, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Embedded Content #6', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<script>a</script><script>b</script>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('script') },\n\t\t\t\t{ startIndex:7, type: DELIM_START },\n\t\t\t\t{ startIndex:8, type: 'mock-js' },\n\t\t\t\t{ startIndex:9, type: DELIM_END },\n\t\t\t\t{ startIndex:11, type: getTag('script') },\n\t\t\t\t{ startIndex:17, type: DELIM_END },\n\t\t\t\t{ startIndex:18, type: DELIM_START },\n\t\t\t\t{ startIndex:19, type: getTag('script') },\n\t\t\t\t{ startIndex:25, type: DELIM_START },\n\t\t\t\t{ startIndex:26, type: 'mock-js' },\n\t\t\t\t{ startIndex:27, type: DELIM_END },\n\t\t\t\t{ startIndex:29, type: getTag('script') },\n\t\t\t\t{ startIndex:35, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Embedded Content #7', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<script type=\"text/javascript\"></script>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('script') },\n\t\t\t\t{ startIndex:7, type: '' },\n\t\t\t\t{ startIndex:8, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:12, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:13, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:30, type: DELIM_START },\n\t\t\t\t{ startIndex:31, type: DELIM_END },\n\t\t\t\t{ startIndex:33, type: getTag('script') },\n\t\t\t\t{ startIndex:39, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Embedded Content #8', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<script>var i= 10;</script>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('script') },\n\t\t\t\t{ startIndex:7, type: DELIM_START },\n\t\t\t\t{ startIndex:8, type: 'mock-js' },\n\t\t\t\t{ startIndex:18, type: DELIM_END },\n\t\t\t\t{ startIndex:20, type: getTag('script') },\n\t\t\t\t{ startIndex:26, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Embedded Content #9', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<script type=\"text/javascript\" src=\"main.js\"></script>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('script') },\n\t\t\t\t{ startIndex:7, type: '' },\n\t\t\t\t{ startIndex:8, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:12, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:13, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:30, type: '' },\n\t\t\t\t{ startIndex:31, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:34, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:35, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:44, type: DELIM_START },\n\t\t\t\t{ startIndex:45, type: DELIM_END },\n\t\t\t\t{ startIndex:47, type: getTag('script') },\n\t\t\t\t{ startIndex:53, type: DELIM_END }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with Attribute', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo=\"bar\">',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:9, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:14, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with Empty Attribute Value', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo=\\'bar\\'>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:9, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:14, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with empty atrributes', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo=\"\">',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:9, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:11, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with Attributes', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo=\"bar\" bar=\"foo\">',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:9, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:14, type: '' },\n\t\t\t\t{ startIndex:15, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:18, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:19, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:24, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with Attribute And Whitespace', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo=  \"bar\">',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:9, type: '' },\n\t\t\t\t{ startIndex:11, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:16, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with Attribute And Whitespace #2', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo = \"bar\">',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: '' },\n\t\t\t\t{ startIndex:9, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:10, type: '' },\n\t\t\t\t{ startIndex:11, type: ATTRIB_VALUE },\n\t\t\t\t{ startIndex:16, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with Name-Only-Attribute #1', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with Name-Only-Attribute #2', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo bar>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: '' },\n\t\t\t\t{ startIndex:9, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:12, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with Invalid Attribute Name', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo!@#=\"bar\">',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: '' },\n\t\t\t\t{ startIndex:13, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:16, type: '' },\n\t\t\t\t{ startIndex:17, type: DELIM_START }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Tag with Invalid Attribute Value', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<abc foo=\">',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_START },\n\t\t\t\t{ startIndex:1, type: getTag('abc') },\n\t\t\t\t{ startIndex:4, type: '' },\n\t\t\t\t{ startIndex:5, type: ATTRIB_NAME },\n\t\t\t\t{ startIndex:8, type: DELIM_ASSIGN },\n\t\t\t\t{ startIndex:9, type: ATTRIB_VALUE }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Simple Comment 1', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<!--a-->',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_COMMENT },\n\t\t\t\t{ startIndex:4, type: COMMENT },\n\t\t\t\t{ startIndex:5, type: DELIM_COMMENT }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Simple Comment 2', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<!--a>foo bar</a -->',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_COMMENT },\n\t\t\t\t{ startIndex:4, type: COMMENT },\n\t\t\t\t{ startIndex:17, type: DELIM_COMMENT }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Multiline Comment', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<!--a>\\nfoo \\nbar</a -->',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_COMMENT },\n\t\t\t\t{ startIndex:4, type: COMMENT },\n\t\t\t\t{ startIndex:19, type: DELIM_COMMENT }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Simple Doctype', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<!DOCTYPE a>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_DOCTYPE },\n\t\t\t\t{ startIndex:9, type: DOCTYPE },\n\t\t\t\t{ startIndex:11, type: DELIM_DOCTYPE }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Simple Doctype #2', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<!doctype a>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_DOCTYPE },\n\t\t\t\t{ startIndex:9, type: DOCTYPE },\n\t\t\t\t{ startIndex:11, type: DELIM_DOCTYPE }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('Simple Doctype #4', () => {\n\t\tmodesUtil.assertTokenization(tokenizationSupport, [{\n\t\t\tline: '<!DOCTYPE a\\n\"foo\" \\'bar\\'>',\n\t\t\ttokens: [\n\t\t\t\t{ startIndex:0, type: DELIM_DOCTYPE },\n\t\t\t\t{ startIndex:9, type: DOCTYPE },\n\t\t\t\t{ startIndex:23, type: DELIM_DOCTYPE }\n\t\t\t]}\n\t\t]);\n\t});\n\n\ttest('onEnter 1', function() {\n\t\tvar model = new Model('<script type=\\\"text/javascript\\\">function f() { foo(); }', Model.DEFAULT_CREATION_OPTIONS, _mode);\n\n\t\tvar actual = _mode.richEditSupport.onEnter.onEnter(model, {\n\t\t\tlineNumber: 1,\n\t\t\tcolumn: 46\n\t\t});\n\n\t\tassert.equal(actual.indentAction, Modes.IndentAction.Indent);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('onEnter 2', function() {\n\t\tfunction onEnter(line:string, offset:number): Modes.IEnterAction {\n\t\t\tlet model = new TextModelWithTokens([], TextModel.toRawText(line, Model.DEFAULT_CREATION_OPTIONS), false, _mode);\n\t\t\tlet result = getRawEnterActionAtPosition(model, 1, offset + 1);\n\t\t\tmodel.dispose();\n\t\t\treturn result;\n\t\t}\n\n\t\tfunction assertOnEnter(text:string, offset:number, expected: Modes.IndentAction): void {\n\t\t\tlet _actual = onEnter(text, offset);\n\t\t\tlet actual = _actual ? _actual.indentAction : null;\n\t\t\tlet actualStr = actual ? Modes.IndentAction[actual] : null;\n\t\t\tlet expectedStr = expected ? Modes.IndentAction[expected] : null;\n\t\t\tassert.equal(actualStr, expectedStr, 'TEXT: <<' + text + '>>, OFFSET: <<' + offset + '>>');\n\t\t}\n\n\t\tassertOnEnter('', 0, null);\n\t\tassertOnEnter('>', 1, null);\n\t\tassertOnEnter('span>', 5, null);\n\t\tassertOnEnter('</span>', 7, null);\n\t\tassertOnEnter('<img />', 7, null);\n\t\tassertOnEnter('<span>', 6, Modes.IndentAction.Indent);\n\t\tassertOnEnter('<p>', 3, Modes.IndentAction.Indent);\n\t\tassertOnEnter('<span><span>', 6, Modes.IndentAction.Indent);\n\t\tassertOnEnter('<p><span>', 3, Modes.IndentAction.Indent);\n\t\tassertOnEnter('<span></SPan>', 6, Modes.IndentAction.IndentOutdent);\n\t\tassertOnEnter('<span></span>', 6, Modes.IndentAction.IndentOutdent);\n\t\tassertOnEnter('<p></p>', 3, Modes.IndentAction.IndentOutdent);\n\t\tassertOnEnter('<span>a</span>', 6, Modes.IndentAction.Indent);\n\t\tassertOnEnter('<span>a</span>', 7, Modes.IndentAction.IndentOutdent);\n\t\tassertOnEnter('<span> </span>', 6, Modes.IndentAction.Indent);\n\t\tassertOnEnter('<span> </span>', 7, Modes.IndentAction.IndentOutdent);\n\t});\n\n\ttest('matchBracket', () => {\n\n\t\tfunction toString(brackets:EditorCommon.IEditorRange[]): string[] {\n\t\t\tif (!brackets) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tbrackets.sort(Range.compareRangesUsingStarts);\n\t\t\treturn brackets.map(b => b.toString());\n\t\t}\n\n\t\tfunction assertBracket(lines:string[], lineNumber:number, column:number, expected:EditorCommon.IEditorRange[]): void {\n\t\t\tlet model = new TextModelWithTokens([], TextModel.toRawText(lines.join('\\n'), TextModel.DEFAULT_CREATION_OPTIONS), false, _mode);\n\t\t\t// force tokenization\n\t\t\tmodel.getLineContext(model.getLineCount());\n\t\t\tlet actual = model.matchBracket({\n\t\t\t\tlineNumber: lineNumber,\n\t\t\t\tcolumn: column\n\t\t\t});\n\t\t\tlet actualStr = actual ? toString(actual.brackets) : null;\n\t\t\tlet expectedStr = toString(expected);\n\t\t\tassert.deepEqual(actualStr, expectedStr, 'TEXT <<' + lines.join('\\n') + '>>, POS: ' + lineNumber + ', ' + column);\n\t\t}\n\n\t\tassertBracket(['<p></p>'], 1, 1, [new Range(1, 1, 1, 2), new Range(1, 3, 1, 4)]);\n\t\tassertBracket(['<p></p>'], 1, 2, [new Range(1, 1, 1, 2), new Range(1, 3, 1, 4)]);\n\t\tassertBracket(['<p></p>'], 1, 3, [new Range(1, 1, 1, 2), new Range(1, 3, 1, 4)]);\n\t\tassertBracket(['<p></p>'], 1, 4, [new Range(1, 1, 1, 2), new Range(1, 3, 1, 4)]);\n\t\tassertBracket(['<p></p>'], 1, 5, [new Range(1, 4, 1, 5), new Range(1, 7, 1, 8)]);\n\t\tassertBracket(['<p></p>'], 1, 6, null);\n\t\tassertBracket(['<p></p>'], 1, 7, [new Range(1, 4, 1, 5), new Range(1, 7, 1, 8)]);\n\t\tassertBracket(['<p></p>'], 1, 8, [new Range(1, 4, 1, 5), new Range(1, 7, 1, 8)]);\n\n\t\tassertBracket(['<script>a[a</script>a[a<script>a]a'], 1, 10, [new Range(1, 10, 1, 11), new Range(1, 33, 1, 34)]);\n\t\tassertBracket(['<script>a[a</script>a[a<script>a]a'], 1, 11, [new Range(1, 10, 1, 11), new Range(1, 33, 1, 34)]);\n\t\tassertBracket(['<script>a[a</script>a[a<script>a]a'], 1, 22, null);\n\t\tassertBracket(['<script>a[a</script>a[a<script>a]a'], 1, 23, null);\n\t\tassertBracket(['<script>a[a</script>a[a<script>a]a'], 1, 33, [new Range(1, 10, 1, 11), new Range(1, 33, 1, 34)]);\n\t\tassertBracket(['<script>a[a</script>a[a<script>a]a'], 1, 34, [new Range(1, 10, 1, 11), new Range(1, 33, 1, 34)]);\n\n\t\tassertBracket(['<script>a[a</script>a]a<script>a]a'], 1, 10, [new Range(1, 10, 1, 11), new Range(1, 33, 1, 34)]);\n\t\tassertBracket(['<script>a[a</script>a]a<script>a]a'], 1, 11, [new Range(1, 10, 1, 11), new Range(1, 33, 1, 34)]);\n\t\tassertBracket(['<script>a[a</script>a]a<script>a]a'], 1, 22, null);\n\t\tassertBracket(['<script>a[a</script>a]a<script>a]a'], 1, 23, null);\n\t\tassertBracket(['<script>a[a</script>a]a<script>a]a'], 1, 33, [new Range(1, 10, 1, 11), new Range(1, 33, 1, 34)]);\n\t\tassertBracket(['<script>a[a</script>a]a<script>a]a'], 1, 34, [new Range(1, 10, 1, 11), new Range(1, 33, 1, 34)]);\n\t});\n});\n"]}