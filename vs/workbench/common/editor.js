var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};define(["require","exports","vs/base/common/winjs.base","vs/base/common/eventEmitter","vs/base/common/event","vs/base/common/types","vs/base/common/uri","vs/base/common/events"],function(e,t,n,i,o,r,s,u){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function p(e,t){if(!e)return null;if(e instanceof v)return e.getResource();var n=a(e,t);return n&&n&&n.getResource()}function c(e){if(e&&"function"==typeof e.getResource){var t=e.getResource();if(t instanceof s["default"])return t}return p(e,!0)}function d(e,t){var n=[];return e.getStacksModel().groups.forEach(function(e){var i=e.getEditors();i.forEach(function(e){var i=a(e,!0);i&&!t.isInsideWorkspace(i.getResource())&&n.push(i.getResource())})}),n}function a(e,t){if(!e)return null;t&&e instanceof h&&(e=e.modifiedInput);var n=e;return n instanceof f&&r.areFunctions(n.setResource,n.setMime,n.setEncoding,n.getEncoding,n.getResource,n.getMime)?n:null}!function(e){e[e.SAVE=0]="SAVE",e[e.DONT_SAVE=1]="DONT_SAVE",e[e.CANCEL=2]="CANCEL"}(t.ConfirmResult||(t.ConfirmResult={}));var l=t.ConfirmResult;t.Extensions={Editors:"workbench.contributions.editors"};var f=function(e){function t(){e.call(this),this._onDidChangeDirty=new o.Emitter,this.disposed=!1}return __extends(t,e),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),t.prototype.getName=function(){return null},t.prototype.getDescription=function(e){return null},t.prototype.getPreferredEditorId=function(e){return e&&e.length>0?e[0]:null},t.prototype.isDirty=function(){return!1},t.prototype.confirmSave=function(){return l.DONT_SAVE},t.prototype.save=function(){return n.TPromise.as(!0)},t.prototype.revert=function(){return n.TPromise.as(!0)},t.prototype.close=function(){this.dispose()},t.prototype.supportsSplitEditor=function(){return!0},t.prototype.matches=function(e){return this===e},t.prototype.dispose=function(){this._onDidChangeDirty.dispose(),this.disposed=!0,this.emit("dispose"),e.prototype.dispose.call(this)},t.prototype.isDisposed=function(){return this.disposed},t}(i.EventEmitter);t.EditorInput=f;var m=function(e){function t(t){e.call(this,null),this._editorInput=t}return __extends(t,e),Object.defineProperty(t.prototype,"editorInput",{get:function(){return this._editorInput},enumerable:!0,configurable:!0}),t.prototype.prevent=function(){this.prevented=!0},t.prototype.isPrevented=function(){return this.prevented},t}(u.Event);t.EditorInputEvent=m,function(e){e[e.Encode=0]="Encode",e[e.Decode=1]="Decode"}(t.EncodingMode||(t.EncodingMode={}));var v=(t.EncodingMode,function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(f));t.UntitledEditorInput=v;var h=function(e){function t(t,n){e.call(this),this._originalInput=t,this._modifiedInput=n}return __extends(t,e),Object.defineProperty(t.prototype,"originalInput",{get:function(){return this._originalInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedInput",{get:function(){return this._modifiedInput},enumerable:!0,configurable:!0}),t.prototype.isDirty=function(){return this._modifiedInput.isDirty()},t.prototype.confirmSave=function(){return this._modifiedInput.confirmSave()},t.prototype.save=function(){return this._modifiedInput.save()},t.prototype.revert=function(){return this._modifiedInput.revert()},t}(f);t.BaseDiffEditorInput=h;var b=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.load=function(){return n.TPromise.as(this)},t.prototype.isResolved=function(){return!0},t.prototype.dispose=function(){this.emit("dispose"),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.EditorModel=b;var y=function(){function e(){}return e.create=function(t){var n=new e;return n.preserveFocus=t.preserveFocus,n.forceOpen=t.forceOpen,n.revealIfVisible=t.revealIfVisible,n.pinned=t.pinned,n.index=t.index,n.inactive=t.inactive,n},e.prototype.mixin=function(e){this.preserveFocus=e.preserveFocus,this.forceOpen=e.forceOpen,this.revealIfVisible=e.revealIfVisible,this.pinned=e.pinned,this.index=e.index},e}();t.EditorOptions=y;var E=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.from=function(e){var n=null;if(e&&e.options){if((e.options.selection||e.options.forceOpen||e.options.revealIfVisible||e.options.preserveFocus||e.options.pinned||e.options.inactive||"number"==typeof e.options.index)&&(n=new t),e.options.selection){var i=e.options.selection;n.selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)}e.options.forceOpen&&(n.forceOpen=!0),e.options.revealIfVisible&&(n.revealIfVisible=!0),e.options.preserveFocus&&(n.preserveFocus=!0),e.options.pinned&&(n.pinned=!0),e.options.inactive&&(n.inactive=!0),"number"==typeof e.options.index&&(n.index=e.options.index)}return n},t.create=function(e){var n=new t;return n.preserveFocus=e.preserveFocus,n.forceOpen=e.forceOpen,n.revealIfVisible=e.revealIfVisible,n.pinned=e.pinned,n.index=e.index,e.selection&&(n.startLineNumber=e.selection.startLineNumber,n.startColumn=e.selection.startColumn,n.endLineNumber=e.selection.endLineNumber||e.selection.startLineNumber,n.endColumn=e.selection.endColumn||e.selection.startColumn),n},t.prototype.hasOptionsDefined=function(){return!!this.editorViewState||!r.isUndefinedOrNull(this.startLineNumber)&&!r.isUndefinedOrNull(this.startColumn)},t.prototype.selection=function(e,t,n,i){return void 0===n&&(n=e),void 0===i&&(i=t),this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i,this},t.prototype.viewState=function(e){this.editorViewState=e},t.prototype.apply=function(e){var t=!1;if(this.editorViewState)e.restoreViewState(this.editorViewState),t=!0;else if(!r.isUndefinedOrNull(this.startLineNumber)&&!r.isUndefinedOrNull(this.startColumn)){if(r.isUndefinedOrNull(this.endLineNumber)||r.isUndefinedOrNull(this.endColumn)){var n={lineNumber:this.startLineNumber,column:this.startColumn};e.setPosition(n),e.revealPositionInCenter(n)}else{var i={startLineNumber:this.startLineNumber,startColumn:this.startColumn,endLineNumber:this.endLineNumber,endColumn:this.endColumn};e.setSelection(i),e.revealRangeInCenter(i)}t=!0}return t},t}(y);t.TextEditorOptions=E;var g=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.create=function(e){var n=new t;return n.autoRevealFirstChange=e.autoRevealFirstChange,n.preserveFocus=e.preserveFocus,n.forceOpen=e.forceOpen,n.revealIfVisible=e.revealIfVisible,n.pinned=e.pinned,n.index=e.index,e.selection&&(n.startLineNumber=e.selection.startLineNumber,n.startColumn=e.selection.startColumn,n.endLineNumber=e.selection.endLineNumber||e.selection.startLineNumber,n.endColumn=e.selection.endColumn||e.selection.startColumn),n},t}(E);t.TextDiffEditorOptions=g,t.getUntitledOrFileResource=p,t.getResource=c,t.getOutOfWorkspaceEditorResources=d,t.asFileEditorInput=a,t.EditorOpenPositioning={LEFT:"left",RIGHT:"right",FIRST:"first",LAST:"last"},t.ActiveEditorMovePositioning={FIRST:"first",LAST:"last",LEFT:"left",RIGHT:"right",CENTER:"center",POSITION:"position"},t.ActiveEditorMovePositioningBy={TAB:"tab",GROUP:"group"},t.EditorCommands={MoveActiveEditor:"moveActiveEditor"}});