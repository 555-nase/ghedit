var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},__decorate=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__param=this&&this.__param||function(t,e){return function(i,o){e(i,o,t)}};define(["require","exports","vs/base/common/winjs.base","vs/base/common/mime","vs/workbench/common/editor","vs/workbench/common/editor/stringEditorModel","vs/platform/instantiation/common/instantiation"],function(t,e,i,o,n,r,s){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var c=function(t){function e(e,i,n,r,s,c){t.call(this),this.instantiationService=c,this.name=e,this.description=i,this.value=n,this.mime=r||o.MIME_TEXT,this.singleton=s}return __extends(e,t),e.prototype.getResource=function(){return null},e.prototype.getTypeId=function(){return e.ID},e.prototype.getName=function(){return this.name},e.prototype.getDescription=function(){return this.description},e.prototype.getValue=function(){return this.value},e.prototype.getMime=function(){return this.mime},e.prototype.setValue=function(t){this.value=t,this.cachedModel&&this.cachedModel.setValue(t)},e.prototype.clearValue=function(){this.value="",this.cachedModel&&this.cachedModel.clearValue()},e.prototype.append=function(t){this.value+=t,this.cachedModel&&this.cachedModel.append(t)},e.prototype.trim=function(t){if(this.cachedModel){var e=this.cachedModel.trim(t);if(null!==e)return this.value=e,this.value}return null},e.prototype.resolve=function(t){var e=this;if(this.cachedModel)return i.TPromise.as(this.cachedModel);var o=this.instantiationService.createInstance(r.StringEditorModel,this.value,this.mime,this.getResource());return o.load().then(function(t){return e.cachedModel=t,e.cachedModel})},e.prototype.matches=function(i){if(t.prototype.matches.call(this,i)===!0)return!0;if(i instanceof e){var o=i;if(o.singleton&&this.singleton&&o.mime===this.mime)return!0;var n=this.getResource(),r=o.getResource();return n&&r?n.toString()===r.toString():o.value===this.value&&o.mime===this.mime&&o.description===this.description&&o.name===this.name}return!1},e.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),t.prototype.dispose.call(this)},e.ID="workbench.editors.stringEditorInput",e=__decorate([__param(5,s.IInstantiationService)],e)}(n.EditorInput);e.StringEditorInput=c});