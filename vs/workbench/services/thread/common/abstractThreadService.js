define(["require","exports"],function(t,r){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var e=function(){function t(t){this._proxies=Object.create(null),this._isMain=t,this._locals=Object.create(null),this._proxies=Object.create(null)}return t.prototype.handle=function(t,r,e){if(!this._locals[t])throw new Error("Unknown actor "+t);var o=this._locals[t],i=o[r];if("function"!=typeof i)throw new Error("Unknown method "+r+" on actor "+t);return i.apply(o,e)},t.prototype.get=function(t){return this._proxies[t.id]||(this._proxies[t.id]=this._createProxy(t.id,t.methodNames)),this._proxies[t.id]},t.prototype._createProxy=function(t,r){for(var e={},o=0;o<r.length;o++){var i=r[o];e[i]=this.createMethodProxy(t,i)}return e},t.prototype.createMethodProxy=function(t,r){var e=this;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i-0]=arguments[i];return e._callOnRemote(t,r,o)}},t.prototype.set=function(t,r){if(t.isMain!==this._isMain)throw new Error("Mismatch in object registration!");this._locals[t.id]=r},t}();r.AbstractThreadService=e});