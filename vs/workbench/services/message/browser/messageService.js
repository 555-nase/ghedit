define(["require","exports","vs/base/common/errors","vs/base/common/types","vs/base/browser/ui/messagelist/messageList","vs/workbench/common/constants","vs/platform/message/common/message"],function(e,s,r,t,n,o,i){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var a=function(){function e(e){this.telemetryService=e,this.handler=new n.MessageList(o.Identifiers.WORKBENCH_CONTAINER,e),this.messageBuffer=[],this.canShowMessages=!0,this.disposeables=[]}return Object.defineProperty(e.prototype,"onMessagesShowing",{get:function(){return this.handler.onMessagesShowing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMessagesCleared",{get:function(){return this.handler.onMessagesCleared},enumerable:!0,configurable:!0}),e.prototype.suspend=function(){this.canShowMessages=!1,this.handler.hide()},e.prototype.resume=function(){for(this.canShowMessages=!0,this.handler.show();this.messageBuffer.length;){var e=this.messageBuffer.pop();e.disposeFn=this.show(e.severity,e.message)}},e.prototype.toBaseSeverity=function(e){switch(e){case i.Severity.Info:return n.Severity.Info;case i.Severity.Warning:return n.Severity.Warning}return n.Severity.Error},e.prototype.show=function(e,s){var n=this;if(!s)return function(){};if(Array.isArray(s)){var o=[];return s.forEach(function(s){return o.push(n.show(e,s))}),function(){return o.forEach(function(e){return e()})}}return r.isPromiseCanceledError(s)?function(){}:(t.isNumber(s.severity)&&(e=s.severity),this.doShow(e,s))},e.prototype.doShow=function(e,s){var t=this;if(!this.canShowMessages){var n={severity:e,message:s,disposeFn:function(){return t.messageBuffer.splice(t.messageBuffer.indexOf(n),1)}};return this.messageBuffer.push(n),function(){return n.disposeFn()}}return e===i.Severity.Error&&console.error(r.toErrorMessage(s,!0)),this.handler.showMessage(this.toBaseSeverity(e),s)},e.prototype.hideAll=function(){this.handler&&this.handler.hideMessages()},e.prototype.confirm=function(e){var s=e.message;return e.detail&&(s=s+"\n\n"+e.detail),window.confirm(s)},e.prototype.dispose=function(){for(;this.disposeables.length;)this.disposeables.pop().dispose()},e}();s.WorkbenchMessageService=a});