/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
define(["require","exports","vs/platform/instantiation/common/instantiation","vs/base/common/event","electron"],function(t,e,n,o,r){"use strict";var i=r.remote.getCurrentWindow().id;e.IWindowService=n.createDecorator("windowService");var c=function(){function t(){this._onBroadcast=new o.Emitter,this.windowId=i,this.registerListeners()}return t.prototype.registerListeners=function(){var t=this;r.ipcRenderer.on("vscode:broadcast",function(e,n){t._onBroadcast.fire(n)})},Object.defineProperty(t.prototype,"onBroadcast",{get:function(){return this._onBroadcast.event},enumerable:!0,configurable:!0}),t.prototype.getWindowId=function(){return this.windowId},t.prototype.getWindow=function(){return this.win},t.prototype.registerWindow=function(t){this.win=t},t.prototype.broadcast=function(t,e){r.ipcRenderer.send("vscode:broadcast",this.getWindowId(),e,{channel:t.channel,payload:t.payload})},t}();e.WindowService=c});