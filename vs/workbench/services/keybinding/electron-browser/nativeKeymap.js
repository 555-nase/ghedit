var __extends=this&&this.__extends||function(e,K){function o(){this.constructor=e}for(var E in K)K.hasOwnProperty(E)&&(e[E]=K[E]);e.prototype=null===K?Object.create(K):(o.prototype=K.prototype,new o)};define(["require","exports","native-keymap","vs/base/common/keyCodes","vs/base/browser/keyboardEvent","vs/base/common/platform"],function(e,K,o,E,_,n){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function C(){if(!i){var e=Y();i=new u(e)}return i}function y(){if(!A){var e=Y();A=n.isMacintosh?new l(e):new O(e)}return A}function Y(){if(!M){var e={VKEY_OEM_1:!0,VKEY_OEM_PLUS:!0,VKEY_OEM_COMMA:!0,VKEY_OEM_MINUS:!0,VKEY_OEM_PERIOD:!0,VKEY_OEM_2:!0,VKEY_OEM_3:!0,VKEY_OEM_4:!0,VKEY_OEM_5:!0,VKEY_OEM_6:!0,VKEY_OEM_7:!0,VKEY_OEM_8:!0,VKEY_OEM_102:!0};M=[];for(var K=0,o=E.KeyCode.MAX_VALUE;K<o;K++)M[K]=null;for(var _=d(),n=!1,K=0,o=_.length;K<o;K++){var C=_[K];if(e[C.key_code]){var y=C.value||C.withShift;y.length>0&&(n=!0,M[r[C.key_code]]=y)}}if(n)for(var Y in e)if(e.hasOwnProperty(Y)){var V=r[Y];M[V]=M[V]||""}}return M}var d=function(){var e,K=!1;return function(){return K||(K=!0,e=o.getKeyMap()),e}}(),r={VKEY_BACK:E.KeyCode.Backspace,VKEY_TAB:E.KeyCode.Tab,VKEY_CLEAR:E.KeyCode.Unknown,VKEY_RETURN:E.KeyCode.Enter,VKEY_SHIFT:E.KeyCode.Shift,VKEY_CONTROL:E.KeyCode.Ctrl,VKEY_MENU:E.KeyCode.Alt,VKEY_PAUSE:E.KeyCode.PauseBreak,VKEY_CAPITAL:E.KeyCode.CapsLock,VKEY_KANA:E.KeyCode.Unknown,VKEY_HANGUL:E.KeyCode.Unknown,VKEY_JUNJA:E.KeyCode.Unknown,VKEY_FINAL:E.KeyCode.Unknown,VKEY_HANJA:E.KeyCode.Unknown,VKEY_KANJI:E.KeyCode.Unknown,VKEY_ESCAPE:E.KeyCode.Escape,VKEY_CONVERT:E.KeyCode.Unknown,VKEY_NONCONVERT:E.KeyCode.Unknown,VKEY_ACCEPT:E.KeyCode.Unknown,VKEY_MODECHANGE:E.KeyCode.Unknown,VKEY_SPACE:E.KeyCode.Space,VKEY_PRIOR:E.KeyCode.PageUp,VKEY_NEXT:E.KeyCode.PageDown,VKEY_END:E.KeyCode.End,VKEY_HOME:E.KeyCode.Home,VKEY_LEFT:E.KeyCode.LeftArrow,VKEY_UP:E.KeyCode.UpArrow,VKEY_RIGHT:E.KeyCode.RightArrow,VKEY_DOWN:E.KeyCode.DownArrow,VKEY_SELECT:E.KeyCode.Unknown,VKEY_PRINT:E.KeyCode.Unknown,VKEY_EXECUTE:E.KeyCode.Unknown,VKEY_SNAPSHOT:E.KeyCode.Unknown,VKEY_INSERT:E.KeyCode.Insert,VKEY_DELETE:E.KeyCode.Delete,VKEY_HELP:E.KeyCode.Unknown,VKEY_0:E.KeyCode.KEY_0,VKEY_1:E.KeyCode.KEY_1,VKEY_2:E.KeyCode.KEY_2,VKEY_3:E.KeyCode.KEY_3,VKEY_4:E.KeyCode.KEY_4,VKEY_5:E.KeyCode.KEY_5,VKEY_6:E.KeyCode.KEY_6,VKEY_7:E.KeyCode.KEY_7,VKEY_8:E.KeyCode.KEY_8,VKEY_9:E.KeyCode.KEY_9,VKEY_A:E.KeyCode.KEY_A,VKEY_B:E.KeyCode.KEY_B,VKEY_C:E.KeyCode.KEY_C,VKEY_D:E.KeyCode.KEY_D,VKEY_E:E.KeyCode.KEY_E,VKEY_F:E.KeyCode.KEY_F,VKEY_G:E.KeyCode.KEY_G,VKEY_H:E.KeyCode.KEY_H,VKEY_I:E.KeyCode.KEY_I,VKEY_J:E.KeyCode.KEY_J,VKEY_K:E.KeyCode.KEY_K,VKEY_L:E.KeyCode.KEY_L,VKEY_M:E.KeyCode.KEY_M,VKEY_N:E.KeyCode.KEY_N,VKEY_O:E.KeyCode.KEY_O,VKEY_P:E.KeyCode.KEY_P,VKEY_Q:E.KeyCode.KEY_Q,VKEY_R:E.KeyCode.KEY_R,VKEY_S:E.KeyCode.KEY_S,VKEY_T:E.KeyCode.KEY_T,VKEY_U:E.KeyCode.KEY_U,VKEY_V:E.KeyCode.KEY_V,VKEY_W:E.KeyCode.KEY_W,VKEY_X:E.KeyCode.KEY_X,VKEY_Y:E.KeyCode.KEY_Y,VKEY_Z:E.KeyCode.KEY_Z,VKEY_LWIN:E.KeyCode.Meta,VKEY_COMMAND:E.KeyCode.Meta,VKEY_RWIN:E.KeyCode.Meta,VKEY_APPS:E.KeyCode.Unknown,VKEY_SLEEP:E.KeyCode.Unknown,VKEY_NUMPAD0:E.KeyCode.NUMPAD_0,VKEY_NUMPAD1:E.KeyCode.NUMPAD_1,VKEY_NUMPAD2:E.KeyCode.NUMPAD_2,VKEY_NUMPAD3:E.KeyCode.NUMPAD_3,VKEY_NUMPAD4:E.KeyCode.NUMPAD_4,VKEY_NUMPAD5:E.KeyCode.NUMPAD_5,VKEY_NUMPAD6:E.KeyCode.NUMPAD_6,VKEY_NUMPAD7:E.KeyCode.NUMPAD_7,VKEY_NUMPAD8:E.KeyCode.NUMPAD_8,VKEY_NUMPAD9:E.KeyCode.NUMPAD_9,VKEY_MULTIPLY:E.KeyCode.NUMPAD_MULTIPLY,VKEY_ADD:E.KeyCode.NUMPAD_ADD,VKEY_SEPARATOR:E.KeyCode.NUMPAD_SEPARATOR,VKEY_SUBTRACT:E.KeyCode.NUMPAD_SUBTRACT,VKEY_DECIMAL:E.KeyCode.NUMPAD_DECIMAL,VKEY_DIVIDE:E.KeyCode.NUMPAD_DIVIDE,VKEY_F1:E.KeyCode.F1,VKEY_F2:E.KeyCode.F2,VKEY_F3:E.KeyCode.F3,VKEY_F4:E.KeyCode.F4,VKEY_F5:E.KeyCode.F5,VKEY_F6:E.KeyCode.F6,VKEY_F7:E.KeyCode.F7,VKEY_F8:E.KeyCode.F8,VKEY_F9:E.KeyCode.F9,VKEY_F10:E.KeyCode.F10,VKEY_F11:E.KeyCode.F11,VKEY_F12:E.KeyCode.F12,VKEY_F13:E.KeyCode.F13,VKEY_F14:E.KeyCode.F14,VKEY_F15:E.KeyCode.F15,VKEY_F16:E.KeyCode.F16,VKEY_F17:E.KeyCode.F17,VKEY_F18:E.KeyCode.F18,VKEY_F19:E.KeyCode.F19,VKEY_F20:E.KeyCode.Unknown,VKEY_F21:E.KeyCode.Unknown,VKEY_F22:E.KeyCode.Unknown,VKEY_F23:E.KeyCode.Unknown,VKEY_F24:E.KeyCode.Unknown,VKEY_NUMLOCK:E.KeyCode.NumLock,VKEY_SCROLL:E.KeyCode.ScrollLock,VKEY_LSHIFT:E.KeyCode.Shift,VKEY_RSHIFT:E.KeyCode.Shift,VKEY_LCONTROL:E.KeyCode.Ctrl,VKEY_RCONTROL:E.KeyCode.Ctrl,VKEY_LMENU:E.KeyCode.Unknown,VKEY_RMENU:E.KeyCode.Unknown,VKEY_BROWSER_BACK:E.KeyCode.Unknown,VKEY_BROWSER_FORWARD:E.KeyCode.Unknown,VKEY_BROWSER_REFRESH:E.KeyCode.Unknown,VKEY_BROWSER_STOP:E.KeyCode.Unknown,VKEY_BROWSER_SEARCH:E.KeyCode.Unknown,VKEY_BROWSER_FAVORITES:E.KeyCode.Unknown,VKEY_BROWSER_HOME:E.KeyCode.Unknown,VKEY_VOLUME_MUTE:E.KeyCode.Unknown,VKEY_VOLUME_DOWN:E.KeyCode.Unknown,VKEY_VOLUME_UP:E.KeyCode.Unknown,VKEY_MEDIA_NEXT_TRACK:E.KeyCode.Unknown,VKEY_MEDIA_PREV_TRACK:E.KeyCode.Unknown,VKEY_MEDIA_STOP:E.KeyCode.Unknown,VKEY_MEDIA_PLAY_PAUSE:E.KeyCode.Unknown,VKEY_MEDIA_LAUNCH_MAIL:E.KeyCode.Unknown,VKEY_MEDIA_LAUNCH_MEDIA_SELECT:E.KeyCode.Unknown,VKEY_MEDIA_LAUNCH_APP1:E.KeyCode.Unknown,VKEY_MEDIA_LAUNCH_APP2:E.KeyCode.Unknown,VKEY_OEM_1:E.KeyCode.US_SEMICOLON,VKEY_OEM_PLUS:E.KeyCode.US_EQUAL,VKEY_OEM_COMMA:E.KeyCode.US_COMMA,VKEY_OEM_MINUS:E.KeyCode.US_MINUS,VKEY_OEM_PERIOD:E.KeyCode.US_DOT,VKEY_OEM_2:E.KeyCode.US_SLASH,VKEY_OEM_3:E.KeyCode.US_BACKTICK,VKEY_OEM_4:E.KeyCode.US_OPEN_SQUARE_BRACKET,VKEY_OEM_5:E.KeyCode.US_BACKSLASH,VKEY_OEM_6:E.KeyCode.US_CLOSE_SQUARE_BRACKET,VKEY_OEM_7:E.KeyCode.US_QUOTE,VKEY_OEM_8:E.KeyCode.OEM_8,VKEY_OEM_102:E.KeyCode.OEM_102,VKEY_PROCESSKEY:E.KeyCode.Unknown,VKEY_PACKET:E.KeyCode.Unknown,VKEY_DBE_SBCSCHAR:E.KeyCode.Unknown,VKEY_DBE_DBCSCHAR:E.KeyCode.Unknown,VKEY_ATTN:E.KeyCode.Unknown,VKEY_CRSEL:E.KeyCode.Unknown,VKEY_EXSEL:E.KeyCode.Unknown,VKEY_EREOF:E.KeyCode.Unknown,VKEY_PLAY:E.KeyCode.Unknown,VKEY_ZOOM:E.KeyCode.Unknown,VKEY_NONAME:E.KeyCode.Unknown,VKEY_PA1:E.KeyCode.Unknown,VKEY_OEM_CLEAR:E.KeyCode.Unknown,VKEY_UNKNOWN:E.KeyCode.Unknown,VKEY_ALTGR:E.KeyCode.Unknown},V=[{"char":";",virtualKeyCode:186},{"char":":",virtualKeyCode:186},{"char":"=",virtualKeyCode:187},{"char":"+",virtualKeyCode:187},{"char":",",virtualKeyCode:188},{"char":"<",virtualKeyCode:188},{"char":"-",virtualKeyCode:189},{"char":"_",virtualKeyCode:189},{"char":".",virtualKeyCode:190},{"char":">",virtualKeyCode:190},{"char":"/",virtualKeyCode:191},{"char":"?",virtualKeyCode:191},{"char":"`",virtualKeyCode:192},{"char":"~",virtualKeyCode:192},{"char":"[",virtualKeyCode:219},{"char":"{",virtualKeyCode:219},{"char":"\\",virtualKeyCode:220},{"char":"|",virtualKeyCode:220},{"char":"]",virtualKeyCode:221},{"char":"}",virtualKeyCode:221},{"char":"'",virtualKeyCode:222},{"char":'"',virtualKeyCode:222}],t=Object.create(null);V.forEach(function(e){return t[e["char"]]=!0});var a=Object.create(null);V.forEach(function(e){return a[e.virtualKeyCode]=!0});var U=function(){var e=null;return function(){if(!e){e=Object.create(null);for(var K=d(),o=0,_=K.length;o<_;o++){var n=K[o];if(n.value&&t[n.value]){var C=r[n.key_code];C&&C!==E.KeyCode.Unknown&&(!e[n.value]||e[n.value]>C)&&(e[n.value]=C)}if(n.withShift&&t[n.withShift]){var C=r[n.key_code];C&&C!==E.KeyCode.Unknown&&(!e[n.withShift]||e[n.withShift]>C)&&(e[n.withShift]=C)}}}return e}}();_.setExtractKeyCode(function(e){if(e.charCode){var K=String.fromCharCode(e.charCode).toUpperCase();return E.KeyCode.fromString(K)}if(n.isMacintosh&&a[e.keyCode]&&"string"==typeof e.keyIdentifier){var o=e.keyIdentifier,C=o.substr(2);try{var y=parseInt(C,16),K=String.fromCharCode(y),Y=U();if(Y[K])return Y[K]}catch(d){}}return _.lookupKeyCode(e)});var i=null;K.getNativeAriaLabelProvider=C;var A=null;K.getNativeLabelProvider=y;var M=null,l=function(e){function K(K){e.call(this),this.remaps=K}return __extends(K,e),K.prototype.getLabelForKey=function(K){return null!==this.remaps[K]?this.remaps[K]:e.prototype.getLabelForKey.call(this,K)},K}(E.MacUIKeyLabelProvider),O=function(e){function K(K){e.call(this),this.remaps=K}return __extends(K,e),K.prototype.getLabelForKey=function(K){return null!==this.remaps[K]?this.remaps[K]:e.prototype.getLabelForKey.call(this,K)},K}(E.ClassicUIKeyLabelProvider),u=function(e){function K(K){e.call(this),this.remaps=K}return __extends(K,e),K.prototype.getLabelForKey=function(K){return null!==this.remaps[K]?this.remaps[K]:e.prototype.getLabelForKey.call(this,K)},K}(E.AriaKeyLabelProvider)});