var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};define(["require","exports","vs/base/common/winjs.base","./extHost.protocol"],function(t,e,n,o){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var i=function(t){function e(e){t.call(this),this._proxy=e.get(o.MainContext.MainThreadQuickOpen)}return __extends(e,t),e.prototype.show=function(t,e){var o=this;this._onDidSelectItem=void 0;var i;i=Array.isArray(t)?n.TPromise.as(t):t;var r=this._proxy.$show({autoFocus:{autoFocusFirstEntry:!0},placeHolder:e&&e.placeHolder,matchOnDescription:e&&e.matchOnDescription,matchOnDetail:e&&e.matchOnDetail});return i.then(function(t){for(var n=[],i=0;i<t.length;i++){var a=t[i],s=void 0,p=void 0,c=void 0;"string"==typeof a?s=a:(s=a.label,p=a.description,c=a.detail),n.push({label:s,description:p,handle:i,detail:c})}return e&&"function"==typeof e.onDidSelectItem&&(o._onDidSelectItem=function(n){e.onDidSelectItem(t[n])}),o._proxy.$setItems(n),r.then(function(e){if("number"==typeof e)return t[e]})},function(t){return o._proxy.$setError(t),n.TPromise.wrapError(t)})},e.prototype.$onItemSelected=function(t){this._onDidSelectItem&&this._onDidSelectItem(t)},e.prototype.input=function(t){return this._validateInput=t&&t.validateInput,this._proxy.$input(t,t&&"function"==typeof t.validateInput)},e.prototype.$validateInput=function(t){if(this._validateInput)return n.TPromise.as(this._validateInput(t))},e}(o.ExtHostQuickOpenShape);e.ExtHostQuickOpen=i});