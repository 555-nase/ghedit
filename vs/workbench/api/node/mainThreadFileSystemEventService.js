var __decorate=this&&this.__decorate||function(e,t,r,n){var c,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(c=e[s])&&(o=(a<3?c(o):a>3?c(t,r,o):c(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},__param=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};define(["require","exports","vs/platform/files/common/files","vs/workbench/services/thread/common/threadService","vs/platform/event/common/event","vs/base/common/async","./extHost.protocol"],function(e,t,r,n,c,a,o){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var s=function(){function e(e,t){var n=t.get(o.ExtHostContext.ExtHostFileSystemEventService),c={created:[],changed:[],deleted:[]},s=new a.RunOnceScheduler(function(){n.$onFileEvent(c),c.created.length=0,c.changed.length=0,c.deleted.length=0},100);e.addListener2("files:fileChanges",function(e){for(var t=0,n=e.changes;t<n.length;t++){var a=n[t];switch(a.type){case r.FileChangeType.ADDED:c.created.push(a.resource);break;case r.FileChangeType.UPDATED:c.changed.push(a.resource);break;case r.FileChangeType.DELETED:c.deleted.push(a.resource)}}s.schedule()})}return e=__decorate([__param(0,c.IEventService),__param(1,n.IThreadService)],e)}();t.MainThreadFileSystemEventService=s});