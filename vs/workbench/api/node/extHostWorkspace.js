define(["require","exports","vs/workbench/api/node/extHostTypeConverters","./extHost.protocol"],function(t,e,r,o){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var n=function(){function t(t,e){this._proxy=t.get(o.MainContext.MainThreadWorkspace),this._workspacePath=e}return t.prototype.getPath=function(){return this._workspacePath},t.prototype.getRelativePath=function(t){var e;return e="string"==typeof t?t:t.fsPath,this._workspacePath&&this._workspacePath.length<e.length?e.substring(this._workspacePath.length):e},t.prototype.findFiles=function(e,r,o,n){var a=this,s=t._requestIdPool++,i=this._proxy.$startSearch(e,r,o,s);return n&&n.onCancellationRequested(function(){return a._proxy.$cancelSearch(s)}),i},t.prototype.saveAll=function(t){return this._proxy.$saveAll(t)},t.prototype.appyEdit=function(t){for(var e=[],o=t.entries(),n=0,a=o;n<a.length;n++)for(var s=a[n],i=s[0],p=s[1],h=0,c=p;h<c.length;h++){var u=c[h];e.push({resource:i,newText:u.newText,range:r.fromRange(u.range)})}return this._proxy.$applyWorkspaceEdit(e)},t._requestIdPool=0,t}();e.ExtHostWorkspace=n});