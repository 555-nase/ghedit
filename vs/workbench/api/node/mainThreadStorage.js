var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__decorate=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,c=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(c=(n<3?a(c):n>3?a(t,r,c):a(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},__param=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};define(["require","exports","vs/base/common/winjs.base","vs/platform/storage/common/storage","./extHost.protocol"],function(e,t,r,o,a){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var n=function(e){function t(t){e.call(this),this._storageService=t}return __extends(t,e),t.prototype.$getValue=function(e,t){var a=this._storageService.get(t,e?o.StorageScope.GLOBAL:o.StorageScope.WORKSPACE);if(!a)return r.TPromise.as(void 0);var n;try{return n=JSON.parse(a),r.TPromise.as(n)}catch(c){return r.TPromise.wrapError(c)}},t.prototype.$setValue=function(e,t,a){var n;try{n=JSON.stringify(a),this._storageService.store(t,n,e?o.StorageScope.GLOBAL:o.StorageScope.WORKSPACE)}catch(c){return r.TPromise.wrapError(c)}},t=__decorate([__param(0,o.IStorageService)],t)}(a.MainThreadStorageShape);t.MainThreadStorage=n});