var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define(["require","exports","vs/base/common/paths","vs/base/common/parsers","vs/workbench/common/editor"],function(e,t,r,o,n){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var i=function(e){function t(t,o,n,i){var a=this;void 0===n&&(n=null),void 0===i&&(i=process.env),e.call(this),this.editorService=t;var c="";(n||o&&o.getWorkspace())&&(c=n?n.fsPath:o.getWorkspace().resource.fsPath),this._workspaceRoot=r.normalize(c,!0),this._execPath=o?o.getConfiguration().env.execPath:null,Object.keys(i).forEach(function(e){a["env."+e]=i[e]})}return __extends(t,e),Object.defineProperty(t.prototype,"execPath",{get:function(){return this._execPath},set:function(e){this._execPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cwd",{get:function(){return this.workspaceRoot},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceRoot",{get:function(){return this._workspaceRoot},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"file",{get:function(){return this.getFilePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeFile",{get:function(){return this.workspaceRoot?r.relative(this.workspaceRoot,this.file):this.file},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileBasename",{get:function(){return r.basename(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileDirname",{get:function(){return r.dirname(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileExtname",{get:function(){return r.extname(this.getFilePath())},enumerable:!0,configurable:!0}),t.prototype.getFilePath=function(){var e=this.editorService.getActiveEditorInput();if(!e)return"";var t=n.asFileEditorInput(e);if(!t)return"";var o=t.getResource();return r.normalize(o.fsPath,!0)},t}(o.AbstractSystemVariables);t.SystemVariables=i});