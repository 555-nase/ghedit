/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},__decorate=this&&this.__decorate||function(e,t,i,o){var r,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(n<3?r(s):n>3?r(t,i,s):r(t,i))||s);return n>3&&s&&Object.defineProperty(t,i,s),s},__param=this&&this.__param||function(e,t){return function(i,o){t(i,o,e)}};define(["require","exports","vs/base/common/uri","vs/workbench/browser/viewlet","vs/nls","vs/platform/actions/common/actions","vs/platform/platform","vs/platform/configuration/common/configurationRegistry","vs/workbench/common/actionRegistry","vs/workbench/common/contributions","vs/workbench/common/editor","vs/workbench/parts/files/browser/files","vs/platform/files/common/files","vs/workbench/parts/files/common/files","vs/workbench/parts/files/browser/fileTracker","vs/workbench/parts/files/common/editors/saveParticipant","vs/workbench/parts/files/common/editors/fileEditorInput","vs/workbench/parts/files/browser/editors/textFileEditor","vs/workbench/parts/files/browser/editors/binaryFileEditor","vs/platform/instantiation/common/descriptors","vs/workbench/services/viewlet/common/viewletService","vs/workbench/services/editor/common/editorService","vs/base/common/keyCodes","vs/base/common/platform","vs/css!./media/files.contribution"],function(e,t,i,o,r,n,s,a,l,c,d,p,f,u,h,g,v,b,m,E,y,w,x,_){"use strict";var S=function(e){function t(t,i,o,r){e.call(this,t,i,u.VIEWLET_ID,o,r)}return __extends(t,e),t.ID=u.VIEWLET_ID,t.LABEL=r.localize("showExplorerViewlet","Show Explorer"),t=__decorate([__param(2,y.IViewletService),__param(3,w.IWorkbenchEditorService)],t)}(o.ToggleViewletAction);t.OpenExplorerViewletAction=S,s.Registry.as(o.Extensions.Viewlets).registerViewlet(new o.ViewletDescriptor("vs/workbench/parts/files/browser/explorerViewlet","ExplorerViewlet",u.VIEWLET_ID,r.localize("explore","Explorer"),"explore",0)),s.Registry.as(o.Extensions.Viewlets).setDefaultViewletId(u.VIEWLET_ID);var F={primary:x.KeyMod.CtrlCmd|x.KeyMod.Shift|x.KeyCode.KEY_E},C=s.Registry.as(l.Extensions.WorkbenchActions);C.registerWorkbenchAction(new n.SyncActionDescriptor(S,S.ID,S.LABEL,F),"View: Show Explorer",r.localize("view","View")),s.Registry.as(d.Extensions.Editors).registerEditor(new p.FileEditorDescriptor(b.TextFileEditor.ID,r.localize("textFileEditor","Text File Editor"),"vs/workbench/parts/files/browser/editors/textFileEditor","TextFileEditor",["text/*","application/unknown"]),[new E.SyncDescriptor(v.FileEditorInput)]),s.Registry.as(d.Extensions.Editors).registerEditor(new p.FileEditorDescriptor(m.BinaryFileEditor.ID,r.localize("binaryFileEditor","Binary File Editor"),"vs/workbench/parts/files/browser/editors/binaryFileEditor","BinaryFileEditor",["image/*","application/pdf","audio/*","video/*","application/octet-stream"]),[new E.SyncDescriptor(v.FileEditorInput)]);var D=new E.AsyncDescriptor("vs/workbench/parts/files/common/editors/fileEditorInput","FileEditorInput",(void 0),(void 0),(void 0));s.Registry.as(d.Extensions.Editors).registerDefaultFileInput(D);var A=function(){function e(){}return e.prototype.serialize=function(e){var t=e,i={resource:t.getResource().toString()};return JSON.stringify(i)},e.prototype.deserialize=function(e,t){var o=JSON.parse(t);return e.createInstance(v.FileEditorInput,i["default"].parse(o.resource),void 0,void 0)},e}();s.Registry.as(d.Extensions.Editors).registerEditorInputFactory(u.FILE_EDITOR_INPUT_ID,A),s.Registry.as(c.Extensions.Workbench).registerWorkbenchContribution(h.FileTracker),s.Registry.as(c.Extensions.Workbench).registerWorkbenchContribution(g.SaveParticipant);var k=s.Registry.as(a.Extensions.Configuration);k.registerConfiguration({id:"files",order:9,title:r.localize("filesConfigurationTitle","Files"),type:"object",properties:{"files.exclude":{type:"object",description:r.localize("exclude","Configure glob patterns for excluding files and folders."),"default":{"**/.git":!0,"**/.svn":!0,"**/.hg":!0,"**/.DS_Store":!0},additionalProperties:{anyOf:[{type:"boolean",description:r.localize("files.exclude.boolean","The glob pattern to match file paths against. Set to true or false to enable or disable the pattern.")},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*","default":"$(basename).ext",description:r.localize("files.exclude.when","Additional check on the siblings of a matching file. Use $(basename) as variable for the matching file name.")}}}]}},"files.associations":{type:"object",description:r.localize("associations",'Configure file associations to languages (e.g. "*.extension": "html"). These have precedence over the default associations of the languages installed.')},"files.encoding":{type:"string","enum":Object.keys(f.SUPPORTED_ENCODINGS),"default":"utf8",description:r.localize("encoding","The default character set encoding to use when reading and writing files.")},"files.eol":{type:"string","enum":["\n","\r\n"],"default":_.isLinux||_.isMacintosh?"\n":"\r\n",description:r.localize("eol","The default end of line character.")},"files.trimTrailingWhitespace":{type:"boolean","default":!1,description:r.localize("trimTrailingWhitespace","When enabled, will trim trailing whitespace when you save a file.")},"files.autoSave":{type:"string","enum":[f.AutoSaveConfiguration.OFF,f.AutoSaveConfiguration.AFTER_DELAY,f.AutoSaveConfiguration.ON_FOCUS_CHANGE],"default":f.AutoSaveConfiguration.OFF,description:r.localize("autoSave",'Controls auto save of dirty files. Accepted values:  "{0}", "{1}", "{2}". If set to "{3}" you can configure the delay in "files.autoSaveDelay".',f.AutoSaveConfiguration.OFF,f.AutoSaveConfiguration.AFTER_DELAY,f.AutoSaveConfiguration.ON_FOCUS_CHANGE,f.AutoSaveConfiguration.AFTER_DELAY)},"files.autoSaveDelay":{type:"number","default":1e3,description:r.localize("autoSaveDelay",'Controls the delay in ms after which a dirty file is saved automatically. Only applies when "files.autoSave" is set to "{0}"',f.AutoSaveConfiguration.AFTER_DELAY)},"files.watcherExclude":{type:"object","default":_.isLinux||_.isMacintosh?{"**/.git/objects/**":!0,"**/node_modules/**":!0}:{"**/.git/objects/**":!0},description:r.localize("watcherExclude","Configure glob patterns of file paths to exclude from file watching. Changing this setting requires a restart. When you experience Code consuming lots of cpu time on startup, you can exclude large folders to reduce the initial load.")}}}),k.registerConfiguration({id:"explorer",order:10,title:r.localize("explorerConfigurationTitle","File Explorer"),type:"object",properties:{"explorer.openEditors.visible":{type:"number",description:r.localize("openEditorsVisible","Number of editors shown in the Open Editors pane. Set it to 0 to hide the pane."),"default":9},"explorer.openEditors.dynamicHeight":{type:"boolean",description:r.localize("dynamicHeight","Controls if the height of the open editors section should adapt dynamically to the number of elements or not."),"default":!0},"explorer.autoReveal":{type:"boolean",description:r.localize("autoReveal","Controls if the explorer should automatically reveal files when opening them."),"default":!0},"explorer.enableDragAndDrop":{type:"boolean",description:r.localize("enableDragAndDrop","Controls if the explorer should allow to move files and folders via drag and drop."),"default":!0}}})});