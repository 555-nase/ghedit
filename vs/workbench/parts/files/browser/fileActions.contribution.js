var __extends=this&&this.__extends||function(e,i){function t(){this.constructor=e}for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r]);e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)},__decorate=this&&this.__decorate||function(e,i,t,r){var o,n=arguments.length,c=n<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,i,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(n<3?o(c):n>3?o(i,t,c):o(i,t))||c);return n>3&&c&&Object.defineProperty(i,t,c),c},__param=this&&this.__param||function(e,i){return function(t,r){i(t,r,e)}};define(["require","exports","vs/nls","vs/platform/platform","vs/base/browser/ui/actionbar/actionbar","vs/workbench/browser/actionBarRegistry","vs/workbench/parts/files/browser/fileActions","vs/platform/actions/common/actions","vs/workbench/common/actionRegistry","vs/platform/instantiation/common/instantiation","vs/platform/workspace/common/workspace","vs/platform/keybinding/common/keybinding","vs/workbench/parts/files/common/explorerViewModel","vs/base/common/keyCodes"],function(e,i,t,r,o,n,c,s,a,l,p,A,h,u){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var v=function(e){function i(i,t,r){e.call(this),this.instantiationService=i,this.contextService=t,this.keybindingService=r}return __extends(i,e),i.prototype.hasSecondaryActions=function(e){var i=e.element;return i instanceof h.FileStat},i.prototype.getSecondaryActions=function(e){var i=e.element,t=e.viewer,r=[],n=!1;if(i.isDirectory||(r.push(this.instantiationService.createInstance(c.OpenToSideAction,t,i.resource,!1)),n=!0),n&&r.push(new o.Separator(null,50)),i.isDirectory)r.push(this.instantiationService.createInstance(c.NewFileAction,t,i)),r.push(this.instantiationService.createInstance(c.NewFolderAction,t,i)),r.push(new o.Separator(null,50));else if(!i.isDirectory){var s=this.instantiationService.createInstance(c.CompareResourcesAction,i.resource,t);s._isEnabled()&&r.push(s),r.push(this.instantiationService.createInstance(c.SelectResourceForCompareAction,i.resource,t)),r.push(new o.Separator(null,100))}var a=this.contextService.getWorkspace(),l=a&&i.resource.toString()===a.resource.toString();l||r.push(this.instantiationService.createInstance(c.CopyFileAction,t,i)),i.isDirectory&&r.push(this.instantiationService.createInstance(c.PasteFileAction,t,i)),l||(r.push(new o.Separator(null,150)),r.push(this.instantiationService.createInstance(c.TriggerRenameFileAction,t,i))),l||r.push(this.instantiationService.createInstance(c.MoveFileToTrashAction,t,i));for(var p=10,A=0;A<r.length;A++){var h=r[A];h.order?p=h.order:(p+=10,h.order=p)}return r},i.prototype.getActionItem=function(e,i){if(e&&e.element instanceof h.FileStat){var t=c.keybindingForAction(i.id);if(t)return new o.ActionItem(e,i,{label:!0,keybinding:this.keybindingService.getLabelFor(t)})}return null},i=__decorate([__param(0,l.IInstantiationService),__param(1,p.IWorkspaceContextService),__param(2,A.IKeybindingService)],i)}(n.ActionBarContributor),F=r.Registry.as(n.Extensions.Actionbar);F.registerActionBarContributor(n.Scope.VIEWER,v);var S=t.localize("filesCategory","Files"),w=r.Registry.as(a.Extensions.WorkbenchActions);w.registerWorkbenchAction(new s.SyncActionDescriptor(c.SaveFileAction,c.SaveFileAction.ID,c.SaveFileAction.LABEL,{primary:u.KeyMod.CtrlCmd|u.KeyCode.KEY_S}),"Files: Save",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.SaveAllAction,c.SaveAllAction.ID,c.SaveAllAction.LABEL),"Files: Save All",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.SaveFilesAction,c.SaveFilesAction.ID,null),null),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.RevertFileAction,c.RevertFileAction.ID,c.RevertFileAction.LABEL),"Files: Revert File",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.GlobalNewFileAction,c.GlobalNewFileAction.ID,c.GlobalNewFileAction.LABEL),"Files: New File",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.GlobalNewFolderAction,c.GlobalNewFolderAction.ID,c.GlobalNewFolderAction.LABEL),"Files: New Folder",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.GlobalCompareResourcesAction,c.GlobalCompareResourcesAction.ID,c.GlobalCompareResourcesAction.LABEL),"Files: Compare Active File With...",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.FocusOpenEditorsView,c.FocusOpenEditorsView.ID,c.FocusOpenEditorsView.LABEL,{primary:u.KeyMod.chord(u.KeyMod.CtrlCmd|u.KeyCode.KEY_K,u.KeyCode.KEY_E)}),"Files: Focus on Open Editors View",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.FocusFilesExplorer,c.FocusFilesExplorer.ID,c.FocusFilesExplorer.LABEL),"Files: Focus on Files Explorer",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.ShowActiveFileInExplorer,c.ShowActiveFileInExplorer.ID,c.ShowActiveFileInExplorer.LABEL),"Files: Show Active File in Explorer",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.CollapseExplorerView,c.CollapseExplorerView.ID,c.CollapseExplorerView.LABEL),"Files: Collapse Folders in Explorer",S),w.registerWorkbenchAction(new s.SyncActionDescriptor(c.RefreshExplorerView,c.RefreshExplorerView.ID,c.RefreshExplorerView.LABEL),"Files: Refresh Explorer",S)});