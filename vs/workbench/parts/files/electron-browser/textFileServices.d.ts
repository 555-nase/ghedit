import { TPromise } from 'vs/base/common/winjs.base';
import URI from 'vs/base/common/uri';
import { ConfirmResult } from 'vs/workbench/common/editor';
import { IEventService } from 'vs/platform/event/common/event';
import { TextFileService as AbstractTextFileService } from 'vs/workbench/parts/files/common/textFileServices';
import { ITextFileOperationResult, IRawTextContent } from 'vs/workbench/parts/files/common/files';
import { IUntitledEditorService } from 'vs/workbench/services/untitled/common/untitledEditorService';
import { IFileService, IResolveContentOptions } from 'vs/platform/files/common/files';
import { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';
import { IWorkspaceContextService } from 'vs/workbench/services/workspace/common/contextService';
import { ILifecycleService } from 'vs/platform/lifecycle/common/lifecycle';
import { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';
import { IConfigurationService } from 'vs/platform/configuration/common/configuration';
import { IModeService } from 'vs/editor/common/services/modeService';
import { IWorkbenchEditorService } from 'vs/workbench/services/editor/common/editorService';
import { IWindowService } from 'vs/workbench/services/window/electron-browser/windowService';
import { IEditorGroupService } from 'vs/workbench/services/group/common/groupService';
import { IModelService } from 'vs/editor/common/services/modelService';
export declare class TextFileService extends AbstractTextFileService {
    private untitledEditorService;
    private lifecycleService;
    private modeService;
    private windowService;
    private static MAX_CONFIRM_FILES;
    constructor(contextService: IWorkspaceContextService, instantiationService: IInstantiationService, fileService: IFileService, untitledEditorService: IUntitledEditorService, lifecycleService: ILifecycleService, telemetryService: ITelemetryService, configurationService: IConfigurationService, eventService: IEventService, modeService: IModeService, editorService: IWorkbenchEditorService, editorGroupService: IEditorGroupService, windowService: IWindowService, modelService: IModelService);
    protected registerListeners(): void;
    resolveTextContent(resource: URI, options?: IResolveContentOptions): TPromise<IRawTextContent>;
    beforeShutdown(): boolean | TPromise<boolean>;
    private confirmBeforeShutdown();
    private onShutdown();
    revertAll(resources?: URI[], force?: boolean): TPromise<ITextFileOperationResult>;
    getDirty(resources?: URI[]): URI[];
    isDirty(resource?: URI): boolean;
    confirmSave(resources?: URI[]): ConfirmResult;
    private mnemonicLabel(label);
    saveAll(includeUntitled?: boolean): TPromise<ITextFileOperationResult>;
    saveAll(resources: URI[]): TPromise<ITextFileOperationResult>;
    private doSaveAll(fileResources, untitledResources);
    saveAs(resource: URI, target?: URI): TPromise<URI>;
    private doSaveAs(resource, target?);
    private doSaveTextFileAs(sourceModel, resource, target);
    private suggestFileName(untitledResource);
    private promptForPath(defaultPath?);
    private getSaveDialogOptions(defaultPath?);
}
