/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},__decorate=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},__param=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}};define(["require","exports","vs/nls","vs/platform/platform","vs/workbench/browser/actionBarRegistry","vs/workbench/common/actionRegistry","vs/platform/actions/common/actions","vs/base/common/platform","vs/workbench/parts/files/common/files","vs/workbench/common/contributions","vs/workbench/parts/files/browser/fileActions","vs/workbench/parts/files/electron-browser/electronFileTracker","vs/workbench/parts/files/electron-browser/textFileServices","vs/workbench/parts/files/electron-browser/electronFileActions","vs/platform/instantiation/common/instantiation","vs/platform/instantiation/common/extensions","vs/base/common/keyCodes"],function(e,t,o,n,i,r,c,s,l,a,p,y,d,A,h,b,F){"use strict";var v=function(e){function t(t){e.call(this),this.instantiationService=t}return __extends(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return!!l.asFileResource(t)||t&&t.getResource&&t.getResource()},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var o=l.asFileResource(e.element),n=o?o.resource:e.element.getResource();t.push(this.instantiationService.createInstance(A.RevealInOSAction,n)),t.push(this.instantiationService.createInstance(A.CopyPathAction,n))}return t},t=__decorate([__param(0,h.IInstantiationService)],t)}(i.ActionBarContributor),m=o.localize("filesCategory","Files"),_=n.Registry.as(r.Extensions.WorkbenchActions);_.registerWorkbenchAction(new c.SyncActionDescriptor(p.SaveFileAsAction,p.SaveFileAsAction.ID,p.SaveFileAsAction.LABEL,{primary:F.KeyMod.CtrlCmd|F.KeyMod.Shift|F.KeyCode.KEY_S}),"Files: Save As...",m),_.registerWorkbenchAction(new c.SyncActionDescriptor(p.GlobalNewUntitledFileAction,p.GlobalNewUntitledFileAction.ID,p.GlobalNewUntitledFileAction.LABEL,{primary:F.KeyMod.CtrlCmd|F.KeyCode.KEY_N}),"Files: New Untitled File",m),_.registerWorkbenchAction(new c.SyncActionDescriptor(A.GlobalCopyPathAction,A.GlobalCopyPathAction.ID,A.GlobalCopyPathAction.LABEL,{primary:F.KeyMod.chord(F.KeyMod.CtrlCmd|F.KeyCode.KEY_K,F.KeyCode.KEY_P)}),"Files: Copy Path of Active File",m),_.registerWorkbenchAction(new c.SyncActionDescriptor(A.GlobalRevealInOSAction,A.GlobalRevealInOSAction.ID,A.GlobalRevealInOSAction.LABEL,{primary:F.KeyMod.chord(F.KeyMod.CtrlCmd|F.KeyCode.KEY_K,F.KeyCode.KEY_R)}),"Files: Reveal Active File",m),_.registerWorkbenchAction(new c.SyncActionDescriptor(A.ShowOpenedFileInNewWindow,A.ShowOpenedFileInNewWindow.ID,A.ShowOpenedFileInNewWindow.LABEL,{primary:F.KeyMod.chord(F.KeyMod.CtrlCmd|F.KeyCode.KEY_K,F.KeyCode.KEY_O)}),"Files: Open Active File in New Window",m),s.isMacintosh?_.registerWorkbenchAction(new c.SyncActionDescriptor(A.OpenFileFolderAction,A.OPEN_FILE_FOLDER_ID,A.OPEN_FILE_FOLDER_LABEL,{primary:F.KeyMod.CtrlCmd|F.KeyCode.KEY_O}),"Files: Open...",m):(_.registerWorkbenchAction(new c.SyncActionDescriptor(A.OpenFileAction,A.OPEN_FILE_ID,A.OPEN_FILE_LABEL,{primary:F.KeyMod.CtrlCmd|F.KeyCode.KEY_O}),"Files: Open File...",m),_.registerWorkbenchAction(new c.SyncActionDescriptor(A.OpenFolderAction,A.OPEN_FOLDER_ID,A.OPEN_FOLDER_LABEL),"Files: Open Folder...",m));var w=n.Registry.as(i.Extensions.Actionbar);w.registerActionBarContributor(i.Scope.VIEWER,v),n.Registry.as(a.Extensions.Workbench).registerWorkbenchContribution(y.FileTracker),b.registerSingleton(l.ITextFileService,d.TextFileService)});