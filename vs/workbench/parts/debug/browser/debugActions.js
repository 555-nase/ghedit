/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__decorate=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},__param=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};define(["require","exports","vs/nls","vs/base/common/actions","vs/base/common/lifecycle","vs/base/common/winjs.base","vs/editor/common/core/range","vs/editor/common/editorAction","vs/editor/common/editorActionEnablement","vs/platform/event/common/event","vs/platform/keybinding/common/keybinding","vs/platform/commands/common/commands","vs/workbench/common/events","vs/workbench/parts/debug/common/debug","vs/workbench/parts/debug/common/debugModel","vs/workbench/parts/debug/browser/breakpointWidget","vs/workbench/services/part/common/partService","vs/workbench/services/panel/common/panelService","vs/platform/instantiation/common/instantiation"],function(e,t,n,i,o,r,a,c,s,u,d,l,p,g,b,h,v,_,S){"use strict";var m=g.IDebugService,f=function(e){function t(t,n,i,o,r){var a=this;e.call(this,t,n,i,!1),this.debugService=o,this.keybindingService=r,this.debugService=o,this.toDispose=[],this.toDispose.push(this.debugService.onDidChangeState(function(e){return a.updateEnablement(e)}));var c=this.keybindingService.lookupKeybindings(t).map(function(e){return a.keybindingService.getLabelFor(e)});c&&c.length&&(this.keybinding=c[0]),this.updateLabel(n),this.updateEnablement(this.debugService.state)}return __extends(t,e),t.prototype.run=function(e){throw new Error("implement me")},t.prototype.updateLabel=function(e){this.keybinding?this.label=n.localize("debugActionLabelAndKeybinding","{0} ({1})",e,this.keybinding):this.label=e},t.prototype.updateEnablement=function(e){this.enabled=this.isEnabled(e)},t.prototype.isEnabled=function(e){return e!==g.State.Disabled},t.prototype.dispose=function(){this.debugService=null,this.toDispose=o.dispose(this.toDispose),e.prototype.dispose.call(this)},t=__decorate([__param(3,m),__param(4,d.IKeybindingService)],t)}(i.Action);t.AbstractDebugAction=f;var E=function(e){function t(i,o,r,a){var c=this;e.call(this,i,o,"debug-action configure",r,a),this.toDispose.push(r.getConfigurationManager().onDidConfigurationChange(function(e){e?(c["class"]="debug-action configure",c.tooltip=t.LABEL):(c["class"]="debug-action configure notification",c.tooltip=n.localize("launchJsonNeedsConfigurtion","Configure or Fix 'launch.json'"))}))}return __extends(t,e),t.prototype.run=function(e){var t=!(!e||!e.ctrlKey&&!e.metaKey);return this.debugService.getConfigurationManager().openConfigFile(t)},t.ID="workbench.action.debug.configure",t.LABEL=n.localize("openLaunchJson","Open {0}","launch.json"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.ConfigureAction=E;var A=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action select-active-config",i,o)}return __extends(t,e),t.prototype.run=function(e){return this.debugService.getConfigurationManager().setConfiguration(e)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===g.State.Inactive},t.ID="workbench.debug.action.setActiveConfig",t.LABEL=n.localize("selectConfig","Select Configuration"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.SelectConfigAction=A;var k=function(e){function t(t,n,i,o,r){e.call(this,t,n,"debug-action start",i,o),this.commandService=r}return __extends(t,e),t.prototype.run=function(){return this.commandService.executeCommand("_workbench.startDebug")},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===g.State.Inactive},t.ID="workbench.action.debug.start",t.LABEL=n.localize("startDebug","Start Debugging"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService),__param(4,l.ICommandService)],t)}(f);t.StartDebugAction=k;var B=function(e){function t(n,i,o,r){var a=this;e.call(this,n,i,"debug-action restart",o,r),this.toDispose.push(this.debugService.onDidChangeState(function(){var e=a.debugService.getActiveSession();e&&a.updateLabel(e.configuration.isAttach?t.RECONNECT_LABEL:t.LABEL)}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.restartSession()},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==g.State.Inactive},t.ID="workbench.action.debug.restart",t.LABEL=n.localize("restartDebug","Restart"),t.RECONNECT_LABEL=n.localize("reconnectDebug","Reconnect"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.RestartDebugAction=B;var y=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action step-over",i,o)}return __extends(t,e),t.prototype.run=function(e){var t=e&&e instanceof b.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.next(t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===g.State.Stopped},t.ID="workbench.action.debug.stepOver",t.LABEL=n.localize("stepOverDebug","Step Over"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.StepOverDebugAction=y;var I=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action step-into",i,o)}return __extends(t,e),t.prototype.run=function(e){var t=e&&e instanceof b.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.stepIn(t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===g.State.Stopped},t.ID="workbench.action.debug.stepInto",t.LABEL=n.localize("stepIntoDebug","Step Into"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.StepIntoDebugAction=I;var D=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action step-out",i,o)}return __extends(t,e),t.prototype.run=function(e){var t=e&&e instanceof b.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.stepOut(t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===g.State.Stopped},t.ID="workbench.action.debug.stepOut",t.LABEL=n.localize("stepOutDebug","Step Out"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.StepOutDebugAction=D;var L=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action step-back",i,o)}return __extends(t,e),t.prototype.run=function(e){var t=e&&e instanceof b.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.stepBack(t)},t.prototype.isEnabled=function(t){var n=this.debugService.getActiveSession();return e.prototype.isEnabled.call(this,t)&&t===g.State.Stopped&&n&&n.configuration.capabilities.supportsStepBack},t.ID="workbench.action.debug.stepBack",t.LABEL=n.localize("stepBackDebug","Step Back"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.StepBackDebugAction=L;var x=function(e){function t(n,i,o,r){var a=this;e.call(this,n,i,"debug-action stop",o,r),this.toDispose.push(this.debugService.onDidChangeState(function(){var e=a.debugService.getActiveSession();e&&a.updateLabel(e.configuration.isAttach?t.DISCONNECT_LABEL:t.LABEL)}))}return __extends(t,e),t.prototype.run=function(){var e=this.debugService.getActiveSession();return e?e.disconnect(!1,!0):r.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==g.State.Inactive},t.ID="workbench.action.debug.stop",t.LABEL=n.localize("stopDebug","Stop"),t.DISCONNECT_LABEL=n.localize("disconnectDebug","Disconnect"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.StopDebugAction=x;var w=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action continue",i,o)}return __extends(t,e),t.prototype.run=function(e){var t=e&&e instanceof b.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService["continue"](t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===g.State.Stopped},t.ID="workbench.action.debug.continue",t.LABEL=n.localize("continueDebug","Continue"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.ContinueAction=w;var C=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action pause",i,o)}return __extends(t,e),t.prototype.run=function(e){var t=e&&e instanceof b.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.pause(t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===g.State.Running},t.ID="workbench.action.debug.pause",t.LABEL=n.localize("pauseDebug","Pause"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.PauseAction=C;var T=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action restart-frame",i,o)}return __extends(t,e),t.prototype.run=function(e){var t=e&&e instanceof b.StackFrame?e.frameId:this.debugService.getViewModel().getFocusedStackFrame().frameId;return this.debugService.restartFrame(t)},t.ID="workbench.action.debug.restartFrame",t.LABEL=n.localize("restartFrame","Restart Frame"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.RestartFrameAction=T;var R=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action remove",i,o)}return __extends(t,e),t.prototype.run=function(e){return e instanceof b.Breakpoint?this.debugService.removeBreakpoints(e.getId()):this.debugService.removeFunctionBreakpoints(e.getId())},t.ID="workbench.debug.viewlet.action.removeBreakpoint",t.LABEL=n.localize("removeBreakpoint","Remove Breakpoint"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.RemoveBreakpointAction=R;var M=function(e){function t(t,n,i,o){var r=this;e.call(this,t,n,"debug-action remove-all",i,o),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return r.updateEnablement(r.debugService.state)}))}return __extends(t,e),t.prototype.run=function(){return r.TPromise.join([this.debugService.removeBreakpoints(),this.debugService.removeFunctionBreakpoints()])},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&(n.getBreakpoints().length>0||n.getFunctionBreakpoints().length>0)},t.ID="workbench.debug.viewlet.action.removeAllBreakpoints",t.LABEL=n.localize("removeAllBreakpoints","Remove All Breakpoints"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.RemoveAllBreakpointsAction=M;var P=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action toggle-enablement",i,o)}return __extends(t,e),t.prototype.run=function(e){return this.debugService.enableOrDisableBreakpoints(!e.enabled,e)},t.ID="workbench.debug.viewlet.action.toggleBreakpointEnablement",t.LABEL=n.localize("toggleEnablement","Enable/Disable Breakpoint"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.ToggleEnablementAction=P;var F=function(e){function t(t,n,i,o){var r=this;e.call(this,t,n,"debug-action enable-all-breakpoints",i,o),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return r.updateEnablement(r.debugService.state)}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.enableOrDisableBreakpoints(!0)},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&n.getBreakpoints().concat(n.getFunctionBreakpoints()).concat(n.getExceptionBreakpoints()).some(function(e){return!e.enabled})},t.ID="workbench.debug.viewlet.action.enableAllBreakpoints",t.LABEL=n.localize("enableAllBreakpoints","Enable All Breakpoints"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.EnableAllBreakpointsAction=F;var z=function(e){function t(t,n,i,o){var r=this;e.call(this,t,n,"debug-action disable-all-breakpoints",i,o),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return r.updateEnablement(r.debugService.state)}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.enableOrDisableBreakpoints(!1)},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&n.getBreakpoints().concat(n.getFunctionBreakpoints()).concat(n.getExceptionBreakpoints()).some(function(e){return e.enabled})},t.ID="workbench.debug.viewlet.action.disableAllBreakpoints",t.LABEL=n.localize("disableAllBreakpoints","Disable All Breakpoints"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.DisableAllBreakpointsAction=z;var K=function(e){function t(n,i,o,r){var a=this;e.call(this,n,i,"debug-action breakpoints-activate",o,r),this.updateLabel(this.debugService.getModel().areBreakpointsActivated()?t.DEACTIVATE_LABEL:t.ACTIVATE_LABEL),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){a.updateLabel(a.debugService.getModel().areBreakpointsActivated()?t.DEACTIVATE_LABEL:t.ACTIVATE_LABEL),a.updateEnablement(a.debugService.state)}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.setBreakpointsActivated(!this.debugService.getModel().areBreakpointsActivated())},t.prototype.isEnabled=function(e){return this.debugService.getModel().getFunctionBreakpoints().length+this.debugService.getModel().getBreakpoints().length>0},t.ID="workbench.debug.viewlet.action.toggleBreakpointsActivatedAction",t.ACTIVATE_LABEL=n.localize("activateBreakpoints","Activate Breakpoints"),t.DEACTIVATE_LABEL=n.localize("deactivateBreakpoints","Deactivate Breakpoints"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.ToggleBreakpointsActivatedAction=K;var O=function(e){function t(t,n,i,o){var r=this;e.call(this,t,n,null,i,o),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return r.updateEnablement(r.debugService.state)}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.setBreakpointsActivated(!0)},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&t!==g.State.Disabled&&t!==g.State.Inactive&&n.getFunctionBreakpoints().length+n.getBreakpoints().length>0},t.ID="workbench.debug.viewlet.action.reapplyBreakpointsAction",t.LABEL=n.localize("reapplyAllBreakpoints","Reapply All Breakpoints"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.ReapplyBreakpointsAction=O;var W=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action add-function-breakpoint",i,o)}return __extends(t,e),t.prototype.run=function(){return this.debugService.addFunctionBreakpoint(),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.addFunctionBreakpointAction",t.LABEL=n.localize("addFunctionBreakpoint","Add Function Breakpoint"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.AddFunctionBreakpointAction=W;var N=function(e){function t(t,n,i,o){e.call(this,t,n,null,i,o)}return __extends(t,e),t.prototype.run=function(e){return this.debugService.getViewModel().setSelectedFunctionBreakpoint(e),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.renameFunctionBreakpointAction",t.LABEL=n.localize("renameFunctionBreakpoint","Rename Function Breakpoint"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.RenameFunctionBreakpointAction=N;var V=function(e){function t(t,n,i,o,r,a,c){e.call(this,t,n,null,r,a),this.editor=i,this.lineNumber=o,this.instantiationService=c}return __extends(t,e),t.prototype.run=function(){return h.BreakpointWidget.createInstance(this.editor,this.lineNumber,this.instantiationService),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.addConditionalBreakpointAction",t.LABEL=n.localize("addConditionalBreakpoint","Add Conditional Breakpoint"),t=__decorate([__param(4,m),__param(5,d.IKeybindingService),__param(6,S.IInstantiationService)],t)}(f);t.AddConditionalBreakpointAction=V;var j=function(e){function t(t,n,i,o,r,a,c){e.call(this,t,n,null,r,a),this.editor=i,this.lineNumber=o,this.instantiationService=c}return __extends(t,e),t.prototype.run=function(e){return h.BreakpointWidget.createInstance(this.editor,this.lineNumber,this.instantiationService),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.editConditionalBreakpointAction",t.LABEL=n.localize("editConditionalBreakpoint","Edit Breakpoint"),t=__decorate([__param(4,m),__param(5,d.IKeybindingService),__param(6,S.IInstantiationService)],t)}(f);t.EditConditionalBreakpointAction=j;var H=function(e){function t(t,n,i){e.call(this,t,n,s.Behaviour.TextFocus),this.debugService=i}return __extends(t,e),t.prototype.run=function(){var e=this.editor.getPosition().lineNumber,t=this.editor.getModel().uri;if(this.debugService.getConfigurationManager().canSetBreakpointsIn(this.editor.getModel())){var n=this.debugService.getModel().getBreakpoints().filter(function(n){return n.lineNumber===e&&n.source.uri.toString()===t.toString()}).pop();return n?this.debugService.removeBreakpoints(n.getId()):this.debugService.addBreakpoints([{uri:t,lineNumber:e}])}},t.ID="editor.debug.action.toggleBreakpoint",t=__decorate([__param(2,m)],t)}(c.EditorAction);t.ToggleBreakpointAction=H;var J=function(e){function t(t,n,i,o){e.call(this,t,n,s.Behaviour.TextFocus),this.debugService=i,this.instantiationService=o}return __extends(t,e),t.prototype.run=function(){var e=this.editor.getPosition().lineNumber;return this.debugService.getConfigurationManager().canSetBreakpointsIn(this.editor.getModel())&&h.BreakpointWidget.createInstance(this.editor,e,this.instantiationService),r.TPromise.as(null)},t.ID="editor.debug.action.conditionalBreakpoint",t=__decorate([__param(2,m),__param(3,S.IInstantiationService)],t)}(c.EditorAction);t.EditorConditionalBreakpointAction=J;var U=function(e){function t(t,n,i,o,r){e.call(this,t,n,null,o,r),this.variable=i}return __extends(t,e),t.prototype.run=function(){return this.variable instanceof b.Variable&&this.debugService.getViewModel().setSelectedExpression(this.variable),r.TPromise.as(null)},t.prototype.isEnabled=function(t){var n=this.debugService.getActiveSession();return e.prototype.isEnabled.call(this,t)&&t===g.State.Stopped&&n&&n.configuration.capabilities.supportsSetVariable},t.ID="workbench.debug.viewlet.action.setValue",t.LABEL=n.localize("setValue","Set Value"),t=__decorate([__param(3,m),__param(4,d.IKeybindingService)],t)}(f);t.SetValueAction=U;var q=function(e){function t(t,n,i){e.call(this,t,n,s.Behaviour.TextFocus),this.debugService=i}return __extends(t,e),t.prototype.run=function(){var e=this;if(this.debugService.state!==g.State.Stopped)return r.TPromise.as(null);var t=this.editor.getPosition().lineNumber,n=this.editor.getModel().uri,i=this.debugService.getActiveSession().onDidEvent(function(o){if("stopped"===o.event||"exit"===o.event){var r=e.debugService.getModel().getBreakpoints().filter(function(e){return e.desiredLineNumber===t&&e.source.uri.toString()===n.toString()}).pop();r&&e.debugService.removeBreakpoints(r.getId()),i.dispose()}}),o=!!this.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===t&&e.source.uri.toString()===n.toString()}).pop();return(o?r.TPromise.as(null):this.debugService.addBreakpoints([{uri:n,lineNumber:t}])).then(function(){e.debugService["continue"](e.debugService.getViewModel().getFocusedThreadId())})},t.prototype.isSupported=function(){return e.prototype.isSupported.call(this)&&this.debugService.state===g.State.Stopped},t.ID="editor.debug.action.runToCursor",t=__decorate([__param(2,m)],t)}(c.EditorAction);t.RunToCursorAction=q;var G=function(e){function t(t,n,i,o){var r=this;e.call(this,t,n,"debug-action add-watch-expression",i,o),this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(){return r.updateEnablement(r.debugService.state)}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.addWatchExpression()},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&this.debugService.getModel().getWatchExpressions().every(function(e){return!!e.name})},t.ID="workbench.debug.viewlet.action.addWatchExpression",t.LABEL=n.localize("addWatchExpression","Add Expression"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.AddWatchExpressionAction=G;var Q=function(e){function t(t,n,i,o){e.call(this,t,n,s.Behaviour.UpdateOnCursorPositionChange),this.debugService=i,this.panelService=o}return __extends(t,e),t.prototype.run=function(){var e=this,t=this.editor.getModel().getValueInRange(this.editor.getSelection());return this.debugService.addReplExpression(t).then(function(){return e.panelService.openPanel(g.REPL_ID,!0)})},t.prototype.isSupported=function(){var e=this.editor.getSelection();return!!e&&!e.isEmpty()&&this.debugService.state!==g.State.Disabled&&this.debugService.state!==g.State.Inactive},t.ID="editor.debug.action.selectionToRepl",t=__decorate([__param(2,m),__param(3,_.IPanelService)],t)}(c.EditorAction);t.SelectionToReplAction=Q;var X=function(e){function t(t,n){e.call(this,t,n,s.Behaviour.TextFocus)}return __extends(t,e),t.prototype.run=function(){var e=this.editor.getPosition(),t=this.editor.getModel().getWordAtPosition(e);if(!t)return r.TPromise.as(null);var n=new a.Range(e.lineNumber,e.column,e.lineNumber,t.endColumn);return this.editor.getContribution(g.EDITOR_CONTRIBUTION_ID).showHover(n,t.word,!0)},t.ID="editor.debug.action.showDebugHover",t}(c.EditorAction);t.ShowDebugHoverAction=X;var Y=function(e){function t(t,n,i,o,r){e.call(this,t,n,"debug-action add-to-watch",o,r),this.expression=i}return __extends(t,e),t.prototype.run=function(){return this.debugService.addWatchExpression(b.getFullExpressionName(this.expression,this.debugService.getActiveSession().configuration.type))},t.ID="workbench.debug.viewlet.action.addToWatchExpressions",t.LABEL=n.localize("addToWatchExpressions","Add to Watch"),t=__decorate([__param(3,m),__param(4,d.IKeybindingService)],t)}(f);t.AddToWatchExpressionsAction=Y;var Z=function(e){function t(t,n,i,o,r){e.call(this,t,n,"debug-action rename",o,r),this.expression=i}return __extends(t,e),t.prototype.run=function(){return this.debugService.getViewModel().setSelectedExpression(this.expression),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.renameWatchExpression",t.LABEL=n.localize("renameWatchExpression","Rename Expression"),t=__decorate([__param(3,m),__param(4,d.IKeybindingService)],t)}(f);t.RenameWatchExpressionAction=Z;var $=function(e){function t(t,n,i,o){e.call(this,t,n,"debug-action remove",i,o)}return __extends(t,e),t.prototype.run=function(e){return this.debugService.removeWatchExpressions(e.getId()),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.removeWatchExpression",t.LABEL=n.localize("removeWatchExpression","Remove Expression"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.RemoveWatchExpressionAction=$;var ee=function(e){function t(t,n,i,o){var r=this;e.call(this,t,n,"debug-action remove-all",i,o),this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(){return r.updateEnablement(r.debugService.state)}))}return __extends(t,e),t.prototype.run=function(){return this.debugService.removeWatchExpressions(),r.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&this.debugService.getModel().getWatchExpressions().length>0},t.ID="workbench.debug.viewlet.action.removeAllWatchExpressions",t.LABEL=n.localize("removeAllWatchExpressions","Remove All Expressions"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.RemoveAllWatchExpressionsAction=ee;var te=function(e){function t(t,n,i,o,r){e.call(this,t,n,"debug-action clear-repl",i,o),this.panelService=r}return __extends(t,e),t.prototype.run=function(){return this.debugService.removeReplExpressions(),this.panelService.openPanel(g.REPL_ID,!0)},t.ID="workbench.debug.panel.action.clearReplAction",t.LABEL=n.localize("clearRepl","Clear Console"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService),__param(4,_.IPanelService)],t)}(f);t.ClearReplAction=te;var ne=function(e){function t(t,n,i,o,r,a,c){e.call(this,t,n,"debug-action toggle-repl",i,a),this.partService=o,this.panelService=r,this.eventService=c,this.enabled=this.debugService.state!==g.State.Disabled,this.registerListeners()}return __extends(t,e),t.prototype.run=function(){return this.isReplVisible()?(this.partService.setPanelHidden(!0),r.TPromise.as(null)):this.panelService.openPanel(g.REPL_ID,!0)},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.getModel().onDidChangeReplElements(function(){e.isReplVisible()||(e["class"]="debug-action toggle-repl notification",e.tooltip=n.localize("unreadOutput","New Output in Debug Console"))})),this.toDispose.push(this.eventService.addListener2(p.EventType.COMPOSITE_OPENED,function(n){n.compositeId===g.REPL_ID&&(e["class"]="debug-action toggle-repl",e.tooltip=t.LABEL)}))},t.prototype.isReplVisible=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===g.REPL_ID},t.ID="workbench.debug.action.toggleRepl",t.LABEL=n.localize({comment:["Debug is a noun in this context, not a verb."],key:"debugConsoleAction"},"Debug Console"),t=__decorate([__param(2,m),__param(3,v.IPartService),__param(4,_.IPanelService),__param(5,d.IKeybindingService),__param(6,u.IEventService)],t)}(f);t.ToggleReplAction=ne;var ie=function(e){function t(t,n,i,o){e.call(this,t,n,null,i,o)}return __extends(t,e),t.prototype.run=function(){return this.debugService.createSession(!0)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===g.State.Inactive},t.ID="workbench.action.debug.run",t.LABEL=n.localize("startWithoutDebugging","Start Without Debugging"),t=__decorate([__param(2,m),__param(3,d.IKeybindingService)],t)}(f);t.RunAction=ie});