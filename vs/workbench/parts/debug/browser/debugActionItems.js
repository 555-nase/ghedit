/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__decorate=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};define(["require","exports","vs/nls","vs/base/common/errors","vs/base/browser/ui/actionbar/actionbar","vs/workbench/parts/debug/common/debug","vs/platform/configuration/common/configuration"],function(e,t,n,o,r,i,a){"use strict";var u=function(e){function t(t,n,o){e.call(this,null,t,[],-1),this.debugService=n,this.registerConfigurationListeners(o)}return __extends(t,e),t.prototype.registerConfigurationListeners=function(e){var t=this;this.toDispose.push(e.onDidUpdateConfiguration(function(e){t.updateOptions(!0).done(null,o.onUnexpectedError)})),this.toDispose.push(this.debugService.getConfigurationManager().onDidConfigurationChange(function(e){t.updateOptions(!1).done(null,o.onUnexpectedError)}))},t.prototype.render=function(t){e.prototype.render.call(this,t),this.updateOptions(!0).done(null,o.onUnexpectedError)},t.prototype.updateOptions=function(e){var t=this;return this.debugService.getConfigurationManager().loadLaunchConfig().then(function(o){if(!o||!o.configurations||0===o.configurations.length)return t.setOptions([n.localize("noConfigurations","No Configurations")],0),e?t.actionRunner.run(t._action,null):null;var r=o.configurations.map(function(e){return e.name}),i=t.debugService.getConfigurationManager().configurationName,a=r.indexOf(i);return t.setOptions(r,a),e?t.actionRunner.run(t._action,t.getSelected()):void 0})},t=__decorate([__param(1,i.IDebugService),__param(2,a.IConfigurationService)],t)}(r.SelectActionItem);t.DebugSelectActionItem=u});