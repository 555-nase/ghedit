/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
define(["require","exports","vs/base/common/uri","vs/base/common/paths"],function(e,r,t,n){"use strict";var i=function(){function e(r,i){void 0===i&&(i=!0),this.raw=r,this.uri=r.path?t["default"].file(n.normalize(r.path)):t["default"].parse(e.INTERNAL_URI_PREFIX+r.name),this.available=i}return Object.defineProperty(e.prototype,"name",{get:function(){return this.raw.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.raw.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.raw.sourceReference},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inMemory",{get:function(){return e.isInMemory(this.uri)},enumerable:!0,configurable:!0}),e.toRawSource=function(r,t){if(t){var i=t.getThreads();for(var o in i)if(i.hasOwnProperty(o)&&i[o].getCachedCallStack()){var a=i[o].getCachedCallStack().filter(function(e){return e.source.uri.toString()===r.toString()}).pop();if(a)return a.source.raw}}return e.isInMemory(r)?{name:n.basename(r.toString())}:{path:n.normalize(r.fsPath,!0),name:n.basename(r.fsPath)}},e.isInMemory=function(r){return 0===r.toString().indexOf(e.INTERNAL_URI_PREFIX)},e.INTERNAL_URI_PREFIX="debug://internal/",e}();r.Source=i});