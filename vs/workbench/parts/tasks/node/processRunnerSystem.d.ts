import { TPromise } from 'vs/base/common/winjs.base';
import { EventEmitter } from 'vs/base/common/eventEmitter';
import { TerminateResponse } from 'vs/base/common/processes';
import { IOutputService } from 'vs/workbench/parts/output/common/output';
import { ISystemVariables } from 'vs/base/common/parsers';
import { IMarkerService } from 'vs/platform/markers/common/markers';
import { IModelService } from 'vs/editor/common/services/modelService';
import { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';
import { ITaskSystem, ITaskRunResult, TaskDescription } from 'vs/workbench/parts/tasks/common/taskSystem';
import * as FileConfig from './processRunnerConfiguration';
export declare class ProcessRunnerSystem extends EventEmitter implements ITaskSystem {
    static TelemetryEventName: string;
    private fileConfig;
    private variables;
    private markerService;
    private modelService;
    private outputService;
    private telemetryService;
    private validationStatus;
    private defaultBuildTaskIdentifier;
    private defaultTestTaskIdentifier;
    private configuration;
    private outputChannel;
    private errorsShown;
    private childProcess;
    private activeTaskIdentifier;
    constructor(fileConfig: FileConfig.ExternalTaskRunnerConfiguration, variables: ISystemVariables, markerService: IMarkerService, modelService: IModelService, telemetryService: ITelemetryService, outputService: IOutputService, outputChannelId: string, clearOutput?: boolean);
    build(): ITaskRunResult;
    rebuild(): ITaskRunResult;
    clean(): ITaskRunResult;
    runTest(): ITaskRunResult;
    run(taskIdentifier: string): ITaskRunResult;
    isActive(): TPromise<boolean>;
    isActiveSync(): boolean;
    canAutoTerminate(): boolean;
    terminate(): TPromise<TerminateResponse>;
    tasks(): TPromise<TaskDescription[]>;
    private executeTask(taskIdentifier, trigger?);
    private doExecuteTask(task, telemetryEvent);
    private childProcessEnded();
    private handleError(task, error);
    private checkTerminated(task, data);
    private resolveOptions(options);
    private resolveVariables(value);
    private resolveMatchers<T>(values);
    private resolveVariable(value);
    log(value: string): void;
    private showOutput();
    private clearOutput();
}
