/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
var __extends=this&&this.__extends||function(e,r){function n(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},__decorate=this&&this.__decorate||function(e,r,n,t){var o,i=arguments.length,s=i<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,n):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,r,n,t);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(r,n,s):o(r,n))||s);return i>3&&s&&Object.defineProperty(r,n,s),s},__param=this&&this.__param||function(e,r){return function(n,t){r(n,t,e)}};define(["require","exports","vs/platform/platform","vs/workbench/browser/viewlet","vs/platform/configuration/common/configurationRegistry","vs/nls","vs/workbench/parts/files/common/files","vs/platform/actions/common/actions","vs/base/browser/ui/actionbar/actionbar","vs/workbench/browser/actionBarRegistry","vs/workbench/common/actionRegistry","vs/workbench/browser/quickopen","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/instantiation/common/instantiation","vs/platform/instantiation/common/descriptors","vs/platform/workspace/common/workspace","vs/platform/keybinding/common/keybinding","vs/workbench/services/quickopen/common/quickOpenService","vs/workbench/services/viewlet/common/viewletService","vs/base/common/keyCodes","vs/workbench/parts/search/browser/searchActions","vs/workbench/parts/search/common/constants","vs/workbench/parts/search/browser/replaceContributions","vs/workbench/parts/search/browser/searchWidget","vs/css!./media/search.contribution"],function(e,r,n,t,o,i,s,c,a,l,p,h,d,b,y,m,w,u,f,g,v,k,A,S){"use strict";A.registerContributions(),S.registerContributions(),d.KeybindingsRegistry.registerCommandDesc({id:"workbench.action.search.toggleQueryDetails",weight:d.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:w.KbExpr.has("searchViewletVisible"),primary:g.KeyMod.CtrlCmd|g.KeyMod.Shift|g.KeyCode.KEY_J,handler:function(e){var r=e.get(f.IViewletService);r.openViewlet(k.VIEWLET_ID,!0).then(function(e){return e.toggleFileTypes()})}});var _=function(e){function r(r,n){e.call(this),this._instantiationService=r,this._contextService=n}return __extends(r,e),r.prototype.hasSecondaryActions=function(e){var r=e.element,n=s.asFileResource(r);return!!n&&n.isDirectory},r.prototype.getSecondaryActions=function(e){var r=[];if(this.hasSecondaryActions(e)){var n=s.asFileResource(e.element),t=new c.DeferredAction(this._instantiationService,new y.AsyncDescriptor("vs/workbench/parts/search/browser/searchActions","FindInFolderAction",n.resource),"workbench.search.action.findInFolder",i.localize("findInFolder","Find in Folder"));t.order=55,r.push(t),r.push(new a.Separator("",56))}return r},r=__decorate([__param(0,b.IInstantiationService),__param(1,m.IWorkspaceContextService)],r)}(l.ActionBarContributor),C="workbench.action.showAllSymbols",x=i.localize("showTriggerActions","Show All Symbols"),R="#",E=function(e){function r(r,n,t){e.call(this,r,n,R,t)}return __extends(r,e),r=__decorate([__param(2,u.IQuickOpenService)],r)}(h.QuickOpenAction);n.Registry.as(t.Extensions.Viewlets).registerViewlet(new t.ViewletDescriptor("vs/workbench/parts/search/browser/searchViewlet","SearchViewlet",k.VIEWLET_ID,i.localize("name","Search"),"search",10));var I={primary:g.KeyMod.CtrlCmd|g.KeyMod.Shift|g.KeyCode.KEY_F};n.Registry.as(p.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(v.OpenSearchViewletAction,v.OpenSearchViewletAction.ID,v.OpenSearchViewletAction.LABEL,I),"View: Show Search",i.localize("view","View")),n.Registry.as(p.Extensions.WorkbenchActions).registerWorkbenchAction(new c.SyncActionDescriptor(v.ReplaceInFilesAction,v.ReplaceInFilesAction.ID,v.ReplaceInFilesAction.LABEL,{primary:g.KeyMod.CtrlCmd|g.KeyMod.Shift|g.KeyCode.KEY_H}),"Replace in Files");var O=n.Registry.as(l.Extensions.Actionbar);O.registerActionBarContributor(l.Scope.VIEWER,_),n.Registry.as(h.Extensions.Quickopen).registerDefaultQuickOpenHandler(new h.QuickOpenHandlerDescriptor("vs/workbench/parts/search/browser/openAnythingHandler","OpenAnythingHandler","",i.localize("openAnythingHandlerDescription","Open Files and Global Symbols by Name"))),n.Registry.as(h.Extensions.Quickopen).registerQuickOpenHandler(new h.QuickOpenHandlerDescriptor("vs/workbench/parts/search/browser/openAnythingHandler","OpenSymbolHandler",R,[{prefix:R,needsEditor:!1,description:i.localize("openSymbolDescriptionNormal","Open Any Symbol By Name")}]));var D=n.Registry.as(p.Extensions.WorkbenchActions);D.registerWorkbenchAction(new c.SyncActionDescriptor(E,C,x,{primary:g.KeyMod.CtrlCmd|g.KeyCode.KEY_T}),"Show All Symbols");var K=n.Registry.as(o.Extensions.Configuration);K.registerConfiguration({id:"search",order:13,title:i.localize("searchConfigurationTitle","Search"),type:"object",properties:{"search.exclude":{type:"object",description:i.localize("exclude","Configure glob patterns for excluding files and folders in searches. Inherits all glob patterns from the files.exclude setting."),"default":{"**/node_modules":!0,"**/bower_components":!0},additionalProperties:{anyOf:[{type:"boolean",description:i.localize("exclude.boolean","The glob pattern to match file paths against. Set to true or false to enable or disable the pattern.")},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*","default":"$(basename).ext",description:i.localize("exclude.when","Additional check on the siblings of a matching file. Use $(basename) as variable for the matching file name.")}}}]}}}})});