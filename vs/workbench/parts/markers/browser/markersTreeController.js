var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__decorate=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},__param=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};define(["require","exports","vs/base/common/errors","vs/base/parts/tree/browser/treeDefaults","vs/workbench/parts/markers/common/markersModel","vs/workbench/services/editor/common/editorService","vs/platform/telemetry/common/telemetry"],function(e,t,r,o,n,i,c){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var s=function(e){function t(t,r){e.call(this),this.editorService=t,this.telemetryService=r}return __extends(t,e),t.prototype.onLeftClick=function(t,r,o){var i=t.getFocus();if(e.prototype.onLeftClick.call(this,t,r,o)){if(this.openFileAtElement(r,2!==o.detail,o.ctrlKey||o.metaKey,2===o.detail))return!0;if(r instanceof n.MarkersModel)return i?t.setFocus(i):t.focusFirst(),!0}return!1},t.prototype.onEnter=function(t,r){return!!e.prototype.onEnter.call(this,t,r)&&this.openFileAtElement(t.getFocus(),!1,r.ctrlKey||r.metaKey,!0)},t.prototype.onSpace=function(t,r){var o=t.getFocus();return o instanceof n.Marker?(t.setSelection([o]),this.openFileAtElement(t.getFocus(),!0,!1,!1)):e.prototype.onSpace.call(this,t,r)},t.prototype.openFileAtElement=function(e,t,o,i){if(e instanceof n.Marker){this.telemetryService.publicLog("problems.marker.opened",{source:e.source});var c=e.marker;return this.editorService.openEditor({resource:c.resource,options:{selection:{startLineNumber:c.startLineNumber,startColumn:c.startColumn,endLineNumber:c.endLineNumber,endColumn:c.endColumn},preserveFocus:t,pinned:i,revealIfVisible:!0}},o).done(null,r.onUnexpectedError),!0}return!1},t=__decorate([__param(0,i.IWorkbenchEditorService),__param(1,c.ITelemetryService)],t)}(o.DefaultController);t.Controller=s});