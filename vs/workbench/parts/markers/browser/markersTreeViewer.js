var __decorate=this&&this.__decorate||function(e,r,t,n){var o,a=arguments.length,s=a<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,r,t,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(a<3?o(s):a>3?o(r,t,s):o(r,t))||s);return a>3&&s&&Object.defineProperty(r,t,s),s},__param=this&&this.__param||function(e,r){return function(t,n){r(t,n,e)}};define(["require","exports","vs/base/common/winjs.base","vs/base/browser/dom","vs/base/common/severity","vs/workbench/services/workspace/common/contextService","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/fileLabel/fileLabel","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/workbench/parts/markers/common/markersModel","vs/workbench/parts/markers/common/messages"],function(e,r,t,n,o,a,s,c,i,u,l){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var p=function(){function e(){}return e.prototype.getId=function(e,r){return r instanceof u.MarkersModel?"root":r instanceof u.Resource?r.uri.toString():r instanceof u.Marker?r.id:""},e.prototype.hasChildren=function(e,r){return r instanceof u.MarkersModel||r instanceof u.Resource},e.prototype.getChildren=function(e,r){return r instanceof u.MarkersModel?t.TPromise.as(r.filteredResources):r instanceof u.Resource?t.TPromise.as(r.markers):null},e.prototype.getParent=function(e,r){return t.TPromise.as(null)},e}();r.DataSource=p;var m=function(){function e(e,r,t){this.actionRunner=e,this.actionProvider=r,this.contextService=t}return e.prototype.getHeight=function(e,r){return 22},e.prototype.getTemplateId=function(r,t){return t instanceof u.Resource?e.RESOURCE_TEMPLATE_ID:t instanceof u.Marker?e.MARKER_TEMPLATE_ID:""},e.prototype.renderTemplate=function(r,t,o){switch(n.addClass(o,"markers-panel-tree-entry"),t){case e.RESOURCE_TEMPLATE_ID:return this.renderResourceTemplate(o);case e.MARKER_TEMPLATE_ID:return this.renderMarkerTemplate(o)}},e.prototype.renderResourceTemplate=function(e){var r=Object.create(null),t=n.append(e,n.emmet(".resource-label-container"));r.file=new c.FileLabel(t,null,this.contextService);var o=n.append(e,n.emmet(".count-badge-wrapper"));return r.count=new s.CountBadge(o),r},e.prototype.renderMarkerTemplate=function(e){var r=Object.create(null);return r.icon=n.append(e,n.emmet(".marker-icon")),r.source=new i.HighlightedLabel(n.append(e,n.emmet(""))),r.description=new i.HighlightedLabel(n.append(e,n.emmet(".marker-description"))),r.lnCol=n.append(e,n.emmet("span.marker-line")),r},e.prototype.renderElement=function(r,t,n,o){switch(n){case e.RESOURCE_TEMPLATE_ID:return this.renderResourceElement(r,t,o);case e.MARKER_TEMPLATE_ID:return this.renderMarkerElement(r,t,o)}},e.prototype.renderResourceElement=function(e,r,t){t.file.setValue(r.uri,r.matches),t.count.setCount(r.markers.length)},e.prototype.renderMarkerElement=function(r,t,o){var a=t.marker;o.icon.className="icon "+e.iconClassNameFor(a),o.description.set(a.message,t.labelMatches),o.description.element.title=a.message,n.toggleClass(o.source.element,"marker-source",!!a.source),o.source.set(a.source,t.sourceMatches),o.lnCol.textContent=l["default"].MARKERS_PANEL_AT_LINE_COL_NUMBER(a.startLineNumber,a.startColumn)},e.iconClassNameFor=function(e){switch(e.severity){case o["default"].Ignore:return"info";case o["default"].Info:return"info";case o["default"].Warning:return"warning";case o["default"].Error:return"error"}return""},e.prototype.disposeTemplate=function(e,r,t){},e.RESOURCE_TEMPLATE_ID="resource-template",e.MARKER_TEMPLATE_ID="marker-template",e=__decorate([__param(2,a.IWorkspaceContextService)],e)}();r.Renderer=m;var f=function(){function e(){}return e.prototype.getAriaLabel=function(e,r){return r instanceof u.Resource?l["default"].MARKERS_TREE_ARIA_LABEL_RESOURCE(r.name,r.markers.length):r instanceof u.Marker?l["default"].MARKERS_TREE_ARIA_LABEL_MARKER(r.marker):null},e}();r.MarkersTreeAccessibilityProvider=f});