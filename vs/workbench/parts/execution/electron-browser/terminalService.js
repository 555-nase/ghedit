var __decorate=this&&this.__decorate||function(n,e,r,o){var t,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,r,o);else for(var c=n.length-1;c>=0;c--)(t=n[c])&&(a=(i<3?t(a):i>3?t(e,r,a):t(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},__param=this&&this.__param||function(n,e){return function(r,o){e(r,o,n)}};define(["require","exports","vs/base/common/errors","vs/base/common/winjs.base","vs/platform/configuration/common/configuration","vs/workbench/parts/execution/electron-browser/terminal","child_process","vs/base/node/processes"],function(n,e,r,o,t,i,a,c){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var u=function(){function n(n){this._configurationService=n}return n.prototype.openTerminal=function(n){var e=this._configurationService.getConfiguration();this.spawnTerminal(a,e,c.getWindowsShell(),n).done(null,r.onUnexpectedError)},n.prototype.spawnTerminal=function(n,e,r,t){var a=e.terminal.external,c=a.windowsExec||i.DEFAULT_TERMINAL_WINDOWS,u=["/c","start","/wait",'""',c];return new o.TPromise(function(e,o){var i=t?{cwd:t}:void 0,a=n.spawn(r,u,i);a.on("error",o),a.on("exit",function(){return e(null)})})},n=__decorate([__param(0,t.IConfigurationService)],n)}();e.WinTerminalService=u;var s=function(){function n(n){this._configurationService=n}return n.prototype.openTerminal=function(n){var e=this._configurationService.getConfiguration();this.spawnTerminal(a,e,n).done(null,r.onUnexpectedError)},n.prototype.spawnTerminal=function(n,e,r){var t=e.terminal.external,a=t.osxExec||i.DEFAULT_TERMINAL_OSX;return new o.TPromise(function(e,o){var t=n.spawn("/usr/bin/open",["-a",a,r]);t.on("error",o),t.on("exit",function(){return e(null)})})},n=__decorate([__param(0,t.IConfigurationService)],n)}();e.MacTerminalService=s;var f=function(){function n(n){this._configurationService=n}return n.prototype.openTerminal=function(n){var e=this._configurationService.getConfiguration();this.spawnTerminal(a,e,n).done(null,r.onUnexpectedError)},n.prototype.spawnTerminal=function(n,e,r){var t=e.terminal.external,a=t.linuxExec||i.DEFAULT_TERMINAL_LINUX,c=r?{cwd:r}:void 0;return new o.TPromise(function(e,r){var o=n.spawn(a,[],c);o.on("error",r),o.on("exit",function(){return e(null)})})},n=__decorate([__param(0,t.IConfigurationService)],n)}();e.LinuxTerminalService=f});