var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__decorate=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},__param=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};define(["require","exports","vs/base/common/winjs.base","vs/nls","vs/base/browser/builder","vs/base/common/types","vs/platform/platform","vs/base/parts/quickopen/common/quickOpen","vs/base/parts/quickopen/browser/quickOpenModel","vs/workbench/browser/quickopen","vs/workbench/services/quickopen/common/quickOpenService"],function(e,t,r,n,o,i,s,p,c,u,a){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";t.HELP_PREFIX="?";var l=function(e){function t(t,r,n,o){e.call(this),this.prefix=t,this.description=r,this.quickOpenService=n,this.openOnPreview=o}return __extends(t,e),t.prototype.getLabel=function(){return this.prefix},t.prototype.getAriaLabel=function(){return n.localize("entryAriaLabel","{0}, picker help",this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getHeight=function(){return 22},t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.useBorder},t.prototype.setShowBorder=function(e){this.useBorder=e},t.prototype.render=function(e,t,r){var n=this,i=o.$(t);i.addClass("quick-open-entry"),this.showBorder()?o.$(t).addClass("results-group-separator"):o.$(t).removeClass("results-group-separator"),this.getGroupLabel()&&o.$(t).div(function(e){e.addClass("results-group"),e.attr({text:n.getGroupLabel()})});var s=i.clone().div({text:this.prefix,"class":"quick-open-help-entry-label"});return this.prefix||s.text("â€¦"),i.span({text:this.description,"class":"quick-open-entry-description"}),null},t.prototype.run=function(e,t){return(e===p.Mode.OPEN||this.openOnPreview)&&this.quickOpenService.show(this.prefix),!1},t}(c.QuickOpenEntryItem),h=function(e){function o(t){e.call(this),this.quickOpenService=t}return __extends(o,e),o.prototype.getResults=function(e){var o=this;e=e.trim();var p=s.Registry.as(u.Extensions.Quickopen),a=p.getQuickOpenHandlers(),h=p.getDefaultQuickOpenHandlers();h.length>0&&a.push.apply(a,h);var f,d=[],v=[];return a.sort(function(e,t){return e.prefix.localeCompare(t.prefix)}).forEach(function(r){if(r.prefix!==t.HELP_PREFIX)if(i.isArray(r.helpEntries))for(var n=0;n<r.helpEntries.length;n++){var s=r.helpEntries[n];0===s.prefix.indexOf(e)&&(f=new l(s.prefix,s.description,o.quickOpenService,e.length>0),s.needsEditor?v.push(f):d.push(f))}else 0===r.prefix.indexOf(e)&&(f=new l(r.prefix,r.description,o.quickOpenService,e.length>0),d.push(f))}),d.length>0&&d[0].setGroupLabel(n.localize("globalCommands","global commands")),v.length>0&&(v[0].setGroupLabel(n.localize("editorCommands","editor commands")),d.length>0&&v[0].setShowBorder(!0)),r.TPromise.as(new c.QuickOpenModel(d.concat(v)))},o.prototype.getAutoFocus=function(e){return e=e.trim(),{autoFocusFirstEntry:e.length>0,autoFocusPrefixMatch:e}},o=__decorate([__param(0,a.IQuickOpenService)],o)}(u.QuickOpenHandler);t.HelpHandler=h});