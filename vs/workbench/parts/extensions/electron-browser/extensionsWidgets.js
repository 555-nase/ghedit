/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
var __decorate=this&&this.__decorate||function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},__param=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};define(["require","exports","vs/base/common/lifecycle","./extensions","vs/base/browser/dom","vs/css!./media/extensionsWidgets"],function(e,t,n,i,s){"use strict";var o=function(){function e(e,t,n){this.element=e,this.fn=t,this.render(),this.listener=n.onChange(this.render,this)}return Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.render()},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.element.textContent=this.extension?this.fn(this.extension):""},e.prototype.dispose=function(){this.listener=n.dispose(this.listener)},e=__decorate([__param(2,i.IExtensionsWorkbenchService)],e)}();t.Label=o;var r=function(){function e(e,t,n){var i=this;this.container=e,this.options=t,this.disposables=[],this._extension=t.extension,this.disposables.push(n.onChange(function(){return i.render()})),s.addClass(e,"extension-install-count"),this.render()}return Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.render()},enumerable:!0,configurable:!0}),e.prototype.render=function(){if(this.container.innerHTML="",this.extension){var e=this.extension.installCount;if(null!==e){var t;this.options.small&&(e>1e6?t=Math.floor(e/1e6)+"M":e>1e3&&(t=Math.floor(e/1e3)+"K")),s.append(this.container,s.emmet("span.octicon.octicon-cloud-download"));var n=s.append(this.container,s.emmet("span.count"));n.textContent=t||String(e)}}},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e=__decorate([__param(2,i.IExtensionsWorkbenchService)],e)}();t.InstallWidget=r;var a=function(){function e(e,t,n){var i=this;this.container=e,this.options=t,this.disposables=[],this._extension=t.extension,this.disposables.push(n.onChange(function(){return i.render()})),s.addClass(e,"extension-ratings"),t.small&&s.addClass(e,"small"),this.render()}return Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.render()},enumerable:!0,configurable:!0}),e.prototype.render=function(){if(this.container.innerHTML="",this.extension){var e=Math.round(2*this.extension.rating)/2;if(null!==this.extension.rating&&(!this.options.small||0!==this.extension.ratingCount)){if(this.options.small)s.append(this.container,s.emmet("span.full.star"));else for(var t=1;t<=5;t++)e>=t?s.append(this.container,s.emmet("span.full.star")):e>=t-.5?s.append(this.container,s.emmet("span.half.star")):s.append(this.container,s.emmet("span.empty.star"));var n=s.append(this.container,s.emmet("span.count"));n.textContent=String(this.options.small?e:this.extension.ratingCount)}}},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e=__decorate([__param(2,i.IExtensionsWorkbenchService)],e)}();t.RatingsWidget=a});