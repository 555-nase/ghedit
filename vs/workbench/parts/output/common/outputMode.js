var __extends=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},__decorate=this&&this.__decorate||function(e,r,t,o){var n,i=arguments.length,c=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,t,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(c=(i<3?n(c):i>3?n(r,t,c):n(r,t))||c);return i>3&&c&&Object.defineProperty(r,t,c),c},__param=this&&this.__param||function(e,r){return function(t,o){r(t,o,e)}};define(["require","exports","vs/platform/instantiation/common/instantiation","vs/editor/common/modes","vs/editor/common/modes/abstractMode","vs/base/common/async","vs/editor/common/services/compatWorkerService","vs/platform/workspace/common/workspace"],function(e,r,t,o,n,i,c,a){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var s=function(e){function r(r,t,c,a){var s=this;if(e.call(this,r.id,c),this._modeWorkerManager=new n.ModeWorkerManager(r,"vs/workbench/parts/output/common/outputWorker","OutputWorker",null,t),o.LinkProviderRegistry.register(this.getId(),{provideLinks:function(e,r){return i.wireCancellationToken(r,s._provideLinks(e.uri))}}),c.isInMainThread){var p=a.getWorkspace();p&&this._configure(p.resource)}}return __extends(r,e),r.prototype._worker=function(e){return this._modeWorkerManager.worker(e)},r.prototype._configure=function(e){return this._worker(function(r){return r.configure(e)})},r.prototype._provideLinks=function(e){return this._worker(function(r){return r.provideLinks(e)})},r.$_configure=c.CompatWorkerAttr(r,r.prototype._configure),r.$_provideLinks=c.CompatWorkerAttr(r,r.prototype._provideLinks),r=__decorate([__param(1,t.IInstantiationService),__param(2,c.ICompatWorkerService),__param(3,a.IWorkspaceContextService)],r)}(n.CompatMode);r.OutputMode=s});