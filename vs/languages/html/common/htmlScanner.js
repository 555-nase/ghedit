define(["require","exports","vs/languages/html/common/htmlTokenTypes"],function(e,n,t){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function o(e){switch(e){case t.DELIM_START:case t.DELIM_END:case t.DELIM_ASSIGN:return!0}return!1}function r(e){switch(e){case t.DELIM_START:case t.DELIM_END:case t.DELIM_ASSIGN:case t.ATTRIB_NAME:case t.ATTRIB_VALUE:return!0}return t.isTag(e)}function u(e,n){var t=n.column-1,u=n.lineNumber,i=e.getLineTokens(u),T=e.getLineContent(u),g=i.findIndexOfOffset(t),c=i.getTokenCount(),s=i.getTokenType(g),a=i.getTokenStartIndex(g),k=i.getTokenEndIndex(g,T.length);return""!==s&&!o(s)||a!==t||(g--,g>=0?(s=i.getTokenType(g),a=i.getTokenStartIndex(g),k=i.getTokenEndIndex(g,T.length)):(s="",a=k=0)),{getTokenType:function(){return s},isAtTokenEnd:function(){return t===k},isAtTokenStart:function(){return t===a},getTokenContent:function(){return T.substring(a,k)},isOpenBrace:function(){return a<k&&"<"===T.charAt(a)},getTokenPosition:function(){return{lineNumber:u,column:a+1}},getTokenRange:function(){return{startLineNumber:u,startColumn:a+1,endLineNumber:u,endColumn:k+1}},getModel:function(){return e},scanBack:function(){if(u<=0)return!1;g--;do{for(;g>=0;){if(s=i.getTokenType(g),a=i.getTokenStartIndex(g),k=i.getTokenEndIndex(g,T.length),r(s))return!0;g--}u--,u>0&&(i=e.getLineTokens(u),T=e.getLineContent(u),c=i.getTokenCount(),g=c-1)}while(u>0);return i=null,s=T="",a=k=c=0,!1},scanForward:function(){if(u>e.getLineCount())return!1;g++;do{for(;g<c;){if(s=i.getTokenType(g),a=i.getTokenStartIndex(g),k=i.getTokenEndIndex(g,T.length),r(s))return!0;g++}u++,g=0,u<=e.getLineCount()&&(i=e.getLineTokens(u),T=e.getLineContent(u),c=i.getTokenCount())}while(u<=e.getLineCount());return s=T="",a=k=c=0,!1}}}n.getScanner=u});