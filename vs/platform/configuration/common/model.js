define(["require","exports","vs/base/common/objects","vs/platform/platform","vs/base/common/types","vs/base/common/json","./configurationRegistry"],function(e,r,t,n,o,i,s){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function a(e,r,t){var n=r.split("."),o=n.pop(),i=e;n.forEach(function(e){var t=i[e];switch(typeof t){case"undefined":t=i[e]=Object.create(null);break;case"object":break;default:console.log("Conflicting configuration setting: "+r+" at "+e+" with "+JSON.stringify(t))}i=t}),i[o]=t}function c(e){try{var r=Object.create(null),t=i.parse(e)||{};for(var n in t)a(r,n,t[n]);return{contents:r}}catch(o){return{contents:{},parseError:o}}}function u(e,r,t){Object.keys(r).forEach(function(n){n in e?o.isObject(e[n])&&o.isObject(r[n])?u(e[n],r[n],t):t&&(e[n]=r[n]):e[n]=r[n]})}function f(e){var n=Object.create(null),o=[],i=/\/(team\.)?([^\.]*)*\.json/;return Object.keys(e).forEach(function(s){var a=t.clone(e[s]),c=i.exec(s);if(c&&a){var f=!!c[1],l=n;if(c&&c[2]&&c[2]!==r.CONFIG_DEFAULT_NAME){var p=c[2],b=l[p];b||(b=Object.create(null),l[p]=b),l=b}u(l,a.contents,!f),a.parseError&&o.push(s)}}),{contents:n,parseErrors:o}}function l(e){var r=n.Registry.as(s.Extensions.Configuration).getConfigurations(),t=function(r,n){var o=e(r,0===n);Array.isArray(r.allOf)&&r.allOf.forEach(function(e){t(e,o||0!==n?n+1:n)})};r.sort(function(e,r){if("number"!=typeof e.order)return 1;if("number"!=typeof r.order)return-1;if(e.order===r.order){var t=e.title||"",n=r.title||"";return t.localeCompare(n)}return e.order-r.order}).forEach(function(e){t(e,0)})}function p(){var e=Object.create(null),r=function(r,t){return!!r.properties&&(Object.keys(r.properties).forEach(function(t){var n=r.properties[t],i=n["default"];o.isUndefined(n["default"])&&(i=h(n.type)),a(e,t,i)}),!0)};return l(r),e}function b(e){var r=-1,t=[];t.push("{");var n=function(n,i){var s=!1;return n.title&&(s=!0,i?(t.push(""),t.push("// "+n.title)):t.push(e+"// "+n.title),t.push("")),n.properties&&(s=!0,Object.keys(n.properties).forEach(function(i){var s=n.properties[i],a=s["default"];o.isUndefined(a)&&(a=h(s.type)),s.description&&t.push(e+"// "+s.description);var c=JSON.stringify(a,null,e);c&&"object"==typeof a&&(c=v(c,e)),r!==-1&&(t[r]+=","),r=t.length,t.push(e+JSON.stringify(i)+": "+c),t.push("")})),s};return l(n),t.push("}"),t.join("\n")}function v(e,r){return e.split("\n").join("\n"+r)}function h(e){var r=Array.isArray(e)?e[0]:e;switch(r){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}r.CONFIG_DEFAULT_NAME="settings",r.newConfigFile=c,r.merge=u,r.consolidate=f,r.getDefaultValues=p,r.getDefaultValuesContent=b});