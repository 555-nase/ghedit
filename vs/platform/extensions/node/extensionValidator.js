define(["require","exports","vs/nls","vs/platform/extensions/common/extensionsRegistry","semver"],function(e,s,i,n,r){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function a(e){return e=e.trim(),"*"===e||m.test(e)}function t(e){if(!a(e))return null;if(e=e.trim(),"*"===e)return{hasCaret:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};var s=e.match(m);return{hasCaret:!!s[1],majorBase:"x"===s[2]?0:parseInt(s[2],10),majorMustEqual:"x"!==s[2],minorBase:"x"===s[4]?0:parseInt(s[4],10),minorMustEqual:"x"!==s[4],patchBase:"x"===s[6]?0:parseInt(s[6],10),patchMustEqual:"x"!==s[6],preRelease:s[8]||null}}function o(e){if(!e)return null;var s=e.majorBase,i=e.majorMustEqual,n=e.minorBase,r=e.minorMustEqual,a=e.patchBase,t=e.patchMustEqual;return e.hasCaret&&(0===s?t=!1:(r=!1,t=!1)),{majorBase:s,majorMustEqual:i,minorBase:n,minorMustEqual:r,patchBase:a,patchMustEqual:t}}function u(e,s){var i;i="string"==typeof e?o(t(e)):e;var n;if(n="string"==typeof s?o(t(s)):s,!i||!n)return!1;var r=i.majorBase,a=i.minorBase,u=i.patchBase,l=n.majorBase,c=n.minorBase,m=n.patchBase,p=n.majorMustEqual,v=n.minorMustEqual,d=n.patchMustEqual;return 1!==r||0!==l||p&&v&&d||(l=1,c=0,m=0,p=!0,v=!1,d=!1),!(r<l)&&(r>l?!p:!(a<c)&&(a>c?!v:!(u<m)&&(!(u>m)||!d)))}function l(e,s,n){if(s.isBuiltin||"undefined"==typeof s.main)return!0;var r=o(t(s.engines.vscode));if(!r)return n.push(i.localize("versionSyntax","Could not parse `engines.vscode` value {0}. Please use, for example: ^0.10.0, ^1.2.3, ^0.11.0, ^0.10.x, etc.",s.engines.vscode)),!1;if(0===r.majorBase){if(!r.majorMustEqual||!r.minorMustEqual)return n.push(i.localize("versionSpecificity1","Version specified in `engines.vscode` ({0}) is not specific enough. For vscode versions before 1.0.0, please define at a minimum the major and minor desired version. E.g. ^0.10.0, 0.10.x, 0.11.0, etc.",s.engines.vscode)),!1}else if(!r.majorMustEqual)return n.push(i.localize("versionSpecificity2","Version specified in `engines.vscode` ({0}) is not specific enough. For vscode versions after 1.0.0, please define at a minimum the major desired version. E.g. ^1.10.0, 1.10.x, 1.x.x, 2.x.x, etc.",s.engines.vscode)),!1;return!!u(e,r)||(n.push(i.localize("versionMismatch","Extension is not compatible with Code {0}. Extension requires: {1}.",e,s.engines.vscode)),!1)}function c(e,s,a,t){return!!n.isValidExtensionDescription(s,a,t)&&(r.valid(a.version)?l(e,a,t):(t.push(i.localize("notSemver","Extension version is not semver compatible.")),!1))}var m=/^(\^)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/;s.isValidVersionStr=a,s.parseVersion=t,s.normalizeVersion=o,s.isValidVersion=u,s.isValidExtensionVersion=l,s.isValidExtensionDescription=c});