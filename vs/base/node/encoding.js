/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
define(["require","exports","vs/base/node/stream","iconv-lite"],function(e,n,t,r){"use strict";function u(e,n,t){return r.decode(e,f(n),t)}function o(e,n,t){return r.encode(e,f(n),t)}function i(e){return r.encodingExists(f(e))}function c(e){return r.decodeStream(f(e))}function d(e){return r.encodeStream(f(e))}function f(e){return e===n.UTF8_with_bom?n.UTF8:e}function l(e,t){if(!e||t<2)return null;var r=e.readUInt8(0),u=e.readUInt8(1);if(254===r&&255===u)return n.UTF16be;if(255===r&&254===u)return n.UTF16le;if(t<3)return null;var o=e.readUInt8(2);return 239===r&&187===u&&191===o?n.UTF8:null}function a(e,n){t.readExactlyByFile(e,3,function(e,t,r){return e?n(e,null):n(null,l(t,r))})}n.UTF8="utf8",n.UTF8_with_bom="utf8bom",n.UTF16be="utf16be",n.UTF16le="utf16le",n.decode=u,n.encode=o,n.encodingExists=i,n.decodeStream=c,n.encodeStream=d,n.detectEncodingByBOMFromBuffer=l,n.detectEncodingByBOM=a});