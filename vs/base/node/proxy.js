/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
define(["require","exports","url","vs/base/common/types","http-proxy-agent","https-proxy-agent"],function(t,r,e,o,n,p){"use strict";function s(t){return"http:"===t.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===t.protocol?process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null:null}function u(t,r){void 0===r&&(r={});var u=e.parse(t),c=r.proxyUrl||s(u);if(!c)return null;var l=e.parse(c);if(!/^https?:$/.test(l.protocol))return null;var h={host:l.hostname,port:Number(l.port),auth:l.auth,rejectUnauthorized:!o.isBoolean(r.strictSSL)||r.strictSSL};return"http:"===u.protocol?new n(h):new p(h)}r.getProxyAgent=u});