define(["require","exports","vs/nls"],function(e,r,n){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function t(e,r){function n(r,n){for(var t=0,a=0;t<r||!n;){var o=e.charCodeAt(p);if(o>=C._0&&o<=C._9)a=16*a+o-C._0;else if(o>=C.A&&o<=C.F)a=16*a+o-C.A+10;else{if(!(o>=C.a&&o<=C.f))break;a=16*a+o-C.a+10}p++,t++}return t<r&&(a=-1),a}function t(e){p=e,h="",m=0,v=g.Unknown,b=k.None}function i(){var r=p;if(e.charCodeAt(p)===C._0)p++;else for(p++;p<e.length&&c(e.charCodeAt(p));)p++;if(p<e.length&&e.charCodeAt(p)===C.dot){if(p++,!(p<e.length&&c(e.charCodeAt(p))))return b=k.UnexpectedEndOfNumber,e.substring(r,p);for(p++;p<e.length&&c(e.charCodeAt(p));)p++}var n=p;if(p<e.length&&(e.charCodeAt(p)===C.E||e.charCodeAt(p)===C.e))if(p++,(p<e.length&&e.charCodeAt(p)===C.plus||e.charCodeAt(p)===C.minus)&&p++,p<e.length&&c(e.charCodeAt(p))){for(p++;p<e.length&&c(e.charCodeAt(p));)p++;n=p}else b=k.UnexpectedEndOfNumber;return e.substring(r,n)}function l(){for(var r="",t=p;;){if(p>=f){r+=e.substring(t,p),b=k.UnexpectedEndOfString;break}var a=e.charCodeAt(p);if(a===C.doubleQuote){r+=e.substring(t,p),p++;break}if(a!==C.backslash){if(o(a)){r+=e.substring(t,p),b=k.UnexpectedEndOfString;break}p++}else{if(r+=e.substring(t,p),p++,p>=f){b=k.UnexpectedEndOfString;break}switch(a=e.charCodeAt(p++)){case C.doubleQuote:r+='"';break;case C.backslash:r+="\\";break;case C.slash:r+="/";break;case C.b:r+="\b";break;case C.f:r+="\f";break;case C.n:r+="\n";break;case C.r:r+="\r";break;case C.t:r+="\t";break;case C.u:var c=n(4,!0);c>=0?r+=String.fromCharCode(c):b=k.InvalidUnicode;break;default:b=k.InvalidEscapeCharacter}t=p}}return r}function u(){if(h="",b=k.None,m=p,p>=f)return m=f,v=g.EOF;var r=e.charCodeAt(p);if(a(r)){do p++,h+=String.fromCharCode(r),r=e.charCodeAt(p);while(a(r));return v=g.Trivia}if(o(r))return p++,h+=String.fromCharCode(r),r===C.carriageReturn&&e.charCodeAt(p)===C.lineFeed&&(p++,h+="\n"),v=g.LineBreakTrivia;switch(r){case C.openBrace:return p++,v=g.OpenBraceToken;case C.closeBrace:return p++,v=g.CloseBraceToken;case C.openBracket:return p++,v=g.OpenBracketToken;case C.closeBracket:return p++,v=g.CloseBracketToken;case C.colon:return p++,v=g.ColonToken;case C.comma:return p++,v=g.CommaToken;case C.doubleQuote:return p++,h=l(),v=g.StringLiteral;case C.slash:var n=p-1;if(e.charCodeAt(p+1)===C.slash){for(p+=2;p<f&&!o(e.charCodeAt(p));)p++;return h=e.substring(n,p),v=g.LineCommentTrivia}if(e.charCodeAt(p+1)===C.asterisk){p+=2;for(var t=f-1,u=!1;p<t;){var d=e.charCodeAt(p);if(d===C.asterisk&&e.charCodeAt(p+1)===C.slash){p+=2,u=!0;break}p++}return u||(p++,b=k.UnexpectedEndOfComment),h=e.substring(n,p),v=g.BlockCommentTrivia}return h+=String.fromCharCode(r),p++,v=g.Unknown;case C.minus:if(h+=String.fromCharCode(r),p++,p===f||!c(e.charCodeAt(p)))return v=g.Unknown;case C._0:case C._1:case C._2:case C._3:case C._4:case C._5:case C._6:case C._7:case C._8:case C._9:return h+=i(),v=g.NumericLiteral;default:for(;p<f&&s(r);)p++,r=e.charCodeAt(p);if(m!==p){switch(h=e.substring(m,p)){case"true":return v=g.TrueKeyword;case"false":return v=g.FalseKeyword;case"null":return v=g.NullKeyword}return v=g.Unknown}return h+=String.fromCharCode(r),p++,v=g.Unknown}}function s(e){if(a(e)||o(e))return!1;switch(e){case C.closeBrace:case C.closeBracket:case C.openBrace:case C.openBracket:case C.doubleQuote:case C.colon:case C.comma:return!1}return!0}function d(){var e;do e=u();while(e>=g.LineCommentTrivia&&e<=g.Trivia);return e}void 0===r&&(r=!1);var p=0,f=e.length,h="",m=0,v=g.Unknown,b=k.None;return{setPosition:t,getPosition:function(){return p},scan:r?d:u,getToken:function(){return v},getTokenValue:function(){return h},getTokenOffset:function(){return m},getTokenLength:function(){return p-m},getTokenError:function(){return b}}}function a(e){return e===C.space||e===C.tab||e===C.verticalTab||e===C.formFeed||e===C.nonBreakingSpace||e===C.ogham||e>=C.enQuad&&e<=C.zeroWidthSpace||e===C.narrowNoBreakSpace||e===C.mathematicalSpace||e===C.ideographicSpace||e===C.byteOrderMark}function o(e){return e===C.lineFeed||e===C.carriageReturn||e===C.lineSeparator||e===C.paragraphSeparator}function c(e){return e>=C._0&&e<=C._9}function i(e,r){var n,a,o=t(e),c=[],i=0;do switch(a=o.getPosition(),n=o.scan()){case g.LineCommentTrivia:case g.BlockCommentTrivia:case g.EOF:i!==a&&c.push(e.substring(i,a)),void 0!==r&&c.push(o.getTokenValue().replace(/[^\r\n]/g,r)),i=o.getPosition()}while(n!==g.EOF);return c.join("")}function l(e){switch(e){case v.InvalidSymbol:return n.localize("error.invalidSymbol","Invalid symbol");case v.InvalidNumberFormat:return n.localize("error.invalidNumberFormat","Invalid number format");case v.PropertyNameExpected:return n.localize("error.propertyNameExpected","Property name expected");case v.ValueExpected:return n.localize("error.valueExpected","Value expected");case v.ColonExpected:return n.localize("error.colonExpected","Colon expected");case v.CommaExpected:return n.localize("error.commaExpected","Comma expected");case v.CloseBraceExpected:return n.localize("error.closeBraceExpected","Closing brace expected");case v.CloseBracketExpected:return n.localize("error.closeBracketExpected","Closing bracket expected");case v.EndOfFileExpected:return n.localize("error.endOfFileExpected","End of file expected");default:return""}}function u(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null"}}function s(e,r){function n(e,r,n,t){c.value=e,c.offset=r,c.length=n,c.type=t,c.columnOffset=void 0,o=c}var t=[],a=new Object,o=void 0,c={value:void 0,offset:void 0,length:void 0,type:void 0},i=!1;try{m(e,{onObjectBegin:function(e,n){if(r<=e)throw a;o=void 0,i=r>e,t.push("")},onObjectProperty:function(e,o,c){if(r<o)throw a;if(n(e,o,c,"property"),t[t.length-1]=e,r<=o+c)throw a},onObjectEnd:function(e,n){if(r<=e)throw a;o=void 0,t.pop()},onArrayBegin:function(e,n){if(r<=e)throw a;o=void 0,t.push(0)},onArrayEnd:function(e,n){if(r<=e)throw a;o=void 0,t.pop()},onLiteralValue:function(e,t,o){if(r<t)throw a;if(n(e,t,o,u(e)),r<=t+o)throw a},onSeparator:function(e,n,c){if(r<=n)throw a;if(":"===e&&"property"===o.type)o.columnOffset=n,i=!1,o=void 0;else if(","===e){var l=t[t.length-1];"number"==typeof l?t[t.length-1]=l+1:(i=!0,t[t.length-1]=""),o=void 0}}})}catch(l){if(l!==a)throw l}return""===t[t.length-1]&&t.pop(),{path:t,previousNode:o,isAtPropertyKey:i,matches:function(e){for(var r=0,n=0;r<e.length&&n<t.length;n++)if(e[r]===t[n]||"*"===e[r])r++;else if("**"!==e[r])return!1;return r===e.length}}}function d(e,r,n){function t(e){Array.isArray(o)?o.push(e):a&&(o[a]=e)}void 0===r&&(r=[]);var a=null,o=[],c=[],i={onObjectBegin:function(){var e={};t(e),c.push(o),o=e,a=null},onObjectProperty:function(e){a=e},onObjectEnd:function(){o=c.pop()},onArrayBegin:function(){var e=[];t(e),c.push(o),o=e,a=null},onArrayEnd:function(){o=c.pop()},onLiteralValue:t,onError:function(e){r.push({error:e})}};return m(e,i,n),o[0]}function p(e,r,n){function t(e){"property"===o.type&&(o.length=e-o.offset,o=o.parent)}function a(e){return o.children.push(e),t(e.offset+e.length),e}void 0===r&&(r=[]);var o={type:"array",offset:-1,length:-1,children:[]},c={onObjectBegin:function(e){o=a({type:"object",offset:e,length:-1,parent:o,children:[]})},onObjectProperty:function(e,r,n){o=a({type:"property",offset:r,length:-1,parent:o,children:[]}),o.children.push({type:"string",value:e,offset:r,length:n,parent:o})},onObjectEnd:function(e,r){t(e),o.length=e+r-o.offset,o=o.parent},onArrayBegin:function(e,r){o=a({type:"array",offset:e,length:-1,parent:o,children:[]})},onArrayEnd:function(e,r){o.length=e+r-o.offset,o=o.parent},onLiteralValue:function(e,r,n){a({type:u(e),offset:r,length:n,parent:o,value:e})},onSeparator:function(e,r,n){"property"===o.type&&(":"===e?o.columnOffset=r:","===e&&t(r))},onError:function(e){r.push({error:e})}};m(e,c,n);var i=o.children[0];return i&&delete i.parent,i}function f(e,r){if(e){for(var n=e,t=0,a=r;t<a.length;t++){var o=a[t];if("string"==typeof o){if("object"!==n.type)return;for(var c=!1,i=0,l=n.children;i<l.length;i++){var u=l[i];if(u.children[0].value===o){n=u.children[1],c=!0;break}}if(!c)return}else{var s=o;if("array"!==n.type||s<0||s>=n.children.length)return;n=n.children[s]}}return n}}function h(e){if("array"===e.type)return e.children.map(h);if("object"===e.type){for(var r={},n=0,t=e.children;n<t.length;n++){var a=t[n];r[a.children[0].value]=h(a.children[1])}return r}return e.value}function m(e,r,n){function a(e){return e?function(){return e(h.getTokenOffset(),h.getTokenLength())}:function(){return!0}}function o(e){return e?function(r){return e(r,h.getTokenOffset(),h.getTokenLength())}:function(){return!0}}function c(){for(;;){var e=h.scan();switch(e){case g.LineCommentTrivia:case g.BlockCommentTrivia:B&&i(v.InvalidSymbol);break;case g.Unknown:i(v.InvalidSymbol);break;case g.Trivia:case g.LineBreakTrivia:break;default:return e}}}function i(e,r,n){if(void 0===r&&(r=[]),void 0===n&&(n=[]),x(e),r.length+n.length>0)for(var t=h.getToken();t!==g.EOF;){if(r.indexOf(t)!==-1){c();break}if(n.indexOf(t)!==-1)break;t=c()}}function l(e){if(h.getToken()!==g.StringLiteral)return!1;var r=h.getTokenValue();return e?E(r):k(r),c(),!0}function u(){switch(h.getToken()){case g.NumericLiteral:var e=0;try{e=JSON.parse(h.getTokenValue()),"number"!=typeof e&&(i(v.InvalidNumberFormat),e=0)}catch(r){i(v.InvalidNumberFormat)}E(e);break;case g.NullKeyword:E(null);break;case g.TrueKeyword:E(!0);break;case g.FalseKeyword:E(!1);break;default:return!1}return c(),!0}function s(){return l(!1)?(h.getToken()===g.ColonToken?(y(":"),c(),f()||i(v.ValueExpected,[],[g.CloseBraceToken,g.CommaToken])):i(v.ColonExpected,[],[g.CloseBraceToken,g.CommaToken]),!0):(i(v.PropertyNameExpected,[],[g.CloseBraceToken,g.CommaToken]),!1)}function d(){if(h.getToken()!==g.OpenBraceToken)return!1;m(),c();for(var e=!1;h.getToken()!==g.CloseBraceToken&&h.getToken()!==g.EOF;)h.getToken()===g.CommaToken?(e||i(v.ValueExpected,[],[]),y(","),c()):e&&i(v.CommaExpected,[],[]),s()||i(v.ValueExpected,[],[g.CloseBraceToken,g.CommaToken]),e=!0;return C(),h.getToken()!==g.CloseBraceToken?i(v.CloseBraceExpected,[g.CloseBraceToken],[]):c(),!0}function p(){if(h.getToken()!==g.OpenBracketToken)return!1;b(),c();for(var e=!1;h.getToken()!==g.CloseBracketToken&&h.getToken()!==g.EOF;)h.getToken()===g.CommaToken?(e||i(v.ValueExpected,[],[]),y(","),c()):e&&i(v.CommaExpected,[],[]),f()||i(v.ValueExpected,[],[g.CloseBracketToken,g.CommaToken]),e=!0;return T(),h.getToken()!==g.CloseBracketToken?i(v.CloseBracketExpected,[g.CloseBracketToken],[]):c(),!0}function f(){return p()||d()||l(!0)||u()}var h=t(e,!1),m=a(r.onObjectBegin),k=o(r.onObjectProperty),C=a(r.onObjectEnd),b=a(r.onArrayBegin),T=a(r.onArrayEnd),E=o(r.onLiteralValue),y=o(r.onSeparator),x=o(r.onError),B=n&&n.disallowComments;return c(),h.getToken()===g.EOF||(f()?(h.getToken()!==g.EOF&&i(v.EndOfFileExpected,[],[]),!0):(i(v.ValueExpected,[],[]),!1))}!function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter"}(r.ScanError||(r.ScanError={}));var k=r.ScanError;!function(e){e[e.Unknown=0]="Unknown",e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.EOF=16]="EOF"}(r.SyntaxKind||(r.SyntaxKind={}));var g=r.SyntaxKind;r.createScanner=t;var C;!function(e){e[e.nullCharacter=0]="nullCharacter",e[e.maxAsciiCharacter=127]="maxAsciiCharacter",e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.lineSeparator=8232]="lineSeparator",e[e.paragraphSeparator=8233]="paragraphSeparator",e[e.nextLine=133]="nextLine",e[e.space=32]="space",e[e.nonBreakingSpace=160]="nonBreakingSpace",e[e.enQuad=8192]="enQuad",e[e.emQuad=8193]="emQuad",e[e.enSpace=8194]="enSpace",e[e.emSpace=8195]="emSpace",e[e.threePerEmSpace=8196]="threePerEmSpace",e[e.fourPerEmSpace=8197]="fourPerEmSpace",e[e.sixPerEmSpace=8198]="sixPerEmSpace",e[e.figureSpace=8199]="figureSpace",e[e.punctuationSpace=8200]="punctuationSpace",e[e.thinSpace=8201]="thinSpace",e[e.hairSpace=8202]="hairSpace",e[e.zeroWidthSpace=8203]="zeroWidthSpace",e[e.narrowNoBreakSpace=8239]="narrowNoBreakSpace",e[e.ideographicSpace=12288]="ideographicSpace",e[e.mathematicalSpace=8287]="mathematicalSpace",e[e.ogham=5760]="ogham",e[e._=95]="_",e[e.$=36]="$",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.ampersand=38]="ampersand",e[e.asterisk=42]="asterisk",e[e.at=64]="at",e[e.backslash=92]="backslash",e[e.bar=124]="bar",e[e.caret=94]="caret",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.closeParen=41]="closeParen",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.equals=61]="equals",e[e.exclamation=33]="exclamation",e[e.greaterThan=62]="greaterThan",e[e.lessThan=60]="lessThan",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.openParen=40]="openParen",e[e.percent=37]="percent",e[e.plus=43]="plus",e[e.question=63]="question",e[e.semicolon=59]="semicolon",e[e.singleQuote=39]="singleQuote",e[e.slash=47]="slash",e[e.tilde=126]="tilde",e[e.backspace=8]="backspace",e[e.formFeed=12]="formFeed",e[e.byteOrderMark=65279]="byteOrderMark",e[e.tab=9]="tab",e[e.verticalTab=11]="verticalTab"}(C||(C={})),r.stripComments=i,function(e){e[e.InvalidSymbol=0]="InvalidSymbol",e[e.InvalidNumberFormat=1]="InvalidNumberFormat",e[e.PropertyNameExpected=2]="PropertyNameExpected",e[e.ValueExpected=3]="ValueExpected",e[e.ColonExpected=4]="ColonExpected",e[e.CommaExpected=5]="CommaExpected",e[e.CloseBraceExpected=6]="CloseBraceExpected",e[e.CloseBracketExpected=7]="CloseBracketExpected",e[e.EndOfFileExpected=8]="EndOfFileExpected"}(r.ParseErrorCode||(r.ParseErrorCode={}));var v=r.ParseErrorCode;r.getParseErrorMessage=l,r.getLocation=s,r.parse=d,r.parseTree=p,r.findNodeAtLocation=f,r.getNodeValue=h,r.visit=m});