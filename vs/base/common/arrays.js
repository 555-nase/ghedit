define(["require","exports"],function(n,r){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function t(n,r){return void 0===r&&(r=0),n[n.length-(1+r)]}function e(n,r){for(var t=0,e=n.length;t<e;t++)r(n[t],function(){n.splice(t,1),t--,e--})}function u(n,r,t){if(void 0===t&&(t=function(n,r){return n===r}),n.length!==r.length)return!1;for(var e=0,u=n.length;e<u;e++)if(!t(n[e],r[e]))return!1;return!0}function i(n,r,t){for(var e=0,u=n.length-1;e<=u;){var i=(e+u)/2|0,f=t(n[i],r);if(f<0)e=i+1;else{if(!(f>0))return i;u=i-1}}return-(e+1)}function f(n,r){var t=0,e=n.length;if(0===e)return 0;for(;t<e;){var u=Math.floor((t+e)/2);r(n[u])?e=u:t=u+1}return t}function o(n,r,t){for(var e=n.slice(0,t).sort(r),u=function(u,i){var o=n[u];if(r(o,e[t-1])<0){e.pop();var c=f(e,function(n){return r(o,n)<0});e.splice(c,0,o)}},i=t,o=n.length;i<o;i++)u(i,o);return e}function c(n,r){var t=new Array;if(r)for(var e={},u=0;u<n.length;u++)for(var i=0;i<n[u].length;i++){var f=n[u][i],o=r(f);e.hasOwnProperty(o)||(e[o]=!0,t.push(f))}else for(var u=0,c=n.length;u<c;u++)t.push.apply(t,n[u]);return t}function a(n){return n?n.filter(function(n){return!!n}):n}function l(n,r){return n.indexOf(r)>=0}function v(n,r,t){var e=n[r],u=n[t];n[r]=u,n[t]=e}function s(n,r,t){n.splice(t,0,n.splice(r,1)[0])}function h(n){return!Array.isArray(n)||0===n.length}function g(n,r){if(!r)return n.filter(function(r,t){return n.indexOf(r)===t});var t=Object.create(null);return n.filter(function(n){var e=r(n);return!t[e]&&(t[e]=!0,!0)})}function d(n){var r=Object.create(null);return function(t){var e=n(t);return!r[e]&&(r[e]=!0,!0)}}function p(n,r){for(var t=0;t<n.length;t++){var e=n[t];if(r(e))return t}return-1}function y(n,r,t){void 0===t&&(t=null);var e=p(n,r);return e<0?t:n[e]}function O(n,r,t){void 0===t&&(t=function(n,r){return n===r});for(var e=0,u=0,i=Math.min(n.length,r.length);u<i&&t(n[u],r[u]);u++)e++;return e}function m(n){return n.reduce(function(n,r){return n.concat(r)},[])}function x(n,r){void 0===r&&(r=0);for(var t=[],e=r;e<n;e++)t.push(e);return t}function b(n,r,t){void 0===t&&(t=[]);for(var e=0;e<n;e++)t[e]=r();return t}function j(n,r,t){return void 0===t&&(t=function(n){return n}),n.reduce(function(n,e){var u=r(e);return n[u]=t(e,n[u]),n},Object.create(null))}r.tail=t,r.forEach=e,r.equals=u,r.binarySearch=i,r.findFirst=f,r.top=o,r.merge=c,r.coalesce=a,r.contains=l,r.swap=v,r.move=s,r.isFalsyOrEmpty=h,r.distinct=g,r.uniqueFilter=d,r.firstIndex=p,r.first=y,r.commonPrefixLength=O,r.flatten=m,r.range=x,r.fill=b,r.index=j});