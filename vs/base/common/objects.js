define(["require","exports","vs/base/common/types"],function(r,e,t){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function n(r){if(!r||"object"!=typeof r)return r;if(r instanceof RegExp)return r;var e=Array.isArray(r)?[]:{};return Object.keys(r).forEach(function(t){r[t]&&"object"==typeof r[t]?e[t]=n(r[t]):e[t]=r[t]}),e}function o(r){if(!r||"object"!=typeof r)return r;var e=Array.isArray(r)?[]:{};return Object.getOwnPropertyNames(r).forEach(function(t){r[t]&&"object"==typeof r[t]?e[t]=o(r[t]):e[t]=r[t]}),e}function i(r,e){return u(r,e,[])}function u(r,e,n){if(t.isUndefinedOrNull(r))return r;var o=e(r);if("undefined"!=typeof o)return o;if(t.isArray(r)){for(var i=[],f=0;f<r.length;f++)i.push(u(r[f],e,n));return i}if(t.isObject(r)){if(n.indexOf(r)>=0)throw new Error("Cannot clone recursive data-structure");n.push(r);var c={};for(var a in r)b.call(r,a)&&(c[a]=u(r[a],e,n));return n.pop(),c}return r}function f(r,e,n){return void 0===n&&(n=!0),t.isObject(r)?(t.isObject(e)&&Object.keys(e).forEach(function(o){o in r?n&&(t.isObject(r[o])&&t.isObject(e[o])?f(r[o],e[o],n):r[o]=e[o]):r[o]=e[o]}),r):e}function c(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(e){return Object.keys(e).forEach(function(t){return r[t]=e[t]})}),r}function a(r,e,t){return void 0===t&&(t=function(r){return r}),r.reduce(function(r,n){return c(r,(o={},o[e(n)]=t(n),o));var o},Object.create(null))}function s(r,e){if(r===e)return!0;if(null===r||void 0===r||null===e||void 0===e)return!1;if(typeof r!=typeof e)return!1;if("object"!=typeof r)return!1;if(Array.isArray(r)!==Array.isArray(e))return!1;var t,n;if(Array.isArray(r)){if(r.length!==e.length)return!1;for(t=0;t<r.length;t++)if(!s(r[t],e[t]))return!1}else{var o=[];for(n in r)o.push(n);o.sort();var i=[];for(n in e)i.push(n);if(i.sort(),!s(o,i))return!1;for(t=0;t<o.length;t++)if(!s(r[o[t]],e[o[t]]))return!1}return!0}function y(r,e,t){"undefined"==typeof r[e]&&(r[e]=t)}function p(r){for(var e={},t=0;t<r.length;++t)e[r[t]]=!0;return e}function l(r,e){void 0===e&&(e=!1),e&&(r=r.map(function(r){return r.toLowerCase()}));var t=p(r);return e?function(r){return void 0!==t[r.toLowerCase()]&&t.hasOwnProperty(r.toLowerCase())}:function(r){return void 0!==t[r]&&t.hasOwnProperty(r)}}function v(r,e){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e=e||function(){};var n=r.prototype,o=e.prototype;e.prototype=Object.create(n);for(var t in o)o.hasOwnProperty(t)&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(o,t));Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0,enumerable:!0})}function O(r){var e=[];return JSON.stringify(r,function(r,n){if(t.isObject(n)||Array.isArray(n)){if(e.indexOf(n)!==-1)return"[Circular]";e.push(n)}return n})}function d(r,e,t){void 0===t&&(t=null);var n=e(r);return"undefined"==typeof n?t:n}e.clone=n,e.deepClone=o;var b=Object.prototype.hasOwnProperty;e.cloneAndChange=i,e.mixin=f,e.assign=c,e.toObject=a,e.equals=s,e.ensureProperty=y,e.arrayToHash=p,e.createKeywordMatcher=l,e.derive=v,e.safeStringify=O,e.getOrDefault=d});