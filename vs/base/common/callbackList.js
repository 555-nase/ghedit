define(["require","exports","vs/base/common/errors"],function(t,s,e){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var i=function(){function t(){}return t.prototype.add=function(t,s,e){var i=this;void 0===s&&(s=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(s),Array.isArray(e)&&e.push({dispose:function(){return i.remove(t,s)}})},t.prototype.remove=function(t,s){if(void 0===s&&(s=null),this._callbacks){for(var e=!1,i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t){if(this._contexts[i]===s)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);e=!0}if(e)throw new Error("When adding a listener with a context, you should remove it with the same context")}},t.prototype.invoke=function(){for(var t=[],s=0;s<arguments.length;s++)t[s-0]=arguments[s];if(this._callbacks){for(var i=[],o=this._callbacks.slice(0),c=this._contexts.slice(0),r=0,n=o.length;r<n;r++)try{i.push(o[r].apply(c[r],t))}catch(l){e.onUnexpectedError(l)}return i}},t.prototype.isEmpty=function(){return!this._callbacks||0===this._callbacks.length},t.prototype.dispose=function(){this._callbacks=void 0,this._contexts=void 0},t}();Object.defineProperty(s,"__esModule",{value:!0}),s["default"]=i});