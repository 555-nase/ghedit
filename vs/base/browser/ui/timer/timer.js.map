{"version":3,"file":"vs/base/browser/ui/timer/timer.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/base/browser/ui/timer/timer.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport 'vs/css!./timer';\nimport {TimeKeeper, ITimerEvent, getTimeKeeper} from 'vs/base/common/timer';\nimport {IDisposable, dispose} from 'vs/base/common/lifecycle';\nimport DomUtils = require('vs/base/browser/dom');\n\ninterface IUnmatchedStartTimerEvent {\n\tevent: ITimerEvent;\n\tdomNode: HTMLElement;\n}\n\nexport class TimeKeeperRenderer {\n\n\tprivate listenersToRemove: IDisposable[];\n\tprivate timeKeeper: TimeKeeper;\n\tprivate outerDomNode: HTMLElement;\n\tprivate domNode: HTMLElement;\n\tprivate renderCnt: number;\n\tprivate lastEventIndex: number;\n\n\tprivate textFilter: string;\n\tprivate textFilterDomNode: HTMLInputElement;\n\tprivate timeFilter: number;\n\tprivate timeFilterDomNode: HTMLInputElement;\n\tprivate intervalTokenId: number;\n\n\tprivate renderedEvents: {\n\t\t[key: string]: ITimerEvent;\n\t};\n\n\tprivate onHide: () => void;\n\n\tconstructor(onHide: () => void) {\n\t\tthis.timeKeeper = getTimeKeeper();\n\t\tthis.onHide = onHide;\n\t\tthis.lastEventIndex = 0;\n\t\tthis.renderedEvents = {};\n\t\tthis.renderCnt = 0;\n\t\tthis.listenersToRemove = [];\n\t\tthis.domNode = this._createDomNode();\n\t\tthis.intervalTokenId = window.setInterval(() => this._render(), 500);\n\t}\n\n\tpublic destroy(): void {\n\t\tdocument.body.removeChild(this.outerDomNode);\n\t\twindow.clearInterval(this.intervalTokenId);\n\t\tthis.listenersToRemove = dispose(this.listenersToRemove);\n\t}\n\n\tprivate _createDomNode(): HTMLElement {\n\t\tthis.outerDomNode = document.createElement('div');\n\t\tthis.outerDomNode.className = 'benchmarktimerbox';\n\n\t\t// Clear\n\t\tlet cancel: HTMLInputElement = <HTMLInputElement>document.createElement('input');\n\t\tcancel.type = 'button';\n\t\tcancel.value = 'Clear';\n\t\tthis.listenersToRemove.push(DomUtils.addDisposableListener(cancel, 'click', () => this._onClear()));\n\t\tthis.outerDomNode.appendChild(cancel);\n\n\t\t// Text filter\n\t\tthis.textFilterDomNode = <HTMLInputElement>document.createElement('input');\n\t\tthis.textFilterDomNode.type = 'text';\n\t\tthis.textFilterDomNode.className = 'textFilter';\n\t\tthis.listenersToRemove.push(DomUtils.addDisposableListener(this.textFilterDomNode, 'keydown', () => this.onTextFilterChange()));\n\t\tthis.textFilter = '';\n\t\tthis.outerDomNode.appendChild(document.createTextNode('Filter'));\n\t\tthis.outerDomNode.appendChild(this.textFilterDomNode);\n\n\t\t// Time filter\n\t\tthis.timeFilterDomNode = <HTMLInputElement>document.createElement('input');\n\t\tthis.timeFilterDomNode.type = 'text';\n\t\tthis.timeFilterDomNode.value = '0';\n\t\tthis.timeFilterDomNode.className = 'timeFilter';\n\t\tthis.listenersToRemove.push(DomUtils.addDisposableListener(this.timeFilterDomNode, 'keydown', () => this.onTimeFilterChange()));\n\t\tthis.timeFilter = 0;\n\t\tthis.outerDomNode.appendChild(document.createTextNode('Hide time under'));\n\t\tthis.outerDomNode.appendChild(this.timeFilterDomNode);\n\n\t\tlet hide: HTMLInputElement = <HTMLInputElement>document.createElement('input');\n\t\thide.type = 'button';\n\t\thide.value = 'Close';\n\t\tthis.listenersToRemove.push(DomUtils.addDisposableListener(hide, 'click', () => {\n\t\t\tthis.onHide();\n\t\t}));\n\t\tthis.outerDomNode.appendChild(hide);\n\n\t\tlet heading = document.createElement('pre');\n\t\theading.appendChild(document.createTextNode(this.renderRow('TOPIC', 'NAME', 'TOOK', 'START', 'END')));\n\t\tthis.outerDomNode.appendChild(heading);\n\t\tthis.outerDomNode.appendChild(document.createElement('hr'));\n\n\t\tlet domNode = document.createElement('div');\n\t\tdomNode.className = 'inner';\n\t\tthis.outerDomNode.appendChild(domNode);\n\n\t\tdocument.body.appendChild(this.outerDomNode);\n\n\t\treturn domNode;\n\t}\n\n\tprivate onTextFilterChange(): void {\n\t\tsetTimeout(() => {\n\t\t\tthis.refilter();\n\t\t});\n\t}\n\n\tprivate onTimeFilterChange(): void {\n\t\tsetTimeout(() => {\n\t\t\tthis.refilter();\n\t\t});\n\t}\n\n\tprivate matchesTextFilter(event: ITimerEvent): boolean {\n\t\tif (!this.textFilter) {\n\t\t\treturn true;\n\t\t}\n\t\tif (event.topic.toLowerCase().indexOf(this.textFilter.toLowerCase()) >= 0) {\n\t\t\treturn true;\n\t\t}\n\t\tif (event.name.toLowerCase().indexOf(this.textFilter.toLowerCase()) >= 0) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate matchesTimeFilter(event: ITimerEvent): boolean {\n\t\tif (!this.timeFilter) {\n\t\t\treturn true;\n\t\t}\n\t\tif (event.timeTaken() >= this.timeFilter) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate shouldShow(event: ITimerEvent): boolean {\n\t\treturn this.matchesTextFilter(event) && this.matchesTimeFilter(event);\n\t}\n\n\tprivate refilter(): void {\n\t\tthis.textFilter = this.textFilterDomNode.value;\n\t\tthis.timeFilter = parseInt(this.timeFilterDomNode.value, 10);\n\n\t\tlet domNodes = Array.prototype.slice.call(this.domNode.children, 0);\n\t\tfor (let i = 0; i < domNodes.length; i++) {\n\t\t\tlet eventId = domNodes[i].getAttribute('data-event-id');\n\t\t\tlet event = this.renderedEvents[eventId];\n\n\t\t\tif (this.shouldShow(event)) {\n\t\t\t\tdomNodes[i].style.display = 'inherit';\n\t\t\t} else {\n\t\t\t\tdomNodes[i].style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _onClear(): void {\n\t\tthis.lastEventIndex = this.timeKeeper.getCollectedEvents().length;\n\t\tthis.renderedEvents = {};\n\t\tthis.renderCnt = 0;\n\t\tDomUtils.clearNode(this.domNode);\n\t}\n\n\tprivate leftPaddedString(size: number, padChar: string, str: string): string {\n\t\tlet spaces = this._repeatStr(padChar, Math.max(0, size - str.length));\n\t\treturn spaces + str;\n\t}\n\n\tprivate rightPaddedString(size: number, padChar: string, str: string): string {\n\t\tlet spaces = this._repeatStr(padChar, Math.max(0, size - str.length));\n\t\treturn str + spaces;\n\t}\n\n\tprivate renderRow(topic: string, name: string, timeTook: string, timeStart: string, timerEnd: string): string {\n\t\tlet result = ' ';\n\t\tresult += this.rightPaddedString(10, ' ', topic);\n\t\tresult += this.rightPaddedString(30, ' ', name);\n\t\tresult += ' ' + this.leftPaddedString(15, ' ', timeTook);\n\t\tresult += ' ' + this.leftPaddedString(13, ' ', timeStart);\n\t\treturn result;\n\t}\n\n\tprivate _suffix0(s: string): string {\n\t\tif (s.charAt(s.length - 3) === '.') {\n\t\t\treturn s;\n\t\t}\n\t\tif (s.charAt(s.length - 2) === '.') {\n\t\t\treturn s + '0';\n\t\t}\n\t\treturn s + '.00';\n\t}\n\n\tprivate _twoPrecision(a: number): string {\n\t\treturn this._suffix0(Math.round(a * 100) / 100 + '');\n\t}\n\n\tprivate _absoluteTime(t: number): string {\n\t\tif (t < 1000) {\n\t\t\treturn this._twoPrecision(t) + ' ms';\n\t\t}\n\t\tt /= 1000;\n\t\tif (t < 60) {\n\t\t\treturn this._twoPrecision(t) + ' s';\n\t\t}\n\t\tt /= 60;\n\t\tif (t < 60) {\n\t\t\treturn this._twoPrecision(t) + ' m';\n\t\t}\n\t\tt /= 60;\n\t\treturn this._twoPrecision(t) + ' h';\n\t}\n\n\tprivate _renderEvent(domNode: HTMLElement, event: ITimerEvent): void {\n\t\tlet start = event.startTime.getTime() - TimeKeeper.PARSE_TIME.getTime();\n\n\t\tlet result = this.renderRow(\n\t\t\tevent.topic,\n\t\t\tevent.name,\n\t\t\tthis._twoPrecision(event.timeTaken()),\n\t\t\tthis._absoluteTime(start) + '',\n\t\t\tthis._absoluteTime(start + event.timeTaken())\n\t\t);\n\t\tdomNode.textContent = '';\n\t\tdomNode.appendChild(document.createTextNode(result));\n\t}\n\n\tprivate _renderStartTimerEvent(event: ITimerEvent): void {\n\t\tlet domNode = document.createElement('pre');\n\t\tthis._renderEvent(domNode, event);\n\t\tthis.domNode.appendChild(domNode);\n\t\tlet idString = event.id.toString();\n\n\t\tdomNode.setAttribute('data-event-id', idString);\n\t\tdomNode.className = 'timer-event-' + (event.id % 2);\n\t\tthis.renderedEvents[idString] = event;\n\n\t\tif (this.shouldShow(this.renderedEvents[idString])) {\n\t\t\tdomNode.style.display = 'inherit';\n\t\t} else {\n\t\t\tdomNode.style.display = 'none';\n\t\t}\n\n\t\tthis.renderCnt++;\n\t}\n\n\tprivate _render(): void {\n\t\tlet allEvents = this.timeKeeper.getCollectedEvents(), didSomething = false;\n\n\t\tfor (let i = this.lastEventIndex; i < allEvents.length; i++) {\n\t\t\tlet ev = allEvents[i];\n\n\t\t\tif (!ev.stopTime) {\n\t\t\t\t// This event is not yet finished => block\n\t\t\t\tthis.lastEventIndex = i;\n\t\t\t\tif (didSomething) {\n\t\t\t\t\tthis.domNode.scrollTop = 100000;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._renderStartTimerEvent(ev);\n\t\t\tdidSomething = true;\n\t\t}\n\n\t\tif (didSomething) {\n\t\t\tthis.domNode.scrollTop = 100000;\n\t\t}\n\t\tthis.lastEventIndex = allEvents.length;\n\t}\n\n\tprivate _repeatStr(str: string, cnt: number): string {\n\t\tlet r = '';\n\t\tfor (let i = 0; i < cnt; i++) {\n\t\t\tr += str;\n\t\t}\n\t\treturn r;\n\t}\n}\n\n"]}