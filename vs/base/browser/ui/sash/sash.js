/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
var __extends=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)};define(["require","exports","vs/base/common/lifecycle","vs/base/browser/builder","vs/base/browser/browser","vs/base/common/platform","vs/base/common/types","vs/base/browser/dom","vs/base/browser/touch","vs/base/common/eventEmitter","vs/base/browser/mouseEvent","vs/css!./sash"],function(t,e,s,i,o,n,r,a,h,p,c){"use strict";!function(t){t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL"}(e.Orientation||(e.Orientation={}));var u=e.Orientation,d=function(t){function e(e,s,r){var p=this;void 0===r&&(r={}),t.call(this),this.$e=i.$(".monaco-sash").appendTo(e),n.isMacintosh&&this.$e.addClass("mac"),this.gesture=new h.Gesture(this.$e.getHTMLElement()),this.$e.on(a.EventType.MOUSE_DOWN,function(t){p.onMouseDown(t)}),this.$e.on(a.EventType.DBLCLICK,function(t){p.emit("reset",t)}),this.$e.on(h.EventType.Start,function(t){p.onTouchStart(t)}),this.orientation=r.orientation||u.VERTICAL,this.$e.addClass(this.getOrientation()),this.size=r.baseSize||5,o.isIPad&&(this.size*=4,this.$e.addClass("touch")),this.orientation===u.HORIZONTAL?this.$e.size(null,this.size):this.$e.size(this.size),this.isDisabled=!1,this.hidden=!1,this.layoutProvider=s}return __extends(e,t),e.prototype.getHTMLElement=function(){return this.$e.getHTMLElement()},e.prototype.getOrientation=function(){return this.orientation===u.HORIZONTAL?"horizontal":"vertical"},e.prototype.onMouseDown=function(t){var e=this;if(a.EventHelper.stop(t,!1),!this.isDisabled){i.$(a.getElementsByTagName("iframe")).style("pointer-events","none");var s=new c.StandardMouseEvent(t),o=s.posx,r=s.posy,h={startX:o,currentX:o,startY:r,currentY:r};this.$e.addClass("active"),this.emit("start",h);var p=i.$(window),u=this.getOrientation()+"-cursor-container"+(n.isMacintosh?"-mac":""),d=o,l=r;p.on("mousemove",function(t){a.EventHelper.stop(t,!1);var s=new c.StandardMouseEvent(t),i={startX:o,currentX:s.posx,startY:r,currentY:s.posy};d=s.posx,l=s.posy,e.emit("change",i)}).once("mouseup",function(t){a.EventHelper.stop(t,!1),e.$e.removeClass("active"),e.emit("end"),p.off("mousemove"),document.body.classList.remove(u),i.$(a.getElementsByTagName("iframe")).style("pointer-events","auto")}),document.body.classList.add(u)}},e.prototype.onTouchStart=function(t){var e=this;a.EventHelper.stop(t);var i=[],o=t.pageX,n=t.pageY;this.emit("start",{startX:o,currentX:o,startY:n,currentY:n});var p=o,c=n;i.push(a.addDisposableListener(this.$e.getHTMLElement(),h.EventType.Change,function(t){r.isNumber(t.pageX)&&r.isNumber(t.pageY)&&(e.emit("change",{startX:o,currentX:t.pageX,startY:n,currentY:t.pageY}),p=t.pageX,c=t.pageY)})),i.push(a.addDisposableListener(this.$e.getHTMLElement(),h.EventType.End,function(t){e.emit("end"),s.dispose(i)}))},e.prototype.layout=function(){var t;if(this.orientation===u.VERTICAL){var e=this.layoutProvider;t={left:e.getVerticalSashLeft(this)-this.size/2+"px"},e.getVerticalSashTop&&(t.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(t.height=e.getVerticalSashHeight(this)+"px")}else{var s=this.layoutProvider;t={top:s.getHorizontalSashTop(this)-this.size/2+"px"},s.getHorizontalSashLeft&&(t.left=s.getHorizontalSashLeft(this)+"px"),s.getHorizontalSashWidth&&(t.width=s.getHorizontalSashWidth(this)+"px")}this.$e.style(t)},e.prototype.show=function(){this.hidden=!1,this.$e.show()},e.prototype.hide=function(){this.hidden=!0,this.$e.hide()},e.prototype.isHidden=function(){return this.hidden},e.prototype.enable=function(){this.$e.removeClass("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.$e.addClass("disabled"),this.isDisabled=!0},e.prototype.dispose=function(){this.$e&&(this.$e.destroy(),this.$e=null),t.prototype.dispose.call(this)},e}(p.EventEmitter);e.Sash=d});