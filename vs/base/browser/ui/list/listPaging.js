/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
define(["require","exports","vs/base/common/arrays","./listWidget","vs/base/common/event","vs/css!./list"],function(e,t,n,o,r){"use strict";var i=function(){function e(e,t){this.renderer=e,this.modelProvider=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this.renderer.templateId},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{data:t,disposable:{dispose:function(){}}}},e.prototype.renderElement=function(e,t,n){var o=this;n.disposable.dispose();var r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,n.data);var i=r.resolve(e);n.disposable={dispose:function(){return i.cancel()}},this.renderer.renderPlaceholder(e,n.data),i.done(function(t){return o.renderer.renderElement(t,e,n.data)})},e.prototype.disposeTemplate=function(e){e.disposable.dispose(),e.disposable=null,this.renderer.disposeTemplate(e.data),e.data=null},e}(),s=function(){function e(e,t,n){var r=this,s=n.map(function(e){return new i(e,function(){return r.model})});this.list=new o.List(e,t,s)}return Object.defineProperty(e.prototype,"onDOMFocus",{get:function(){return this.list.onDOMFocus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var e=this;return r.mapEvent(this.list.onFocusChange,function(t){var n=t.elements,o=t.indexes;return{elements:n.map(function(t){return e._model.get(t)}),indexes:o}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var e=this;return r.mapEvent(this.list.onSelectionChange,function(t){var n=t.elements,o=t.indexes;return{elements:n.map(function(t){return e._model.get(t)}),indexes:o}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){this._model=e,(t=this.list).splice.apply(t,[0,this.list.length].concat(n.range(e.length)));var t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.list.scrollTop},set:function(e){this.list.scrollTop=e},enumerable:!0,configurable:!0}),e.prototype.focusNext=function(e,t){this.list.focusNext(e,t)},e.prototype.focusPrevious=function(e,t){this.list.focusPrevious(e,t)},e.prototype.selectNext=function(e,t){this.list.selectNext(e,t)},e.prototype.selectPrevious=function(e,t){this.list.selectPrevious(e,t)},e.prototype.focusNextPage=function(){this.list.focusNextPage()},e.prototype.focusPreviousPage=function(){this.list.focusPreviousPage()},e.prototype.getFocus=function(){return this.list.getFocus()},e.prototype.setSelection=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];(n=this.list).setSelection.apply(n,e);var n},e.prototype.layout=function(e){this.list.layout(e)},e.prototype.reveal=function(e,t){this.list.reveal(e,t)},e}();t.PagedList=s});