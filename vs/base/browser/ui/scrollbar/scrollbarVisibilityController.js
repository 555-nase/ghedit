var __extends=this&&this.__extends||function(i,e){function s(){this.constructor=i}for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)};define(["require","exports","vs/base/common/lifecycle","vs/base/common/async","vs/base/common/scrollable"],function(i,e,s,t,o){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var l=function(i){function e(e,s,o){i.call(this),this._visibility=e,this._visibleClassName=s,this._invisibleClassName=o,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new t.TimeoutTimer)}return __extends(e,i),e.prototype.applyVisibilitySetting=function(i){return this._visibility!==o.ScrollbarVisibility.Hidden&&(this._visibility===o.ScrollbarVisibility.Visible||i)},e.prototype.setShouldBeVisible=function(i){var e=this.applyVisibilitySetting(i);this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())},e.prototype.setIsNeeded=function(i){this._isNeeded!==i&&(this._isNeeded=i,this.ensureVisibility())},e.prototype.setDomNode=function(i){this._domNode=i,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},e.prototype.ensureVisibility=function(){return this._isNeeded?void(this._shouldBeVisible?this._reveal():this._hide(!0)):void this._hide(!1)},e.prototype._reveal=function(){var i=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){i._domNode.setClassName(i._visibleClassName)},0))},e.prototype._hide=function(i){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode.setClassName(this._invisibleClassName+(i?" fade":"")))},e}(s.Disposable);e.ScrollbarVisibilityController=l});