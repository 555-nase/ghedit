var __extends=this&&this.__extends||function(t,o){function e(){this.constructor=t}for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i]);t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)};define(["require","exports","vs/base/common/keyCodes","vs/base/browser/styleMutator","vs/editor/common/core/position","vs/editor/browser/editorBrowser","vs/base/browser/ui/widget"],function(t,o,e,i,s,n,r){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var d=function(t){function o(o,i){var s=this;t.call(this),this.allowEditorOverflow=!0,this._id=o,this._editor=i,this._isVisible=!1,this._containerDomNode=document.createElement("div"),this._containerDomNode.className="monaco-editor-hover monaco-editor-background",this._domNode=document.createElement("div"),this._domNode.style.display="inline-block",this._containerDomNode.appendChild(this._domNode),this._containerDomNode.tabIndex=0,this.onkeydown(this._containerDomNode,function(t){t.equals(e.CommonKeybindings.ESCAPE)&&s.hide()}),this._editor.applyFontInfo(this._domNode),this._register(this._editor.onDidChangeConfiguration(function(t){t.fontInfo&&s._editor.applyFontInfo(s._domNode)})),this._editor.addContentWidget(this),this._showAtPosition=null}return __extends(o,t),o.prototype.getId=function(){return this._id},o.prototype.getDomNode=function(){return this._containerDomNode},o.prototype.showAt=function(t,o){this._showAtPosition=new s.Position(t.lineNumber,t.column),this._isVisible=!0;var e=Math.min(800,parseInt(this._containerDomNode.style.maxWidth,10));i.StyleMutator.setWidth(this._containerDomNode,e),i.StyleMutator.setHeight(this._containerDomNode,0),i.StyleMutator.setLeft(this._containerDomNode,0);var n=Math.min(e,this._domNode.clientWidth+5),r=this._domNode.clientHeight+1;i.StyleMutator.setWidth(this._containerDomNode,n),i.StyleMutator.setHeight(this._containerDomNode,r),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=o,o&&this._containerDomNode.focus()},o.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},o.prototype.getPosition=function(){return this._isVisible?{position:this._showAtPosition,preference:[n.ContentWidgetPositionPreference.ABOVE,n.ContentWidgetPositionPreference.BELOW]}:null},o.prototype.dispose=function(){this._editor.removeContentWidget(this),t.prototype.dispose.call(this)},o}(r.Widget);o.ContentHoverWidget=d;var h=function(t){function o(o,e){var i=this;t.call(this),this._id=o,this._editor=e,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-editor-hover monaco-editor-background",this._domNode.style.display="none",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","presentation"),this._showAtLineNumber=-1,this._editor.applyFontInfo(this._domNode),this._register(this._editor.onDidChangeConfiguration(function(t){t.fontInfo&&i._editor.applyFontInfo(i._domNode)})),this._editor.addOverlayWidget(this)}return __extends(o,t),o.prototype.getId=function(){return this._id},o.prototype.getDomNode=function(){return this._domNode},o.prototype.showAt=function(t){this._showAtLineNumber=t,this._isVisible||(this._isVisible=!0,this._domNode.style.display="block");var o=this._editor.getLayoutInfo(),e=this._editor.getTopForLineNumber(this._showAtLineNumber),i=this._editor.getScrollTop();this._domNode.style.left=o.glyphMarginLeft+o.glyphMarginWidth+"px",this._domNode.style.top=e-i+"px"},o.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},o.prototype.getPosition=function(){return null},o.prototype.dispose=function(){this._editor.removeOverlayWidget(this),t.prototype.dispose.call(this)},o}(r.Widget);o.GlyphHoverWidget=h});