var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)};define(["require","exports","vs/nls","vs/base/common/keyCodes","vs/base/common/winjs.base","vs/editor/contrib/linesOperations/common/sortLinesCommand","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/editorAction","vs/editor/common/editorCommon","vs/editor/common/editorCommonExtensions","./copyLinesCommand","./deleteLinesCommand","./moveLinesCommand"],function(e,t,o,n,i,r,s,d,c,m,l,a,u){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var y=function(e){function t(t,o,n){e.call(this,t,o),this.down=n}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),o=0;o<t.length;o++)e.push(new l.CopyLinesCommand(t[o],this.down));return this.editor.executeCommands(this.id,e),i.TPromise.as(!0)},t}(d.EditorAction),C=function(e){function t(t,o){e.call(this,t,o,!1)}return __extends(t,e),t.ID="editor.action.copyLinesUpAction",t}(y),p=function(e){function t(t,o){e.call(this,t,o,!0)}return __extends(t,e),t.ID="editor.action.copyLinesDownAction",t}(y),E=function(e){function t(t,o,n){e.call(this,t,o),this.down=n}return __extends(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),o=0;o<t.length;o++)e.push(new u.MoveLinesCommand(t[o],this.down));return this.editor.executeCommands(this.id,e),i.TPromise.as(!0)},t}(d.EditorAction),h=function(e){function t(t,o){e.call(this,t,o,!1)}return __extends(t,e),t.ID="editor.action.moveLinesUpAction",t}(E),A=function(e){function t(t,o){e.call(this,t,o,!0)}return __extends(t,e),t.ID="editor.action.moveLinesDownAction",t}(E),K=function(e){function t(t,o,n){e.call(this,t,o),this.descending=n}return __extends(t,e),t.prototype.run=function(){if(!r.SortLinesCommand.canRun(this.editor.getModel(),this.editor.getSelection(),this.descending))return i.TPromise.as(!1);var e=new r.SortLinesCommand(this.editor.getSelection(),this.descending);return this.editor.executeCommands(this.id,[e]),i.TPromise.as(!0)},t}(d.EditorAction),x=function(e){function t(t,o){e.call(this,t,o,!1)}return __extends(t,e),t.ID="editor.action.sortLinesAscending",t}(K),f=function(e){function t(t,o){e.call(this,t,o,!0)}return __extends(t,e),t.ID="editor.action.sortLinesDescending",t}(K),L=function(e){function t(t,o){e.call(this,t,o)}return __extends(t,e),t.prototype.run=function(){var e=new s.TrimTrailingWhitespaceCommand(this.editor.getSelection());return this.editor.executeCommands(this.id,[e]),i.TPromise.as(!0)},t.ID="editor.action.trimTrailingWhitespace",t}(d.EditorAction);t.TrimTrailingWhitespaceAction=L;var D=function(e){function t(t,o){e.call(this,t,o)}return __extends(t,e),t.prototype._getLinesToRemove=function(){var e=this.editor.getSelections().map(function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,endLineNumber:t,positionColumn:e.positionColumn}});e.sort(function(e,t){return e.startLineNumber-t.startLineNumber});for(var t=[],o=e[0],n=1;n<e.length;n++)o.endLineNumber+1===e[n].startLineNumber?o.endLineNumber=e[n].endLineNumber:(t.push(o),o=e[n]);return t.push(o),t},t}(d.EditorAction),g=function(e){function t(t,o){e.call(this,t,o)}return __extends(t,e),t.prototype.run=function(){var e=this._getLinesToRemove(),t=e.map(function(e){return new a.DeleteLinesCommand(e.startLineNumber,e.endLineNumber,e.positionColumn)});return this.editor.executeCommands(this.id,t),i.TPromise.as(!0)},t.ID="editor.action.deleteLines",t}(D),_=function(e){function t(t,o){e.call(this,t,o,c.Handler.Indent)}return __extends(t,e),t.ID="editor.action.indentLines",t}(d.HandlerEditorAction),w=function(e){function t(t,o){e.call(this,t,o,c.Handler.Outdent)}return __extends(t,e),t.ID="editor.action.outdentLines",t}(d.HandlerEditorAction),v=function(e){function t(t,o){e.call(this,t,o,c.Handler.LineInsertBefore)}return __extends(t,e),t.ID="editor.action.insertLineBefore",t}(d.HandlerEditorAction),M=function(e){function t(t,o){e.call(this,t,o,c.Handler.LineInsertAfter)}return __extends(t,e),t.ID="editor.action.insertLineAfter",t}(d.HandlerEditorAction);m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(g,g.ID,o.localize("lines.delete","Delete Line"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_K},"Delete Line")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(x,x.ID,o.localize("lines.sortAscending","Sort Lines Ascending"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_2},"Sort Lines Ascending")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(f,f.ID,o.localize("lines.sortDescending","Sort Lines Descending"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_3},"Sort Lines Descending")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(L,L.ID,o.localize("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.chord(n.KeyMod.CtrlCmd|n.KeyCode.KEY_K,n.KeyMod.CtrlCmd|n.KeyCode.KEY_X)},"Trim Trailing Whitespace")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(A,A.ID,o.localize("lines.moveDown","Move Line Down"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.Alt|n.KeyCode.DownArrow,linux:{primary:n.KeyMod.Alt|n.KeyCode.DownArrow}},"Move Line Down")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(h,h.ID,o.localize("lines.moveUp","Move Line Up"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.Alt|n.KeyCode.UpArrow,linux:{primary:n.KeyMod.Alt|n.KeyCode.UpArrow}},"Move Line Up")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(p,p.ID,o.localize("lines.copyDown","Copy Line Down"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.DownArrow,linux:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.DownArrow}},"Copy Line Down")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(C,C.ID,o.localize("lines.copyUp","Copy Line Up"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.UpArrow,linux:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.UpArrow}},"Copy Line Up")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(_,_.ID,o.localize("lines.indent","Indent Line"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.US_CLOSE_SQUARE_BRACKET},"Indent Line")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(w,w.ID,o.localize("lines.outdent","Outdent Line"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.US_OPEN_SQUARE_BRACKET},"Outdent Line")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(v,v.ID,o.localize("lines.insertBefore","Insert Line Above"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.Enter},"Insert Line Above")),m.CommonEditorRegistry.registerEditorAction(new m.EditorActionDescriptor(M,M.ID,o.localize("lines.insertAfter","Insert Line Below"),{context:m.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.Enter},"Insert Line Below"))});