define(["require","exports","vs/editor/common/core/editOperation","vs/editor/common/core/range"],function(e,n,t,r){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function i(e,n,t){var r=n.startLineNumber,i=n.endLineNumber;if(1===n.endColumn&&i--,r>=i)return null;for(var o=[],u=r;u<=i;u++)o.push(e.getLineContent(u));var a=o.slice(0);return a.sort(function(e,n){return e.toLowerCase().localeCompare(n.toLowerCase())}),t===!0&&(a=a.reverse()),{startLineNumber:r,endLineNumber:i,before:o,after:a}}function o(e,n,o){var u=i(e,n,o);return u?t.EditOperation.replace(new r.Range(u.startLineNumber,1,u.endLineNumber,e.getLineMaxColumn(u.endLineNumber)),u.after.join("\n")):null}var u=function(){function e(e,n){this.selection=e,this.descending=n}return e.prototype.getEditOperations=function(e,n){var t=o(e,this.selection,this.descending);t&&n.addEditOperation(t.range,t.text),this.selectionId=n.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,n){return n.getTrackedSelection(this.selectionId)},e.canRun=function(e,n,t){var r=i(e,n,t);if(!r)return!1;for(var o=0,u=r.before.length;o<u;o++)if(r.before[o]!==r.after[o])return!0;return!1},e}();n.SortLinesCommand=u});