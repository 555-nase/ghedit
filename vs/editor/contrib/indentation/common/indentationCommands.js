/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
define(["require","exports","vs/editor/common/core/range"],function(t,e,n){"use strict";function i(t,e,i,o){if(1!==t.getLineCount()||1!==t.getLineMaxColumn(1)){for(var r="",s=0;s<i;s++)r+=" ";for(var c=t.getLinesContent(),s=0;s<c.length;s++){var a=t.getLineFirstNonWhitespaceColumn(s+1);0===a&&(a=t.getLineMaxColumn(s+1));var u=(o?c[s].substr(0,a).replace(/\t/gi,r):c[s].substr(0,a).replace(new RegExp(r,"gi"),"\t"))+c[s].substr(a);e.addEditOperation(new n.Range(s+1,1,s+1,t.getLineMaxColumn(s+1)),u)}}}var o=function(){function t(t,e){this.selection=t,this.tabSize=e}return t.prototype.getEditOperations=function(t,e){this.selectionId=e.trackSelection(this.selection),i(t,e,this.tabSize,!0)},t.prototype.computeCursorState=function(t,e){return e.getTrackedSelection(this.selectionId)},t}();e.IndentationToSpacesCommand=o;var r=function(){function t(t,e){this.selection=t,this.tabSize=e}return t.prototype.getEditOperations=function(t,e){this.selectionId=e.trackSelection(this.selection),i(t,e,this.tabSize,!1)},t.prototype.computeCursorState=function(t,e){return e.getTrackedSelection(this.selectionId)},t}();e.IndentationToTabsCommand=r});