define(["require","exports","vs/editor/common/core/modeTransition","vs/editor/common/modes/languageConfigurationRegistry","vs/editor/common/model/wordHelper"],function(e,n,t,o,i){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var r=function(){function e(){}return e._safeGetWordDefinition=function(e){return o.LanguageConfigurationRegistry.getWordDefinition(e.getId())},e.massageWordDefinitionOf=function(n){return i.ensureValidWordDefinition(e._safeGetWordDefinition(n))},e._getWordAtColumn=function(n,t,o,r){var d=r[o].startIndex,u=o+1<r.length?r[o+1].startIndex:n.length,s=r[o].mode;return i.getWordAtText(t,e.massageWordDefinitionOf(s),n.substring(d,u),d)},e.getWordAtPosition=function(n,o){if(!n._lineIsTokenized(o.lineNumber))return i.getWordAtText(o.column,e.massageWordDefinitionOf(n.getMode()),n.getLineContent(o.lineNumber),0);var r=null,d=n.getLineContent(o.lineNumber),u=n._getLineModeTransitions(o.lineNumber),s=o.column-1,g=t.ModeTransition.findIndexInSegmentsArray(u,s);return r=e._getWordAtColumn(d,o.column,g,u),!r&&g>0&&u[g].startIndex===s&&(r=e._getWordAtColumn(d,o.column,g-1,u)),r},e}();n.WordHelper=r});