define(["require","exports","vs/base/common/strings","vs/platform/platform"],function(t,e,n,i){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function s(t,e){var n=t.getLineContent(e.lineNumber).substr(0,e.column-1),i=n.match(/[^\s]+$/);return i?i[0]:""}e.Extensions={Snippets:"base.contributions.snippets"};var r=function(){function t(){this._snippets=Object.create(null)}return t.prototype.registerSnippets=function(t,e,n){void 0===n&&(n="");var i=this._snippets[t];i||(this._snippets[t]=i={}),i[n]=e},t.prototype.visitSnippets=function(t,e){var n=this._snippets[t];if(n)for(var i in n){var s=n[i].every(e);if(!s)return}},t.prototype.getSnippetCompletions=function(t,e,i){var r=t.getModeId();if(this._snippets[r]){var o=t.getWordAtPosition(e),p=o?o.word.substring(0,e.column-o.startColumn).toLowerCase():"",a=s(t,e).toLowerCase();this.visitSnippets(r,function(t){var e;if(0===p.length&&0===a.length)e=0;else{var s=t.prefix.toLowerCase();if(p.length>0&&n.startsWith(s,p))e=p.length;else{if(!(a.length>p.length&&n.startsWith(s,a)))return!0;e=a.length}}return i.push({type:"snippet",label:t.prefix,documentationLabel:t.description,codeSnippet:t.codeSnippet,noAutoAccept:!0,overwriteBefore:e}),!0})}},t}();e.getNonWhitespacePrefix=s;var o=new r;i.Registry.add(e.Extensions.Snippets,o)});