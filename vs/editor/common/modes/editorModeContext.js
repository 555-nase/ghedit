define(["require","exports","vs/base/common/lifecycle","vs/editor/common/modes","vs/editor/common/editorCommon"],function(e,i,t,s,o){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var r=function(){function e(e,i){var t=this;this._disposables=[],this._editor=e,this._hasCompletionItemProvider=i.createKey(o.ModeContextKeys.hasCompletionItemProvider,void 0),this._hasCodeActionsProvider=i.createKey(o.ModeContextKeys.hasCodeActionsProvider,void 0),this._hasCodeLensProvider=i.createKey(o.ModeContextKeys.hasCodeLensProvider,void 0),this._hasDefinitionProvider=i.createKey(o.ModeContextKeys.hasDefinitionProvider,void 0),this._hasHoverProvider=i.createKey(o.ModeContextKeys.hasHoverProvider,void 0),this._hasDocumentHighlightProvider=i.createKey(o.ModeContextKeys.hasDocumentHighlightProvider,void 0),this._hasDocumentSymbolProvider=i.createKey(o.ModeContextKeys.hasDocumentSymbolProvider,void 0),this._hasReferenceProvider=i.createKey(o.ModeContextKeys.hasReferenceProvider,void 0),this._hasRenameProvider=i.createKey(o.ModeContextKeys.hasRenameProvider,void 0),this._hasFormattingProvider=i.createKey(o.ModeContextKeys.hasFormattingProvider,void 0),this._hasSignatureHelpProvider=i.createKey(o.ModeContextKeys.hasSignatureHelpProvider,void 0),this._disposables.push(e.onDidChangeModel(function(){return t._update()})),this._disposables.push(e.onDidChangeModelMode(function(){return t._update()})),s.SuggestRegistry.onDidChange(this._update,this,this._disposables),s.CodeActionProviderRegistry.onDidChange(this._update,this,this._disposables),s.CodeLensProviderRegistry.onDidChange(this._update,this,this._disposables),s.DefinitionProviderRegistry.onDidChange(this._update,this,this._disposables),s.HoverProviderRegistry.onDidChange(this._update,this,this._disposables),s.DocumentHighlightProviderRegistry.onDidChange(this._update,this,this._disposables),s.DocumentSymbolProviderRegistry.onDidChange(this._update,this,this._disposables),s.ReferenceProviderRegistry.onDidChange(this._update,this,this._disposables),s.RenameProviderRegistry.onDidChange(this._update,this,this._disposables),s.DocumentFormattingEditProviderRegistry.onDidChange(this._update,this,this._disposables),s.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this,this._disposables),s.SignatureHelpProviderRegistry.onDidChange(this._update,this,this._disposables),this._update()}return e.prototype.dispose=function(){this._disposables=t.dispose(this._disposables)},e.prototype.reset=function(){this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasFormattingProvider.reset(),this._hasSignatureHelpProvider.reset()},e.prototype._update=function(){var e=this._editor.getModel();return e?(this._hasCompletionItemProvider.set(s.SuggestRegistry.has(e)),this._hasCodeActionsProvider.set(s.CodeActionProviderRegistry.has(e)),this._hasCodeLensProvider.set(s.CodeLensProviderRegistry.has(e)),this._hasDefinitionProvider.set(s.DefinitionProviderRegistry.has(e)),this._hasHoverProvider.set(s.HoverProviderRegistry.has(e)),this._hasDocumentHighlightProvider.set(s.DocumentHighlightProviderRegistry.has(e)),this._hasDocumentSymbolProvider.set(s.DocumentSymbolProviderRegistry.has(e)),this._hasReferenceProvider.set(s.ReferenceProviderRegistry.has(e)),this._hasRenameProvider.set(s.RenameProviderRegistry.has(e)),this._hasSignatureHelpProvider.set(s.SignatureHelpProviderRegistry.has(e)),void this._hasFormattingProvider.set(s.DocumentFormattingEditProviderRegistry.has(e)||s.DocumentRangeFormattingEditProviderRegistry.has(e))):void this.reset()},e}();i.EditorModeContext=r});