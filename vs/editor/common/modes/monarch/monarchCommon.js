define(["require","exports"],function(n,e){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function t(n){return!n}function r(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function u(n){return n.replace(/[&<>'"_]/g,"-")}function o(n,e){console.log(n.languageId+": "+e)}function s(n,e){throw new Error(n.languageId+": "+e)}function a(n,e,u,o,s){var a=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,i=null;return e.replace(a,function(e,a,l,c,f,g,h,d,p){return t(l)?t(c)?!t(f)&&f<o.length?r(n,o[f]):!t(h)&&n&&"string"==typeof n[h]?n[h]:(null===i&&(i=s.split("."),i.unshift(s)),!t(g)&&g<i.length?r(n,i[g]):""):r(n,u):"$"})}function i(n,e){for(;e&&e.length>0;){var t=n.tokenizer[e];if(t)return t;var r=e.lastIndexOf(".");e=r<0?null:e.substr(0,r)}return null}function l(n,e){for(;e&&e.length>0;){var t=n.stateNames[e];if(t)return!0;var r=e.lastIndexOf(".");e=r<0?null:e.substr(0,r)}return!1}!function(n){n[n.None=0]="None",n[n.Open=1]="Open",n[n.Close=-1]="Close"}(e.MonarchBracket||(e.MonarchBracket={}));e.MonarchBracket;e.empty=t,e.fixCase=r,e.sanitize=u,e.log=o,e.throwError=s,e.substituteMatches=a,e.findRules=i,e.stateExists=l});