define(["require","exports","vs/base/common/lifecycle","vs/base/browser/dom","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser"],function(o,t,e,r,i,s,l){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function n(o,t,e){o.hasOwnProperty(e)&&(t[e]=o[e])}var a=function(){function o(o,t,e,a,c){var h=this;this.toDispose=[],this.configuration=o,this.privateViewEventBus=t,this.linesContent=e;var u=this.configuration.editor.viewInfo.scrollbar,p={canUseTranslate3d:this.configuration.editor.viewInfo.canUseTranslate3d,listenOnDomNode:a,vertical:u.vertical,horizontal:u.horizontal,className:l.ClassNames.SCROLLABLE_ELEMENT+" "+this.configuration.editor.viewInfo.theme,useShadows:!1,lazyRender:!0,saveLastScrollTimeOnClassName:l.ClassNames.VIEW_LINE};n(u,p,"verticalHasArrows"),n(u,p,"horizontalHasArrows"),n(u,p,"verticalScrollbarSize"),n(u,p,"verticalSliderSize"),n(u,p,"horizontalScrollbarSize"),n(u,p,"horizontalSliderSize"),n(u,p,"handleMouseWheel"),n(u,p,"arrowSize"),n(u,p,"mouseWheelScrollSensitivity"),this.scrollbar=new i.ScrollableElement(e,p),this.onLayoutInfoChanged(),this.toDispose.push(this.scrollbar),this.toDispose.push(this.scrollbar.onScroll(function(o){h.privateViewEventBus.emit(s.EventType.ViewScrollChanged,o)})),this.toDispose.push(this.configuration.onDidChange(function(o){if(h.scrollbar.updateClassName(l.ClassNames.SCROLLABLE_ELEMENT+" "+h.configuration.editor.viewInfo.theme),o.viewInfo.scrollbar||o.viewInfo.canUseTranslate3d){var t={canUseTranslate3d:h.configuration.editor.viewInfo.canUseTranslate3d,handleMouseWheel:h.configuration.editor.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:h.configuration.editor.viewInfo.scrollbar.mouseWheelScrollSensitivity};h.scrollbar.updateOptions(t)}}));var f=function(o,t,e){var r={};if(t){var i=o.scrollTop;i&&(r.scrollTop=h.getScrollTop()+i,o.scrollTop=0)}if(e){var s=o.scrollLeft;s&&(r.scrollLeft=h.getScrollLeft()+s,o.scrollLeft=0)}h.setScrollPosition(r)};this.toDispose.push(r.addDisposableListener(a,"scroll",function(o){return f(a,!0,!0)})),this.toDispose.push(r.addDisposableListener(e,"scroll",function(o){return f(e,!0,!1)})),this.toDispose.push(r.addDisposableListener(c,"scroll",function(o){return f(c,!0,!1)}))}return o.prototype.dispose=function(){this.toDispose=e.dispose(this.toDispose)},o.prototype.renderScrollbar=function(){this.scrollbar.renderNow()},o.prototype.onLayoutInfoChanged=function(){this.scrollbar.updateState({width:this.configuration.editor.layoutInfo.contentWidth,height:this.configuration.editor.layoutInfo.contentHeight})},o.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},o.prototype.getScrollbarContainerDomNode=function(){return this.scrollbar.getDomNode()},o.prototype.delegateVerticalScrollbarMouseDown=function(o){this.scrollbar.delegateVerticalScrollbarMouseDown(o)},o.prototype.getWidth=function(){return this.scrollbar.getWidth()},o.prototype.getScrollWidth=function(){return this.scrollbar.getScrollWidth()},o.prototype.getScrollLeft=function(){return this.scrollbar.getScrollLeft()},o.prototype.getHeight=function(){return this.scrollbar.getHeight()},o.prototype.getScrollHeight=function(){return this.scrollbar.getScrollHeight()},o.prototype.getScrollTop=function(){return this.scrollbar.getScrollTop()},o.prototype.setScrollPosition=function(o){this.scrollbar.updateState(o)},o.prototype.setScrollHeight=function(o){this.scrollbar.updateState({scrollHeight:o})},o.prototype.setScrollWidth=function(o){this.scrollbar.updateState({scrollWidth:o})},o}();t.ScrollManager=a});