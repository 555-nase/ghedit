var __extends=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)};define(["require","exports","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/base/common/async","vs/editor/browser/standalone/standaloneCodeEditor","vs/base/common/scrollable","vs/editor/browser/standalone/standaloneServices","vs/platform/instantiation/common/instantiation","vs/platform/instantiation/common/serviceCollection","vs/platform/instantiation/common/instantiationService","vs/editor/browser/standalone/colorizer","vs/editor/browser/standalone/simpleServices","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/contrib/diffNavigator/common/diffNavigator","./standaloneSchemas","vs/css!./media/standalone-tokens"],function(e,r,t,i,n,o,a,s,c,l,u,d,f,v,S){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";function E(e){var r={};if(e)for(var t=Object.keys(e),i=0,n=t.length;i<n;i++){var o=t[i];r[o]=e[o]}return r}function I(e){return o.startup.setupServices(e)}function _(e,r,t){o.startup.initStaticServicesIfNecessary(),t=E(t);var i=null;t&&t.editorService||(i=new f.SimpleEditorService,t.editorService=i);var n=p(e,t),a=n.ctx.instantiationService.createInstance(o.StandaloneEditor,e,r,n.toDispose);return i&&i.setEditor(a),a}function g(e,r,t){o.startup.initStaticServicesIfNecessary(),t=E(t);var i=null;t&&t.editorService||(i=new f.SimpleEditorService,t.editorService=i);var n=p(e,t),a=n.ctx.instantiationService.createInstance(o.StandaloneDiffEditor,e,r,n.toDispose);return i&&i.setEditor(a),a}function m(e,r){return new S.DiffNavigator(e,r)}function p(e,r){r=s.ensureStaticPlatformServices(r);var t=s.ensureDynamicPlatformServices(e,r),i=new l.ServiceCollection;for(var n in r)if(r.hasOwnProperty(n)){var o=c.createDecorator(n),a=r[n];i.set(o,a)}return r.instantiationService=new u.InstantiationService(i),{ctx:r,toDispose:t}}function N(e,r,t){var i=s.ensureStaticPlatformServices(null).modelService;return i.createModel(e,r,t)}function O(e,r,t){o.startup.initStaticServicesIfNecessary(),e=e||"";var i=s.ensureStaticPlatformServices(null).modeService;if(!r){var n=t?t.path:null,a=e.indexOf("\n"),c=e;return a!==-1&&(c=e.substring(0,a)),N(e,i.getOrCreateModeByFilenameOrFirstLine(n,c),t)}return N(e,i.getOrCreateMode(r),t)}function T(e,r){o.startup.initStaticServicesIfNecessary();var t=s.ensureStaticPlatformServices(null).modeService;e.setMode(t.getOrCreateMode(r))}function C(e,r,t){o.startup.initStaticServicesIfNecessary();var i=s.ensureStaticPlatformServices(null).markerService;i.changeOne(r,e.uri,t)}function y(e){o.startup.initStaticServicesIfNecessary();var r=s.ensureStaticPlatformServices(null).modelService;return r.getModel(e)}function M(){o.startup.initStaticServicesIfNecessary();var e=s.ensureStaticPlatformServices(null).modelService;return e.getModels()}function D(e){o.startup.initStaticServicesIfNecessary();var r=s.ensureStaticPlatformServices(null).modelService;return r.onModelAdded(e)}function P(e){o.startup.initStaticServicesIfNecessary();var r=s.ensureStaticPlatformServices(null).modelService;return r.onModelRemoved(e)}function h(e){o.startup.initStaticServicesIfNecessary();var r=s.ensureStaticPlatformServices(null).modelService;return r.onModelModeChanged(function(r){e({model:r.model,oldLanguage:r.oldModeId})})}function L(e){o.startup.initStaticServicesIfNecessary();var r=s.ensureStaticPlatformServices(null).modeService;return r.getOrCreateMode(e)}function w(e,r){o.startup.initStaticServicesIfNecessary();var t=s.ensureStaticPlatformServices(null).modeService;t.configureModeById(e,r)}function R(e){o.startup.initStaticServicesIfNecessary();var r=s.ensureStaticPlatformServices(null),t=r.modelService;return new k(t,e)}function b(e,r){o.startup.initStaticServicesIfNecessary();var t=s.ensureStaticPlatformServices(null).modeService;return d.Colorizer.colorizeElement(t,e,r)}function x(e,r,t){o.startup.initStaticServicesIfNecessary();var i=s.ensureStaticPlatformServices(null).modeService;return d.Colorizer.colorize(i,e,r,t)}function B(e,r,t){return void 0===t&&(t=4),d.Colorizer.colorizeModelLine(e,r,t)}function W(){return{create:_,createDiffEditor:g,createDiffNavigator:m,createModel:O,setModelLanguage:T,setModelMarkers:C,getModels:M,getModel:y,onDidCreateModel:D,onWillDisposeModel:P,onDidChangeModelLanguage:h,createWebWorker:R,colorizeElement:b,colorize:x,colorizeModelLine:B,ScrollbarVisibility:a.ScrollbarVisibility,WrappingIndent:t.WrappingIndent,OverviewRulerLane:t.OverviewRulerLane,EndOfLinePreference:t.EndOfLinePreference,DefaultEndOfLine:t.DefaultEndOfLine,EndOfLineSequence:t.EndOfLineSequence,TrackedRangeStickiness:t.TrackedRangeStickiness,CursorChangeReason:t.CursorChangeReason,MouseTargetType:t.MouseTargetType,TextEditorCursorStyle:t.TextEditorCursorStyle,TextEditorCursorBlinkingStyle:t.TextEditorCursorBlinkingStyle,ContentWidgetPositionPreference:i.ContentWidgetPositionPreference,OverlayWidgetPositionPreference:i.OverlayWidgetPositionPreference,InternalEditorScrollbarOptions:t.InternalEditorScrollbarOptions,EditorWrappingInfo:t.EditorWrappingInfo,InternalEditorViewOptions:t.InternalEditorViewOptions,EditorContribOptions:t.EditorContribOptions,InternalEditorOptions:t.InternalEditorOptions,OverviewRulerPosition:t.OverviewRulerPosition,EditorLayoutInfo:t.EditorLayoutInfo,BareFontInfo:t.BareFontInfo,FontInfo:t.FontInfo,EditorType:t.EditorType,CursorMoveByUnit:t.CursorMoveByUnit,CursorMovePosition:t.CursorMovePosition,Handler:t.Handler,KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS:t.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS,KEYBINDING_CONTEXT_EDITOR_FOCUS:t.KEYBINDING_CONTEXT_EDITOR_FOCUS,KEYBINDING_CONTEXT_EDITOR_READONLY:t.KEYBINDING_CONTEXT_EDITOR_READONLY,KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS:t.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS,KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION:t.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION,KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID:t.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID}}r.setupServices=I,r.create=_,r.createDiffEditor=g,r.createDiffNavigator=m,r.createModel=O,r.setModelLanguage=T,r.setModelMarkers=C,r.getModel=y,r.getModels=M,r.onDidCreateModel=D,r.onWillDisposeModel=P,r.onDidChangeModelLanguage=h,r.getOrCreateMode=L,r.configureMode=w;var k=function(e){function r(r,t){e.call(this,r),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignProxy=null}return __extends(r,e),r.prototype._getForeignProxy=function(){var e=this;return this._foreignProxy||(this._foreignProxy=new n.ShallowCancelThenPromise(this._getProxy().then(function(r){return r.loadForeignModule(e._foreignModuleId,e._foreignModuleCreateData).then(function(t){e._foreignModuleId=null,e._foreignModuleCreateData=null;for(var i=function(e,t){return r.fmr(e,t)},n=function(e,r){return function(){var t=Array.prototype.slice.call(arguments,0);return r(e,t)}},o={},a=0;a<t.length;a++)o[t[a]]=n(t[a],i);return o})}))),this._foreignProxy},r.prototype.getProxy=function(){return this._getForeignProxy()},r.prototype.withSyncedResources=function(e){var r=this;return this._withSyncedResources(e).then(function(e){return r.getProxy()})},r}(v.EditorWorkerClient);r.MonacoWebWorkerImpl=k,r.createWebWorker=R,r.colorizeElement=b,r.colorize=x,r.colorizeModelLine=B,r.createMonacoEditorAPI=W});