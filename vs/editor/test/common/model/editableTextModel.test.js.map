{"version":3,"file":"vs/editor/test/common/model/editableTextModel.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/editor/test/common/model/editableTextModel.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as assert from 'assert';\nimport {Range} from 'vs/editor/common/core/range';\nimport {EndOfLinePreference, EndOfLineSequence, EventType, IIdentifiedSingleEditOperation, IModelContentChangedEvent2} from 'vs/editor/common/editorCommon';\nimport {EditableTextModel, IValidatedEditOperation} from 'vs/editor/common/model/editableTextModel';\nimport {MirrorModel2} from 'vs/editor/common/model/mirrorModel2';\nimport {TextModel} from 'vs/editor/common/model/textModel';\nimport {assertSyncedModels, testApplyEditsWithSyncedModels} from 'vs/editor/test/common/model/editableTextModelTestUtils';\n\nsuite('EditorModel - EditableTextModel._getInverseEdits', () => {\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, rangeLength: number, text:string[]): IValidatedEditOperation {\n\t\treturn {\n\t\t\tsortIndex: 0,\n\t\t\tidentifier: null,\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\trangeLength: rangeLength,\n\t\t\tlines: text,\n\t\t\tforceMoveMarkers: false\n\t\t};\n\t}\n\n\tfunction inverseEditOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number): Range {\n\t\treturn new Range(startLineNumber, startColumn, endLineNumber, endColumn);\n\t}\n\n\tfunction assertInverseEdits(ops:IValidatedEditOperation[], expected:Range[]): void {\n\t\tvar actual = EditableTextModel._getInverseEditRanges(ops);\n\t\tassert.deepEqual(actual, expected);\n\t}\n\n\ttest('single insert', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, ['hello'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Bug 19872: Undo is funky', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 2, 0, ['']),\n\t\t\t\teditOp(3, 1, 4, 2, 0, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(2, 1, 2, 1),\n\t\t\t\tinverseEditOp(3, 1, 3, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single unrelated inserts', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, ['hello']),\n\t\t\t\teditOp(2, 1, 2, 1, 0, ['world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6),\n\t\t\t\tinverseEditOp(2, 1, 2, 6)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single inserts 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, ['hello']),\n\t\t\t\teditOp(1, 2, 1, 2, 0, ['world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6),\n\t\t\t\tinverseEditOp(1, 7, 1, 12)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single inserts 2', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, ['hello']),\n\t\t\t\teditOp(1, 4, 1, 4, 0, ['world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6),\n\t\t\t\tinverseEditOp(1, 9, 1, 14)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline insert', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, ['hello', 'world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 2, 6)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two unrelated multiline inserts', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, ['hello', 'world']),\n\t\t\t\teditOp(2, 1, 2, 1, 0, ['how', 'are', 'you?']),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 2, 6),\n\t\t\t\tinverseEditOp(3, 1, 5, 5),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two multiline inserts 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, ['hello', 'world']),\n\t\t\t\teditOp(1, 2, 1, 2, 0, ['how', 'are', 'you?']),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 2, 6),\n\t\t\t\tinverseEditOp(2, 7, 4, 5),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('single delete', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, 0, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single unrelated deletes', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, 0, null),\n\t\t\t\teditOp(2, 1, 2, 6, 0, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(2, 1, 2, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single deletes 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, 0, null),\n\t\t\t\teditOp(1, 7, 1, 12, 0, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(1, 2, 1, 2)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single deletes 2', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, 0, null),\n\t\t\t\teditOp(1, 9, 1, 14, 0, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(1, 4, 1, 4)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline delete', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 2, 6, 0, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two unrelated multiline deletes', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 2, 6, 0, null),\n\t\t\t\teditOp(3, 1, 5, 5, 0, null),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(2, 1, 2, 1),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two multiline deletes 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 2, 6, 0, null),\n\t\t\t\teditOp(2, 7, 4, 5, 0, null),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(1, 2, 1, 2),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('single replace', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, 0, ['Hello world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 12)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two replaces', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, 0, ['Hello world']),\n\t\t\t\teditOp(1, 7, 1, 8, 0, ['How are you?']),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 12),\n\t\t\t\tinverseEditOp(1, 13, 1, 25)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('many edits', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, 0, ['', '  ']),\n\t\t\t\teditOp(1, 5, 1, 6, 0, ['']),\n\t\t\t\teditOp(1, 9, 1, 9, 0, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 2, 2, 3),\n\t\t\t\tinverseEditOp(2, 6, 2, 6),\n\t\t\t\tinverseEditOp(2, 9, 3, 1)\n\t\t\t]\n\t\t);\n\t});\n});\n\nsuite('EditorModel - EditableTextModel._toSingleEditOperation', () => {\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, rangeLength:number, text:string[]): IValidatedEditOperation {\n\t\treturn {\n\t\t\tsortIndex: 0,\n\t\t\tidentifier: null,\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\trangeLength: rangeLength,\n\t\t\tlines: text,\n\t\t\tforceMoveMarkers: false\n\t\t};\n\t}\n\n\tfunction testSimpleApplyEdits(original:string[], edits:IValidatedEditOperation[], expected:IValidatedEditOperation): void {\n\t\tlet model = new EditableTextModel([], TextModel.toRawText(original.join('\\n'), TextModel.DEFAULT_CREATION_OPTIONS), null);\n\t\tmodel.setEOL(EndOfLineSequence.LF);\n\n\t\tlet actual = model._toSingleEditOperation(edits);\n\t\tassert.deepEqual(actual, expected);\n\n\t\tmodel.dispose();\n\t}\n\n\ttest('one edit op is unchanged', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, 0, [' new line', 'No longer'])\n\t\t\t],\n\t\t\teditOp(1, 3, 1, 3, 0, [' new line', 'No longer'])\n\t\t);\n\t});\n\n\ttest('two edits on one line', () => {\n\t\ttestSimpleApplyEdits([\n\t\t\t'My First Line',\n\t\t\t'\\t\\tMy Second Line',\n\t\t\t'    Third Line',\n\t\t\t'',\n\t\t\t'1'\n\t\t], [\n\t\t\teditOp(1, 1, 1, 3, 0, ['Your']),\n\t\t\teditOp(1, 4, 1, 4, 0, ['Interesting ']),\n\t\t\teditOp(2, 3, 2, 6, 0, null)\n\t\t],\n\t\teditOp(1, 1, 2, 6, 19, [\n\t\t\t'Your Interesting First Line',\n\t\t\t'\\t\\t'\n\t\t]));\n\t});\n\n\ttest('insert multiple newlines', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, 0, ['', '', '', '', '']),\n\t\t\t\teditOp(3, 15, 3, 15, 0, ['a', 'b'])\n\t\t\t],\n\t\t\teditOp(1, 3, 3, 15, 43, [\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t' First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Linea',\n\t\t\t\t'b'\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('delete empty text', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, [''])\n\t\t\t],\n\t\t\teditOp(1, 1, 1, 1, 0, [''])\n\t\t);\n\t});\n\n\ttest('two unrelated edits', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 3, 0, ['\\t']),\n\t\t\t\teditOp(3, 1, 3, 5, 0, [''])\n\t\t\t],\n\t\t\teditOp(2, 1, 3, 5, 21, ['\\tMy Second Line', ''])\n\t\t);\n\t});\n\n\ttest('many edits', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t'{\"x\" : 1}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, 0, ['\\n  ']),\n\t\t\t\teditOp(1, 5, 1, 6, 0, ['']),\n\t\t\t\teditOp(1, 9, 1, 9, 0, ['\\n'])\n\t\t\t],\n\t\t\teditOp(1, 2, 1, 9, 7, [\n\t\t\t\t'',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t''\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('many edits reversed', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 3, 0, ['']),\n\t\t\t\teditOp(2, 6, 2, 6, 0, [' ']),\n\t\t\t\teditOp(2, 9, 3, 1, 0, [''])\n\t\t\t],\n\t\t\teditOp(1, 2, 3, 1, 10, ['\"x\" : 1'])\n\t\t);\n\t});\n\n\ttest('replacing newlines 1', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'\"a\": true,',\n\t\t\t\t'',\n\t\t\t\t'\"b\": true',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 1, 0, ['', '\\t']),\n\t\t\t\teditOp(2, 11, 4, 1, 0, ['', '\\t'])\n\t\t\t],\n\t\t\teditOp(1, 2, 4, 1, 13, [\n\t\t\t\t'',\n\t\t\t\t'\\t\"a\": true,',\n\t\t\t\t'\\t'\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('replacing newlines 2', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'some more text',\n\t\t\t\t'now comes an empty line',\n\t\t\t\t'',\n\t\t\t\t'after empty line',\n\t\t\t\t'and the last line'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 5, 3, 1, 0, [' text', 'some more text', 'some more text']),\n\t\t\t\teditOp(3, 2, 4, 1, 0, ['o more lines', 'asd', 'asd', 'asd']),\n\t\t\t\teditOp(5, 1, 5, 6, 0, ['zzzzzzzz']),\n\t\t\t\teditOp(5, 11, 6, 16, 0, ['1', '2', '3', '4'])\n\t\t\t],\n\t\t\teditOp(1, 5, 6, 16, 78, [\n\t\t\t\t' text',\n\t\t\t\t'some more text',\n\t\t\t\t'some more textno more lines',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'zzzzzzzz empt1',\n\t\t\t\t'2',\n\t\t\t\t'3',\n\t\t\t\t'4'\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('advanced', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t' {       \"d\": [',\n\t\t\t\t'             null',\n\t\t\t\t'        ] /*comment*/',\n\t\t\t\t'        ,\"e\": /*comment*/ [null] }',\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, 0, ['']),\n\t\t\t\teditOp(1, 3, 1, 10, 0, ['','  ']),\n\t\t\t\teditOp(1, 16, 2, 14, 0, ['','    ']),\n\t\t\t\teditOp(2, 18, 3, 9, 0, ['','  ']),\n\t\t\t\teditOp(3, 22, 4, 9, 0, ['']),\n\t\t\t\teditOp(4, 10, 4, 10, 0, ['','  ']),\n\t\t\t\teditOp(4, 28, 4, 28, 0, ['','    ']),\n\t\t\t\teditOp(4, 32, 4, 32, 0, ['','  ']),\n\t\t\t\teditOp(4, 33, 4, 34, 0, ['',''])\n\t\t\t],\n\t\t\teditOp(1, 1, 4, 34, 89, [\n\t\t\t\t'{',\n\t\t\t\t'  \"d\": [',\n\t\t\t\t'    null',\n\t\t\t\t'  ] /*comment*/,',\n\t\t\t\t'  \"e\": /*comment*/ [',\n\t\t\t\t'    null',\n\t\t\t\t'  ]',\n\t\t\t\t''\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('advanced simplified', () => {\n\t\ttestSimpleApplyEdits(\n\t\t\t[\n\t\t\t\t'   abc',\n\t\t\t\t' ,def'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 4, 0, ['']),\n\t\t\t\teditOp(1, 7, 2, 2, 0, ['']),\n\t\t\t\teditOp(2, 3, 2, 3, 0, ['', ''])\n\t\t\t],\n\t\t\teditOp(1, 1, 2, 3, 9, [\n\t\t\t\t'abc,',\n\t\t\t\t''\n\t\t\t])\n\t\t);\n\t});\n});\n\nsuite('EditorModel - EditableTextModel.applyEdits', () => {\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text:string[]): IIdentifiedSingleEditOperation {\n\t\treturn {\n\t\t\tidentifier: null,\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\ttext: text.join('\\n'),\n\t\t\tforceMoveMarkers: false\n\t\t};\n\t}\n\n\n\n\ttest('Bug 19872: Undo is funky', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t' A',\n\t\t\t\t'',\n\t\t\t\t' B',\n\t\t\t\t'something else'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 2, ['']),\n\t\t\t\teditOp(3, 1, 4, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'A',\n\t\t\t\t'B',\n\t\t\t\t'something else'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Bug 19872: Undo is funky', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'A',\n\t\t\t\t'B',\n\t\t\t\t'something else'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 1, [' ']),\n\t\t\t\teditOp(3, 1, 3, 1, ['', ' '])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t' A',\n\t\t\t\t'',\n\t\t\t\t' B',\n\t\t\t\t'something else'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert empty text', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('last op is no-op', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(4, 1, 4, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'y First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text without newline 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['foo '])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'foo My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text without newline 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, [' foo'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My foo First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert one newline', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 4, 1, 4, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My ',\n\t\t\t\t'First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text with one newline', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, [' new line', 'No longer'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My new line',\n\t\t\t\t'No longer First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text with two newlines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, [' new line', 'One more line in the middle', 'No longer'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My new line',\n\t\t\t\t'One more line in the middle',\n\t\t\t\t'No longer First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text with many newlines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, ['', '', '', '', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t' First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert multiple newlines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, ['', '', '', '', '']),\n\t\t\t\teditOp(3, 15, 3, 15, ['a', 'b'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t' First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Linea',\n\t\t\t\t'b',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete empty text', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from one line', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'y First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from one line 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 3, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'a First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete all text from a line', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 14, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from two lines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 4, 2, 6, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from many lines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 4, 3, 5, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete everything', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 5, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t''\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two unrelated edits', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 3, ['\\t']),\n\t\t\t\teditOp(3, 1, 3, 5, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two edits on one line', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(5, 3, 5, 7, ['']),\n\t\t\t\teditOp(5, 12, 5, 16, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\tfifth\\t\\t'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('many edits', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'{\"x\" : 1}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, ['\\n  ']),\n\t\t\t\teditOp(1, 5, 1, 6, ['']),\n\t\t\t\teditOp(1, 9, 1, 9, ['\\n'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t'}'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('many edits reversed', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 3, ['']),\n\t\t\t\teditOp(2, 6, 2, 6, [' ']),\n\t\t\t\teditOp(2, 9, 3, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{\"x\" : 1}'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('replacing newlines 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'\"a\": true,',\n\t\t\t\t'',\n\t\t\t\t'\"b\": true',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 1, ['', '\\t']),\n\t\t\t\teditOp(2, 11, 4, 1, ['', '\\t'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'\\t\"a\": true,',\n\t\t\t\t'\\t\"b\": true',\n\t\t\t\t'}'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('replacing newlines 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'some more text',\n\t\t\t\t'now comes an empty line',\n\t\t\t\t'',\n\t\t\t\t'after empty line',\n\t\t\t\t'and the last line'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 5, 3, 1, [' text', 'some more text', 'some more text']),\n\t\t\t\teditOp(3, 2, 4, 1, ['o more lines', 'asd', 'asd', 'asd']),\n\t\t\t\teditOp(5, 1, 5, 6, ['zzzzzzzz']),\n\t\t\t\teditOp(5, 11, 6, 16, ['1', '2', '3', '4'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'some more text',\n\t\t\t\t'some more textno more lines',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'zzzzzzzz empt1',\n\t\t\t\t'2',\n\t\t\t\t'3',\n\t\t\t\t'4ne'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('advanced 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t' {       \"d\": [',\n\t\t\t\t'             null',\n\t\t\t\t'        ] /*comment*/',\n\t\t\t\t'        ,\"e\": /*comment*/ [null] }',\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(1, 3, 1, 10, ['','  ']),\n\t\t\t\teditOp(1, 16, 2, 14, ['','    ']),\n\t\t\t\teditOp(2, 18, 3, 9, ['','  ']),\n\t\t\t\teditOp(3, 22, 4, 9, ['']),\n\t\t\t\teditOp(4, 10, 4, 10, ['','  ']),\n\t\t\t\teditOp(4, 28, 4, 28, ['','    ']),\n\t\t\t\teditOp(4, 32, 4, 32, ['','  ']),\n\t\t\t\teditOp(4, 33, 4, 34, ['',''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"d\": [',\n\t\t\t\t'    null',\n\t\t\t\t'  ] /*comment*/,',\n\t\t\t\t'  \"e\": /*comment*/ [',\n\t\t\t\t'    null',\n\t\t\t\t'  ]',\n\t\t\t\t'}',\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('advanced simplified', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'   abc',\n\t\t\t\t' ,def'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 4, ['']),\n\t\t\t\teditOp(1, 7, 2, 2, ['']),\n\t\t\t\teditOp(2, 3, 2, 3, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'abc,',\n\t\t\t\t'def'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #144', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'package caddy',\n\t\t\t\t'',\n\t\t\t\t'func main() {',\n\t\t\t\t'\\tfmt.Println(\"Hello World! :)\")',\n\t\t\t\t'}',\n\t\t\t\t''\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 6, 1, [\n\t\t\t\t\t'package caddy',\n\t\t\t\t\t'',\n\t\t\t\t\t'import \"fmt\"',\n\t\t\t\t\t'',\n\t\t\t\t\t'func main() {',\n\t\t\t\t\t'\\tfmt.Println(\"Hello World! :)\")',\n\t\t\t\t\t'}',\n\t\t\t\t\t''\n\t\t\t\t])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'package caddy',\n\t\t\t\t'',\n\t\t\t\t'import \"fmt\"',\n\t\t\t\t'',\n\t\t\t\t'func main() {',\n\t\t\t\t'\\tfmt.Println(\"Hello World! :)\")',\n\t\t\t\t'}',\n\t\t\t\t''\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #2586 Replacing selected end-of-line with newline locks up the document', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'interesting'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 10, 2, 1, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'interesting'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #3980', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'class A {',\n\t\t\t\t'    someProperty = false;',\n\t\t\t\t'    someMethod() {',\n\t\t\t\t'    this.someMethod();',\n\t\t\t\t'    }',\n\t\t\t\t'}',\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 8, 1, 9, ['', '']),\n\t\t\t\teditOp(3, 17, 3, 18, ['', '']),\n\t\t\t\teditOp(3, 18, 3, 18, ['    ']),\n\t\t\t\teditOp(4, 5, 4, 5, ['    ']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'class A',\n\t\t\t\t'{',\n\t\t\t\t'    someProperty = false;',\n\t\t\t\t'    someMethod()',\n\t\t\t\t'    {',\n\t\t\t\t'        this.someMethod();',\n\t\t\t\t'    }',\n\t\t\t\t'}',\n\t\t\t]\n\t\t);\n\t});\n\n\tfunction testApplyEditsFails(original:string[], edits:IIdentifiedSingleEditOperation[]): void {\n\t\tlet model = new EditableTextModel([], TextModel.toRawText(original.join('\\n'), TextModel.DEFAULT_CREATION_OPTIONS), null);\n\n\t\tlet hasThrown = false;\n\t\ttry {\n\t\t\tmodel.applyEdits(edits);\n\t\t} catch(err) {\n\t\t\thasThrown = true;\n\t\t}\n\t\tassert.ok(hasThrown, 'expected model.applyEdits to fail.');\n\n\t\tmodel.dispose();\n\t}\n\n\ttest('touching edits: two inserts at the same position', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['a']),\n\t\t\t\teditOp(1, 1, 1, 1, ['b']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'abhello world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: insert and replace touching', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['b']),\n\t\t\t\teditOp(1, 1, 1, 3, ['ab']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'babllo world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('overlapping edits: two overlapping replaces', () => {\n\t\ttestApplyEditsFails(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['b']),\n\t\t\t\teditOp(1, 1, 1, 3, ['ab']),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('overlapping edits: two overlapping deletes', () => {\n\t\ttestApplyEditsFails(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(1, 1, 1, 3, ['']),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: two touching replaces', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['H']),\n\t\t\t\teditOp(1, 2, 1, 3, ['E']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'HEllo world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: two touching deletes', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(1, 2, 1, 3, ['']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'llo world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: insert and replace', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['H']),\n\t\t\t\teditOp(1, 1, 1, 3, ['e']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'Hello world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: replace and insert', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 3, ['H']),\n\t\t\t\teditOp(1, 3, 1, 3, ['e']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'Hello world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('change while emitting events 1', () => {\n\n\t\tassertSyncedModels('Hello', (model, assertMirrorModels) => {\n\t\t\tmodel.applyEdits([{\n\t\t\t\tidentifier: null,\n\t\t\t\trange: new Range(1, 6, 1, 6),\n\t\t\t\ttext: ' world!',\n\t\t\t\tforceMoveMarkers: false\n\t\t\t}]);\n\n\t\t\tassertMirrorModels();\n\n\t\t}, (model) => {\n\t\t\tvar isFirstTime = true;\n\t\t\tmodel.addBulkListener((events) => {\n\t\t\t\tif (!isFirstTime) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tisFirstTime = false;\n\n\t\t\t\tmodel.applyEdits([{\n\t\t\t\t\tidentifier: null,\n\t\t\t\t\trange: new Range(1, 13, 1, 13),\n\t\t\t\t\ttext: ' How are you?',\n\t\t\t\t\tforceMoveMarkers: false\n\t\t\t\t}]);\n\t\t\t});\n\t\t});\n\t});\n\n\ttest('change while emitting events 2', () => {\n\n\t\tassertSyncedModels('Hello', (model, assertMirrorModels) => {\n\t\t\tmodel.applyEdits([{\n\t\t\t\tidentifier: null,\n\t\t\t\trange: new Range(1, 6, 1, 6),\n\t\t\t\ttext: ' world!',\n\t\t\t\tforceMoveMarkers: false\n\t\t\t}]);\n\n\t\t\tassertMirrorModels();\n\n\t\t}, (model) => {\n\t\t\tvar isFirstTime = true;\n\t\t\tmodel.addListener(EventType.ModelContentChanged2, (e:IModelContentChangedEvent2) => {\n\t\t\t\tif (!isFirstTime) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tisFirstTime = false;\n\n\t\t\t\tmodel.applyEdits([{\n\t\t\t\t\tidentifier: null,\n\t\t\t\t\trange: new Range(1, 13, 1, 13),\n\t\t\t\t\ttext: ' How are you?',\n\t\t\t\t\tforceMoveMarkers: false\n\t\t\t\t}]);\n\t\t\t});\n\t\t});\n\t});\n\n\ttest('issue #1580: Changes in line endings are not correctly reflected in the extension host, leading to invalid offsets sent to external refactoring tools', () => {\n\t\tlet model = new EditableTextModel([], TextModel.toRawText('Hello\\nWorld!', TextModel.DEFAULT_CREATION_OPTIONS), null);\n\t\tassert.equal(model.getEOL(), '\\n');\n\n\t\tlet mirrorModel2 = new MirrorModel2(null, model.toRawText().lines, model.toRawText().EOL, model.getVersionId());\n\t\tlet mirrorModel2PrevVersionId = model.getVersionId();\n\n\t\tmodel.addListener(EventType.ModelContentChanged2, (e:IModelContentChangedEvent2) => {\n\t\t\tlet versionId = e.versionId;\n\t\t\tif (versionId < mirrorModel2PrevVersionId) {\n\t\t\t\tconsole.warn('Model version id did not advance between edits (2)');\n\t\t\t}\n\t\t\tmirrorModel2PrevVersionId = versionId;\n\t\t\tmirrorModel2.onEvents([e]);\n\t\t});\n\n\t\tlet assertMirrorModels = () => {\n\t\t\tmodel._assertLineNumbersOK();\n\t\t\tassert.equal(mirrorModel2.getText(), model.getValue(), 'mirror model 2 text OK');\n\t\t\tassert.equal(mirrorModel2.version, model.getVersionId(), 'mirror model 2 version OK');\n\t\t};\n\n\t\tmodel.setEOL(EndOfLineSequence.CRLF);\n\t\tassertMirrorModels();\n\n\t\tmodel.dispose();\n\t\tmirrorModel2.dispose();\n\t});\n});\n\ninterface ILightWeightMarker {\n\tid: string;\n\tlineNumber: number;\n\tcolumn: number;\n\tstickToPreviousCharacter: boolean;\n}\n\nsuite('EditorModel - EditableTextModel.applyEdits & markers', () => {\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text:string[]): IIdentifiedSingleEditOperation {\n\t\treturn {\n\t\t\tidentifier: null,\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\ttext: text.join('\\n'),\n\t\t\tforceMoveMarkers: false\n\t\t};\n\t}\n\n\tfunction marker(id: string, lineNumber:number, column: number, stickToPreviousCharacter: boolean): ILightWeightMarker {\n\t\treturn {\n\t\t\tid: id,\n\t\t\tlineNumber: lineNumber,\n\t\t\tcolumn: column,\n\t\t\tstickToPreviousCharacter: stickToPreviousCharacter\n\t\t};\n\t}\n\n\tfunction toMarkersMap(markers:ILightWeightMarker[]): {[markerId:string]:ILightWeightMarker} {\n\t\tvar result: {[markerId:string]:ILightWeightMarker} = {};\n\t\tmarkers.forEach(m => {\n\t\t\tresult[m.id] = m;\n\t\t});\n\t\treturn result;\n\t}\n\n\tfunction testApplyEditsAndMarkers(text:string[], markers:ILightWeightMarker[], edits:IIdentifiedSingleEditOperation[], changedMarkers:string[], expectedText:string[], expectedMarkers:ILightWeightMarker[]): void {\n\t\tvar textStr = text.join('\\n');\n\t\tvar expectedTextStr = expectedText.join('\\n');\n\t\tvar markersMap = toMarkersMap(markers);\n\t\t// var expectedMarkersMap = toMarkersMap(expectedMarkers);\n\t\tvar markerId2ModelMarkerId = Object.create(null);\n\n\t\tvar model = new EditableTextModel([], TextModel.toRawText(textStr, TextModel.DEFAULT_CREATION_OPTIONS), null);\n\t\tmodel.setEOL(EndOfLineSequence.LF);\n\n\t\t// Add markers\n\t\tmarkers.forEach((m) => {\n\t\t\tlet modelMarkerId = model._addMarker(m.lineNumber, m.column, m.stickToPreviousCharacter);\n\t\t\tmarkerId2ModelMarkerId[m.id] = modelMarkerId;\n\t\t});\n\n\t\t// Apply edits & collect inverse edits\n\t\tmodel.applyEdits(edits);\n\t\tmodel._assertLineNumbersOK();\n\n\t\t// Assert edits produced expected result\n\t\tassert.deepEqual(model.getValue(EndOfLinePreference.LF), expectedTextStr);\n\n\t\tlet actualChangedMarkers: string[] = [];\n\t\tfor (let i = 0, len = expectedMarkers.length; i < len; i++) {\n\t\t\tlet expectedMarker = expectedMarkers[i];\n\t\t\tlet initialMarker = markersMap[expectedMarker.id];\n\t\t\tlet expectedMarkerModelMarkerId = markerId2ModelMarkerId[expectedMarker.id];\n\t\t\tlet actualMarker = model._getMarker(expectedMarkerModelMarkerId);\n\n\t\t\tif (actualMarker.lineNumber !== initialMarker.lineNumber || actualMarker.column !== initialMarker.column) {\n\t\t\t\tactualChangedMarkers.push(initialMarker.id);\n\t\t\t}\n\n\t\t\tassert.equal(actualMarker.lineNumber, expectedMarker.lineNumber, 'marker lineNumber of marker ' + expectedMarker.id);\n\t\t\tassert.equal(actualMarker.column, expectedMarker.column, 'marker column of marker ' + expectedMarker.id);\n\t\t}\n\n\t\tchangedMarkers.sort();\n\t\tactualChangedMarkers.sort();\n\t\tassert.deepEqual(actualChangedMarkers, changedMarkers, 'changed markers');\n\n\t\tmodel.dispose();\n\t}\n\n\ttest('no markers changed', () => {\n\t\ttestApplyEditsAndMarkers(\n\t\t\t[\n\t\t\t\t'Hello world,',\n\t\t\t\t'this is a short text',\n\t\t\t\t'that is used in testing'\n\t\t\t],\n\t\t\t[\n\t\t\t\tmarker('a', 1, 1, true),\n\t\t\t\tmarker('b', 1, 1, false),\n\t\t\t\tmarker('c', 1, 7, false),\n\t\t\t\tmarker('d', 1, 12, true),\n\t\t\t\tmarker('e', 2, 1, false),\n\t\t\t\tmarker('f', 2, 16, true),\n\t\t\t\tmarker('g', 2, 21, true),\n\t\t\t\tmarker('h', 3, 24, false)\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 13, 1, 13, [' how are you?'])\n\t\t\t],\n\t\t\t[],\n\t\t\t[\n\t\t\t\t'Hello world, how are you?',\n\t\t\t\t'this is a short text',\n\t\t\t\t'that is used in testing'\n\t\t\t],\n\t\t\t[\n\t\t\t\tmarker('a', 1, 1, true),\n\t\t\t\tmarker('b', 1, 1, false),\n\t\t\t\tmarker('c', 1, 7, false),\n\t\t\t\tmarker('d', 1, 12, true),\n\t\t\t\tmarker('e', 2, 1, false),\n\t\t\t\tmarker('f', 2, 16, true),\n\t\t\t\tmarker('g', 2, 21, true),\n\t\t\t\tmarker('h', 3, 24, false)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('first line changes', () => {\n\t\ttestApplyEditsAndMarkers(\n\t\t\t[\n\t\t\t\t'Hello world,',\n\t\t\t\t'this is a short text',\n\t\t\t\t'that is used in testing'\n\t\t\t],\n\t\t\t[\n\t\t\t\tmarker('a', 1, 1, true),\n\t\t\t\tmarker('b', 1, 1, false),\n\t\t\t\tmarker('c', 1, 7, false),\n\t\t\t\tmarker('d', 1, 12, true),\n\t\t\t\tmarker('e', 2, 1, false),\n\t\t\t\tmarker('f', 2, 16, true),\n\t\t\t\tmarker('g', 2, 21, true),\n\t\t\t\tmarker('h', 3, 24, false)\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 7, 1, 12, ['friends'])\n\t\t\t],\n\t\t\t[],\n\t\t\t[\n\t\t\t\t'Hello friends,',\n\t\t\t\t'this is a short text',\n\t\t\t\t'that is used in testing'\n\t\t\t],\n\t\t\t[\n\t\t\t\tmarker('a', 1, 1, true),\n\t\t\t\tmarker('b', 1, 1, false),\n\t\t\t\tmarker('c', 1, 7, false),\n\t\t\t\tmarker('d', 1, 12, true),\n\t\t\t\tmarker('e', 2, 1, false),\n\t\t\t\tmarker('f', 2, 16, true),\n\t\t\t\tmarker('g', 2, 21, true),\n\t\t\t\tmarker('h', 3, 24, false)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('inserting lines', () => {\n\t\ttestApplyEditsAndMarkers(\n\t\t\t[\n\t\t\t\t'Hello world,',\n\t\t\t\t'this is a short text',\n\t\t\t\t'that is used in testing'\n\t\t\t],\n\t\t\t[\n\t\t\t\tmarker('a', 1, 1, true),\n\t\t\t\tmarker('b', 1, 1, false),\n\t\t\t\tmarker('c', 1, 7, false),\n\t\t\t\tmarker('d', 1, 12, true),\n\t\t\t\tmarker('e', 2, 1, false),\n\t\t\t\tmarker('f', 2, 16, true),\n\t\t\t\tmarker('g', 2, 21, true),\n\t\t\t\tmarker('h', 3, 24, false)\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 7, 1, 12, ['friends']),\n\t\t\t\teditOp(1, 13, 1, 13, ['', 'this is an inserted line', 'and another one. By the way,'])\n\t\t\t],\n\t\t\t['e','f','g','h'],\n\t\t\t[\n\t\t\t\t'Hello friends,',\n\t\t\t\t'this is an inserted line',\n\t\t\t\t'and another one. By the way,',\n\t\t\t\t'this is a short text',\n\t\t\t\t'that is used in testing'\n\t\t\t],\n\t\t\t[\n\t\t\t\tmarker('a', 1, 1, true),\n\t\t\t\tmarker('b', 1, 1, false),\n\t\t\t\tmarker('c', 1, 7, false),\n\t\t\t\tmarker('d', 1, 12, true),\n\t\t\t\tmarker('e', 4, 1, false),\n\t\t\t\tmarker('f', 4, 16, true),\n\t\t\t\tmarker('g', 4, 21, true),\n\t\t\t\tmarker('h', 5, 24, false)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('replacing a lot', () => {\n\t\ttestApplyEditsAndMarkers(\n\t\t\t[\n\t\t\t\t'Hello world,',\n\t\t\t\t'this is a short text',\n\t\t\t\t'that is used in testing',\n\t\t\t\t'more lines...',\n\t\t\t\t'more lines...',\n\t\t\t\t'more lines...',\n\t\t\t\t'more lines...'\n\t\t\t],\n\t\t\t[\n\t\t\t\tmarker('a', 1, 1, true),\n\t\t\t\tmarker('b', 1, 1, false),\n\t\t\t\tmarker('c', 1, 7, false),\n\t\t\t\tmarker('d', 1, 12, true),\n\t\t\t\tmarker('e', 2, 1, false),\n\t\t\t\tmarker('f', 2, 16, true),\n\t\t\t\tmarker('g', 2, 21, true),\n\t\t\t\tmarker('h', 3, 24, false),\n\t\t\t\tmarker('i', 5, 1, false),\n\t\t\t\tmarker('j', 6, 1, false),\n\t\t\t\tmarker('k', 7, 14, false),\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 7, 1, 12, ['friends']),\n\t\t\t\teditOp(1, 13, 1, 13, ['', 'this is an inserted line', 'and another one. By the way,', 'This is another line']),\n\t\t\t\teditOp(2, 1, 7, 14, ['Some new text here'])\n\t\t\t],\n\t\t\t['e','f','g','h', 'i', 'j', 'k'],\n\t\t\t[\n\t\t\t\t'Hello friends,',\n\t\t\t\t'this is an inserted line',\n\t\t\t\t'and another one. By the way,',\n\t\t\t\t'This is another line',\n\t\t\t\t'Some new text here'\n\t\t\t],\n\t\t\t[\n\t\t\t\tmarker('a', 1, 1, true),\n\t\t\t\tmarker('b', 1, 1, false),\n\t\t\t\tmarker('c', 1, 7, false),\n\t\t\t\tmarker('d', 1, 12, true),\n\t\t\t\tmarker('e', 5, 1, false),\n\t\t\t\tmarker('f', 5, 16, true),\n\t\t\t\tmarker('g', 5, 19, true),\n\t\t\t\tmarker('h', 5, 19, false),\n\t\t\t\tmarker('i', 5, 19, false),\n\t\t\t\tmarker('j', 5, 19, false),\n\t\t\t\tmarker('k', 5, 19, false),\n\t\t\t]\n\t\t);\n\t});\n});\n"]}