{"version":3,"file":"vs/editor/test/common/modes/lineStream.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/editor/test/common/modes/lineStream.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as assert from 'assert';\nimport {LineStream} from 'vs/editor/common/modes/lineStream';\n\nsuite('Editor Modes - LineStream', () => {\n\n\ttest('advanceIf - regex', () => {\n\t\tvar lineStream = new LineStream('...xxx...x.');\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), 'x');\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), 'x');\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), 'x');\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), 'x');\n\t\tassert.equal(lineStream.advanceIfRegExp(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('advanceWhile - regex', () => {\n\t\tvar lineStream = new LineStream('...xxx...x.');\n\t\tassert.equal(lineStream.advanceWhile(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile(/^x/), 'xxx');\n\t\tassert.equal(lineStream.advanceWhile(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile(/^x/), 'x');\n\t\tassert.equal(lineStream.advanceWhile(/^x/), '');\n\t\tlineStream.next();\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('advanceUntil - regex', () => {\n\t\tvar lineStream = new LineStream('...x..xx..x');\n\t\tassert.equal(lineStream.advanceUntil(/^x/, false), '...');\n\t\tassert.equal(lineStream.advanceUntil(/^x/, false), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceUntil(/^x/, false), '..');\n\t\tassert.equal(lineStream.advanceUntil(/^x/, false), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceUntil(/^x/, false), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceUntil(/^x/, false), '..');\n\t\tassert.equal(lineStream.advanceUntil(/^x/, false), '');\n\t\tlineStream.next();\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('advanceUntil - regex (including)', () => {\n\t\tvar lineStream = new LineStream('...x..xx..x');\n\t\tassert.equal(lineStream.advanceUntil(/^x/, true), '...x');\n\t\tassert.equal(lineStream.advanceUntil(/^x/, true), '..x');\n\t\tassert.equal(lineStream.advanceUntil(/^x/, true), 'x');\n\t\tassert.equal(lineStream.advanceUntil(/^x/, true), '..x');\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('advanceIf - string', () => {\n\t\tvar lineStream = new LineStream('...abcabcabc...abc.');\n\t\tassert.equal(lineStream.advanceIfString('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfString('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfString('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfString('abc'), 'abc');\n\t\tassert.equal(lineStream.advanceIfString('abc'), 'abc');\n\t\tassert.equal(lineStream.advanceIfString('abc'), 'abc');\n\t\tassert.equal(lineStream.advanceIfString('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfString('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfString('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceIfString('abc'), 'abc');\n\t\tassert.equal(lineStream.advanceIfString('abc'), '');\n\t\tlineStream.next();\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('advanceWhile - string', () => {\n\t\tvar lineStream = new LineStream('...abcabcabc...abc.');\n\t\tassert.equal(lineStream.advanceWhile('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile('abc'), 'abcabcabc');\n\t\tassert.equal(lineStream.advanceWhile('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile('abc'), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceWhile('abc'), 'abc');\n\t\tassert.equal(lineStream.advanceWhile('abc'), '');\n\t\tlineStream.next();\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('advanceUntil - string', () => {\n\t\tvar lineStream = new LineStream('...abc..ab..abc..bc');\n\t\tassert.equal(lineStream.advanceUntil('abc', false), '...');\n\t\tassert.equal(lineStream.advanceUntil('abc', false), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceUntil('abc', false), 'bc..ab..');\n\t\tassert.equal(lineStream.advanceUntil('abc', false), '');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.advanceUntil('abc', false), 'bc..bc');\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('advanceUntil - string (including)', () => {\n\t\tvar lineStream = new LineStream('...abc..ab..abc..bc');\n\t\tassert.equal(lineStream.advanceUntil('abc', true), '...abc');\n\t\tassert.equal(lineStream.advanceUntil('abc', true), '..ab..abc');\n\t\tassert.equal(lineStream.advanceUntil('abc', true), '..bc');\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('skipWhitespace', () => {\n\t\tvar lineStream = new LineStream('\\ta bc d  \\t   e ');\n\t\tassert.equal(lineStream.skipWhitespace(), '\\t');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.skipWhitespace(), ' ');\n\t\tlineStream.next();\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.skipWhitespace(), ' ');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.skipWhitespace(), '  \\t   ');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.skipWhitespace(), ' ');\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('peekToken', () => {\n\t\tvar lineStream = new LineStream('a b  c edf ');\n\t\tassert.equal(lineStream.peekToken(), 'a');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.peekToken(), 'b');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.peekToken(), 'b');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.peekToken(), 'c');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.peekToken(), 'c');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.peekToken(), 'c');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.peekToken(), 'edf');\n\t\tlineStream.next();\n\t\tassert.equal(lineStream.peekToken(), 'edf');\n\t\tlineStream.next();\n\t\tlineStream.next();\n\t\tlineStream.next();\n\t\tlineStream.next();\n\t\tassert.throws(() => { lineStream.peekToken(); });\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\ttest('nextToken', () => {\n\t\tvar lineStream = new LineStream('a b  c edf ');\n\t\tassert.equal(lineStream.nextToken(), 'a');\n\t\tassert.equal(lineStream.nextToken(), 'b');\n\t\tassert.equal(lineStream.nextToken(), 'c');\n\t\tassert.equal(lineStream.nextToken(), 'edf');\n\t\tassert.equal(lineStream.nextToken(), '');\n\t\tassert.throws(() => { lineStream.nextToken(); });\n\t\tassert.ok(lineStream.eos());\n\t});\n\n\tfunction newTokenStream(source, separators, whitespace) {\n\t\tvar lineStream = new LineStream(source);\n\t\tlineStream.setTokenRules(separators, whitespace);\n\t\treturn lineStream;\n\t}\n\n\tfunction checkPos(lineStream,pos) {\n\t\tassert.equal(lineStream.pos(), pos);\n\t}\n\n\tfunction check(lineStream, pos, token) {\n\t\tcheckPos(lineStream, pos);\n\t\tassert.equal(lineStream.nextToken(), token);\n\t}\n\ttest('corner cases', () => {\n\t\tvar input, lineStream;\n\t\tvar noTokens = (lineStream) => {\n\t\t\tassert.equal(lineStream.pos(), 0);\n\t\t\tassert.ok(lineStream.eos());\n\t\t};\n\n\t\tnoTokens(newTokenStream('', '', ''));\n\t\tnoTokens(newTokenStream('', '', 'x'));\n\t\tnoTokens(newTokenStream('', 'x', ''));\n\t\tnoTokens(newTokenStream('', 'x', 'x'));\n\n\t\tinput = '.....';\n\t\tlineStream = newTokenStream(input, '.', '');\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tcheck(lineStream, i, '.');\n\t\t}\n\n\t\tinput = ' . . . . .';\n\t\tlineStream = newTokenStream(input, '.', ' ');\n\t\tfor (var i = 0; i < input.length / 2; i++) {\n\t\t\tcheck(lineStream, (i * 2) , '.');\n\t\t}\n\n\t\tinput = '. . . . . ';\n\t\tlineStream = newTokenStream(input, '.', ' ');\n\t\tfor (var i = 0; i < input.length / 2; i++) {\n\t\t\tcheck(lineStream, i === 0 ? 0 : (i * 2) - 1, '.');\n\t\t}\n\t});\n\n\ttest('javascript assign', () => {\n\t\tvar lineStream = newTokenStream('  var foo =bar(\"foo\"); //x   ', '+-*/%&|^~!=<>(){}[]\\'\"\\\\/?;,', '\\t ');\n\n\t\tassert.equal(lineStream.pos(), 0);\n\t\tassert.equal(lineStream.peekToken(), 'var');\n\n\t\tcheck(lineStream, 0,\t'var');\n\t\tcheck(lineStream, 5,\t'foo');\n\t\tcheck(lineStream, 9,\t'=');\n\t\tcheck(lineStream, 11,   'bar');\n\t\tcheck(lineStream, 14,   '(');\n\t\tcheck(lineStream, 15,   '\"');\n\t\tcheck(lineStream, 16,   'foo');\n\t\tcheck(lineStream, 19,   '\"');\n\t\tcheck(lineStream, 20,   ')');\n\t\tcheck(lineStream, 21,   ';');\n\t\tcheck(lineStream, 22,   '/');\n\t\tcheck(lineStream, 24,   '/');\n\t\tcheck(lineStream, 25,   'x');\n\t\tcheckPos(lineStream, 26);\n\n\t\tlineStream.skipWhitespace();\n\t\tassert.ok(lineStream.eos(), 'Stream finished');\n\t});\n\n\ttest('javascript strings', () => {\n\t\tvar lineStream = newTokenStream('x = \"  my \\\\\"string\\\\\" \";', '=()\\\\\";/', '\\t ');\n\n\t\tcheck(lineStream, 0, 'x');\n\t\tcheck(lineStream, 1, '=');\n\t\tcheck(lineStream, 3, '\"');\n\t\tcheck(lineStream, 5, 'my');\n\t\tcheck(lineStream, 9, '\\\\');\n\t\tcheck(lineStream, 11, '\"');\n\t\tcheck(lineStream, 12, 'string');\n\t\tcheck(lineStream, 18, '\\\\');\n\t\tcheck(lineStream, 19, '\"');\n\t\tcheck(lineStream, 20, '\"');\n\t\tcheck(lineStream, 22, ';');\n\n\t\tassert.ok(lineStream.eos(), 'Stream finished');\n\t});\n\n\ttest('peek', () => {\n\t\tvar lineStream = newTokenStream('albert, bart, charlie, damon, erich', ',', ' ');\n\n\t\tassert.equal(lineStream.peekToken(), 'albert');\n\t\tassert.equal(lineStream.peek(), 'a');\n\n\t\tassert.equal(lineStream.nextToken(), 'albert');\n\t\tassert.equal(lineStream.nextToken(), ',');\n\n\t\tassert.equal(lineStream.peekToken(), 'bart');\n\t\tassert.equal(lineStream.peek(), ' ');\n\t\tassert.equal(lineStream.nextToken(), 'bart');\n\n\t\tassert.equal(lineStream.peekToken(), ',');\n\t\tassert.equal(lineStream.peek(), ',');\n\t\tassert.equal(lineStream.nextToken(), ',');\n\n\t\tlineStream.advanceToEOS();\n\t\tassert.throws(() => { lineStream.peekToken(); });\n\t\tassert.throws(() => { lineStream.peek(); });\n\t});\n\n\ttest('next', () => {\n\t\tvar lineStream = newTokenStream('albert, bart, charlie, damon, erich', ',', ' ');\n\n\t\tassert.equal(lineStream.peekToken(), 'albert');\n\t\tassert.equal(lineStream.next(), 'a');\n\t\tassert.equal(lineStream.next(), 'l');\n\t\tassert.equal(lineStream.next(), 'b');\n\n\t\tassert.equal(lineStream.nextToken(), 'ert');\n\t\tassert.equal(lineStream.nextToken(), ',');\n\n\t\tassert.equal(lineStream.nextToken(), 'bart');\n\n\t\tassert.equal(lineStream.peekToken(), ',');\n\t\tassert.equal(lineStream.next(), ',');\n\t\tassert.equal(lineStream.next(), ' ');\n\t\tassert.equal(lineStream.next(), 'c');\n\t\tassert.equal(lineStream.next(), 'h');\n\t\tassert.equal(lineStream.next(), 'a');\n\t\tassert.equal(lineStream.next(), 'r');\n\t\tassert.equal(lineStream.next(), 'l');\n\t\tassert.equal(lineStream.next(), 'i');\n\t\tassert.equal(lineStream.next(), 'e');\n\t\tassert.equal(lineStream.next(), ',');\n\n\t\tassert.equal(lineStream.nextToken(), 'damon');\n\n\t\tlineStream.advanceToEOS();\n\t\tassert.throws(() => { lineStream.peekToken(); });\n\t\tassert.throws(() => { lineStream.peek(); });\n\t});\n\n\ttest('next & goBack', () => {\n\t\tvar lineStream = new LineStream('albert, bart, charlie, damon, erich');\n\t\tlineStream.setTokenRules(',', ' ');\n\n\t\tassert.equal(lineStream.peekToken(), 'albert');\n\t\tassert.equal(lineStream.next(), 'a');\n\t\tassert.equal(lineStream.next(), 'l');\n\t\tassert.equal(lineStream.next(), 'b');\n\t\tassert.equal(lineStream.nextToken(), 'ert');\n\t\tlineStream.goBack(6);\n\n\t\tassert.equal(lineStream.nextToken(), 'albert');\n\t\tassert.equal(lineStream.next(), ',');\n\t\tlineStream.goBack(7);\n\n\t\tassert.equal(lineStream.nextToken(), 'albert');\n\t\tassert.equal(lineStream.nextToken(), ',');\n\t\tassert.equal(lineStream.next(), ' ');\n\t\tassert.equal(lineStream.next(), 'b');\n\t\tassert.equal(lineStream.next(), 'a');\n\t\tlineStream.goBack(3);\n\n\t\tassert.equal(lineStream.nextToken(), 'bart');\n\t\tlineStream.goBack(5);\n\n\t\tassert.equal(lineStream.next(), ' ');\n\n\t\tlineStream.advanceToEOS();\n\t\tassert.throws(() => { lineStream.peekToken(); });\n\t\tassert.throws(() => { lineStream.peek(); });\n\t});\n});\n"]}