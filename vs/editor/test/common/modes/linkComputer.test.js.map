{"version":3,"file":"vs/editor/test/common/modes/linkComputer.test.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/editor/test/common/modes/linkComputer.test.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as assert from 'assert';\nimport {ILink} from 'vs/editor/common/modes';\nimport {ILinkComputerTarget, computeLinks} from 'vs/editor/common/modes/linkComputer';\n\nclass SimpleLinkComputerTarget implements ILinkComputerTarget {\n\n\tconstructor(private _lines:string[]) {\n\t\t// Intentional Empty\n\t}\n\n\tpublic getLineCount(): number {\n\t\treturn this._lines.length;\n\t}\n\n\tpublic getLineContent(lineNumber:number): string {\n\t\treturn this._lines[lineNumber - 1];\n\t}\n}\n\nfunction myComputeLinks(lines:string[]): ILink[] {\n\tvar target = new SimpleLinkComputerTarget(lines);\n\treturn computeLinks(target);\n}\n\nfunction assertLink(text:string, extractedLink:string): void {\n\tvar startColumn = 0,\n\t\tendColumn = 0,\n\t\tchr: string,\n\t\ti = 0;\n\n\tfor (i = 0; i < extractedLink.length; i++) {\n\t\tchr = extractedLink.charAt(i);\n\t\tif (chr !== ' ' && chr !== '\\t') {\n\t\t\tstartColumn = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tfor (i = extractedLink.length - 1; i >= 0; i--) {\n\t\tchr = extractedLink.charAt(i);\n\t\tif (chr !== ' ' && chr !== '\\t') {\n\t\t\tendColumn = i + 2;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tvar r = myComputeLinks([text]);\n\tassert.deepEqual(r, [{\n\t\trange: {\n\t\t\tstartLineNumber: 1,\n\t\t\tstartColumn: startColumn,\n\t\t\tendLineNumber: 1,\n\t\t\tendColumn: endColumn\n\t\t},\n\t\turl: extractedLink.substring(startColumn - 1, endColumn - 1)\n\t}]);\n}\n\nsuite('Editor Modes - Link Computer', () => {\n\n\ttest('Null model',() => {\n\t\tvar r = computeLinks(null);\n\t\tassert.deepEqual(r, []);\n\t});\n\n\ttest('Parsing', () => {\n\n\t\tassertLink(\n\t\t\t'x = \"http://foo.bar\";',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = (http://foo.bar);',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = [http://foo.bar];',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = \\'http://foo.bar\\';',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x =  http://foo.bar ;',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = <http://foo.bar>;',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = {http://foo.bar};',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'(see http://foo.bar)',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'[see http://foo.bar]',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'{see http://foo.bar}',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'<see http://foo.bar>',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'<url>http://mylink.com</url>',\n\t\t\t'     http://mylink.com      '\n\t\t);\n\t\tassertLink(\n\t\t\t'// Click here to learn more. http://go.microsoft.com/fwlink/?LinkID=513275&clcid=0x409',\n\t\t\t'                             http://go.microsoft.com/fwlink/?LinkID=513275&clcid=0x409'\n\t\t);\n\t\tassertLink(\n\t\t\t'// Click here to learn more. http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx',\n\t\t\t'                             http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx'\n\t\t);\n\t\tassertLink(\n\t\t\t'// https://github.com/projectkudu/kudu/blob/master/Kudu.Core/Scripts/selectNodeVersion.js',\n\t\t\t'   https://github.com/projectkudu/kudu/blob/master/Kudu.Core/Scripts/selectNodeVersion.js'\n\t\t);\n\t\tassertLink(\n\t\t\t'<!-- !!! Do not remove !!!   WebContentRef(link:http://go.microsoft.com/fwlink/?LinkId=166007, area:Admin, updated:2015, nextUpdate:2016, tags:SqlServer)   !!! Do not remove !!! -->',\n\t\t\t'                                                http://go.microsoft.com/fwlink/?LinkId=166007                                                                                        '\n\t\t);\n\t\tassertLink(\n\t\t\t'For instructions, see http://go.microsoft.com/fwlink/?LinkId=166007.</value>',\n\t\t\t'                      http://go.microsoft.com/fwlink/?LinkId=166007         '\n\t\t);\n\t\tassertLink(\n\t\t\t'For instructions, see http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx.</value>',\n\t\t\t'                      http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx         '\n\t\t);\n\n\t\t// foo bar (see http://www.w3schools.com/tags/att_iframe_sandbox.asp)\n\t});\n});\n"]}