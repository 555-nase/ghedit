var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};define(["require","exports","vs/nls","vs/base/browser/dom","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/widget","vs/base/common/event","vs/css!vs/base/browser/ui/findinput/findInput"],function(t,e,i,o,s,n,h,d){/*---------------------------------------------------------------------------------------------
     *  Copyright (c) Spiffcode, Inc. All rights reserved.
     *  Copyright (c) Microsoft Corporation. All rights reserved.
     *  Licensed under the MIT License. See License.txt in the project root for license information.
     *--------------------------------------------------------------------------------------------*/
"use strict";var a=i.localize("regexDescription","Use Regular Expression"),r=i.localize("wordsDescription","Match Whole Word"),l=i.localize("caseDescription","Match Case"),p=i.localize("defaultLabel","input"),u=function(t){function e(e,i,o){var s=this;t.call(this),this._onDidOptionChange=this._register(new d.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new d.Emitter),this.onKeyDown=this._onKeyDown.event,this._onInput=this._register(new d.Emitter),this.onInput=this._onInput.event,this._onKeyUp=this._register(new d.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCaseSensitiveKeyDown=this._register(new d.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this.contextViewProvider=i,this.width=o.width||100,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||p,this.regex=null,this.wholeWords=null,this.caseSensitive=null,this.domNode=null,this.inputBox=null,this.buildDomNode(o.appendCaseSensitiveLabel||"",o.appendWholeWordsLabel||"",o.appendRegexLabel||""),Boolean(e)&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,function(t){return s._onKeyDown.fire(t)}),this.onkeyup(this.inputBox.inputElement,function(t){return s._onKeyUp.fire(t)}),this.oninput(this.inputBox.inputElement,function(t){return s._onInput.fire()})}return __extends(e,t),e.prototype.enable=function(){o.removeClass(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},e.prototype.disable=function(){o.addClass(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},e.prototype.setEnabled=function(t){t?this.enable():this.disable()},e.prototype.clear=function(){this.clearValidation(),this.setValue(""),this.focus()},e.prototype.setWidth=function(t){this.width=t,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},e.prototype.getValue=function(){return this.inputBox.value},e.prototype.setValue=function(t){this.inputBox.value!==t&&(this.inputBox.value=t)},e.prototype.setMatchCountState=function(t){this.matchCount.setState(t),this.setInputWidth()},e.prototype.select=function(){this.inputBox.select()},e.prototype.focus=function(){this.inputBox.focus()},e.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},e.prototype.setCaseSensitive=function(t){this.caseSensitive.checked=t,this.setInputWidth()},e.prototype.getWholeWords=function(){return this.wholeWords.checked},e.prototype.setWholeWords=function(t){this.wholeWords.checked=t,this.setInputWidth()},e.prototype.getRegex=function(){return this.regex.checked},e.prototype.setRegex=function(t){this.regex.checked=t,this.setInputWidth()},e.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},e.prototype.setInputWidth=function(){var t=this.width-this.matchCount.width();this.inputBox.width=t},e.prototype.buildDomNode=function(t,e,i){var h=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",o.addClass(this.domNode,"monaco-findInput"),this.inputBox=this._register(new s.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null,showMessage:!0}})),this.regex=this._register(new n.Checkbox({actionClassName:"regex",title:a+i,isChecked:!1,onChange:function(t){h._onDidOptionChange.fire(t),t||h.inputBox.focus(),h.setInputWidth(),h.validate()}})),this.regex.domNode.style.visibility="hidden",this.wholeWords=this._register(new n.Checkbox({actionClassName:"whole-word",title:r+e,isChecked:!1,onChange:function(t){h._onDidOptionChange.fire(t),t||h.inputBox.focus(),h.setInputWidth(),h.validate()}})),this.wholeWords.domNode.style.visibility="hidden",this.caseSensitive=this._register(new n.Checkbox({actionClassName:"case-sensitive",title:l+t,isChecked:!1,onChange:function(t){h._onDidOptionChange.fire(t),t||h.inputBox.focus(),h.setInputWidth(),h.validate()},onKeyDown:function(t){h._onCaseSensitiveKeyDown.fire(t)}})),this.caseSensitive.domNode.style.visibility="hidden",this.matchCount=this._register(new c({onClick:function(t){h.inputBox.focus(),t.preventDefault()}})),this.setInputWidth();var d=document.createElement("div");d.className="controls",d.appendChild(this.matchCount.domNode),d.appendChild(this.caseSensitive.domNode),d.appendChild(this.wholeWords.domNode),d.appendChild(this.regex.domNode),this.domNode.appendChild(d)},e.prototype.validate=function(){this.inputBox.validate()},e.prototype.showMessage=function(t){this.inputBox.showMessage(t)},e.prototype.clearMessage=function(){this.inputBox.hideMessage()},e.prototype.clearValidation=function(){this.inputBox.hideMessage()},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e.OPTION_CHANGE="optionChange",e}(h.Widget);e.FindInput=u;var c=function(t){function e(e){t.call(this),this.domNode=document.createElement("div"),this.domNode.className="matchCount",this.setState({isVisible:!1,count:"0",title:""}),this.onclick(this.domNode,e.onClick)}return __extends(e,t),e.prototype.width=function(){return this.isVisible?30:0},e.prototype.setState=function(t){o.clearNode(this.domNode),this.domNode.appendChild(document.createTextNode(t.count)),this.domNode.title=t.title,this.isVisible=t.isVisible,this.isVisible?this.domNode.style.display="block":this.domNode.style.display="none"},e}(h.Widget)});